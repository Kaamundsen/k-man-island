./next.config.js:11:  // Allow Yahoo Finance API
./docs/dump/01_tree_dirs.txt:19:./k-man-island/src/app/analyse
./docs/dump/01_tree_dirs.txt:26:./k-man-island/src/lib/strategies
./docs/dump/01_tree_dirs.txt:27:./k-man-island/src/lib/supabase
./docs/dump/01_tree_dirs.txt:39:./src/app/analyse
./docs/dump/01_tree_dirs.txt:40:./src/app/analyse/[ticker]
./docs/dump/01_tree_dirs.txt:52:./src/app/api/cron
./docs/dump/01_tree_dirs.txt:60:./src/lib/cache
./docs/dump/01_tree_dirs.txt:61:./src/lib/strategies
./docs/dump/01_tree_dirs.txt:62:./src/lib/supabase
./docs/dump/01_tree_dirs.txt:67:./src/lib/notifications
./docs/dump/10_routes_app_router.txt:8:./src/app/analyse/[ticker]/page.tsx
./docs/dump/10_routes_app_router.txt:9:./src/app/analyse/page.tsx
./docs/dump/10_routes_app_router.txt:21:./src/app/api/cron/analyse/route.ts
./docs/docs/dump/00_root_ls.txt:5:-rw-r--r--   1 kyrreamundsen  staff    0 Jan 18 10:12 01_CORE_STRATEGY.md
./README.md:3:Et moderne investment dashboard for Oslo B√∏rs og US Markets med avansert analyse, trade tracking og Dead Money detection.
./README.md:13:- **Beste Muligheter**: Rangert liste av aksjer basert p√• K-Score
./README.md:17:- **Sanntids oppdateringer**: K-Score, signaler (BUY/HOLD/SELL)
./README.md:19:### üìä Dyp Analyse
./README.md:21:- **Profesjonell handelsplan**: Risk/Reward analyse
./README.md:22:- **K-Score tracking**: Visuell fremstilling av score
./README.md:34:- **Automatisk analyse**: Kj√∏res p√• alle aktive trades
./README.md:44:- **Database**: Supabase (PostgreSQL)
./README.md:63:### 3. Sett opp Supabase
./README.md:65:F√∏lg instruksjonene i [SUPABASE_SETUP.md](./SUPABASE_SETUP.md):
./README.md:67:1. Opprett et Supabase prosjekt
./README.md:68:2. Kj√∏r SQL schema fra `src/lib/supabase/schema.sql`
./README.md:76:NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
./README.md:77:NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
./README.md:97:‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analyse/
./README.md:99:‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ page.tsx         # Dyp analyse per aksje
./README.md:105:‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FilterBar.tsx            # Market/Strategy filter
./README.md:117:‚îÇ       ‚îú‚îÄ‚îÄ supabase/
./README.md:118:‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ client.ts            # Supabase client
./README.md:130:‚îî‚îÄ‚îÄ SUPABASE_SETUP.md
./README.md:139:--brand-emerald: #10B981     /* Gr√∏nn - BUY signal, positive */
./README.md:140:--brand-rose: #F43F5E        /* R√∏d - SELL signal, risiko */
./README.md:165:- **K-Scores**: 45-84 (rangert)
./README.md:166:- **Signaler**: BUY, HOLD, SELL
./README.md:174:- Hold Supabase API keys private
./README.md:176:### Supabase RLS (Row Level Security)
./README.md:207:- [ ] **Autentisering**: Supabase Auth for multi-bruker
./README.md:208:- [ ] **Push Varslinger**: Browser notifications for price alerts
./README.md:218:- [ ] **Social**: Del analyser med andre brukere
./README.md:224:### "Failed to fetch" fra Supabase
./README.md:227:- Verifiser Supabase credentials
./ROADMAP.md:13:‚îÇ  ‚îÇ  DATALAG     ‚îÇ    ‚îÇ  ANALYSE     ‚îÇ    ‚îÇ  VARSLING    ‚îÇ      ‚îÇ
./ROADMAP.md:15:‚îÇ  ‚îÇ ‚Ä¢ Historikk  ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ ‚Ä¢ K-Score    ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ ‚Ä¢ M√∏nstre    ‚îÇ      ‚îÇ
./ROADMAP.md:24:‚îÇ  ‚îÇ  Dashboard ‚îÇ Portef√∏lje ‚îÇ Dyp Analyse ‚îÇ Strategier  ‚îÇ       ‚îÇ
./ROADMAP.md:32:## üìä Fase 1: Scoring-system (K-Score validering)
./ROADMAP.md:34:### Hva K-Score B√òR v√¶re basert p√• (akademisk forskning):
./ROADMAP.md:38:#### Ny K-Score formel:
./ROADMAP.md:41:K-SCORE (0-100) = Vektet sum av:
./ROADMAP.md:60:- [ ] Sammenlign med enkel buy-and-hold
./ROADMAP.md:65:## üìà Fase 2: Strategi-spesifikke Scorer
./ROADMAP.md:67:Hver strategi skal ha EGEN scoring uavhengig av K-Score:
./ROADMAP.md:69:### M-TREND Score
./ROADMAP.md:71:Kriterier for h√∏y score:
./ROADMAP.md:79:### M-ASYM Score
./ROADMAP.md:81:Kriterier for h√∏y score:
./ROADMAP.md:89:### REBOUND Score
./ROADMAP.md:91:Kriterier for h√∏y score:
./ROADMAP.md:147:2. **Kj√∏p-varsler**: "EQNR matcher M-Trend kriterier (score 85)"
./ROADMAP.md:172:### Dyp Analyse-side (forbedret):
./ROADMAP.md:223:‚îÇ  ANBEFALING: Hold. RSI 52, ingen salgssignal.              ‚îÇ
./ROADMAP.md:234:- [ ] Validere/fikse K-Score formel
./ROADMAP.md:235:- [ ] Hente historisk data (Yahoo Finance, 2 √•r)
./ROADMAP.md:238:### Sprint 2: Analyse
./ROADMAP.md:239:- [ ] Beregne momentum-score fra historikk
./ROADMAP.md:242:- [ ] Pre-rapport analyse
./ROADMAP.md:251:- [ ] Forbedret Dyp Analyse-side
./ROADMAP.md:280:    volatilityRank: number;
./ROADMAP.md:317:1. **K-Score validert**: Backtestet og bevist at den predikerer avkastning
./.gitignore:1:__pycache__/
./package-lock.json:11:        "@supabase/supabase-js": "^2.47.10",
./package-lock.json:522:    "node_modules/@supabase/auth-js": {
./package-lock.json:524:      "resolved": "https://registry.npmjs.org/@supabase/auth-js/-/auth-js-2.90.1.tgz",
./package-lock.json:534:    "node_modules/@supabase/functions-js": {
./package-lock.json:536:      "resolved": "https://registry.npmjs.org/@supabase/functions-js/-/functions-js-2.90.1.tgz",
./package-lock.json:546:    "node_modules/@supabase/postgrest-js": {
./package-lock.json:548:      "resolved": "https://registry.npmjs.org/@supabase/postgrest-js/-/postgrest-js-2.90.1.tgz",
./package-lock.json:558:    "node_modules/@supabase/realtime-js": {
./package-lock.json:560:      "resolved": "https://registry.npmjs.org/@supabase/realtime-js/-/realtime-js-2.90.1.tgz",
./package-lock.json:573:    "node_modules/@supabase/storage-js": {
./package-lock.json:575:      "resolved": "https://registry.npmjs.org/@supabase/storage-js/-/storage-js-2.90.1.tgz",
./package-lock.json:586:    "node_modules/@supabase/supabase-js": {
./package-lock.json:588:      "resolved": "https://registry.npmjs.org/@supabase/supabase-js/-/supabase-js-2.90.1.tgz",
./package-lock.json:592:        "@supabase/auth-js": "2.90.1",
./package-lock.json:593:        "@supabase/functions-js": "2.90.1",
./package-lock.json:594:        "@supabase/postgrest-js": "2.90.1",
./package-lock.json:595:        "@supabase/realtime-js": "2.90.1",
./package-lock.json:596:        "@supabase/storage-js": "2.90.1"
./package-lock.json:1528:    "node_modules/array.prototype.tosorted": {
./package-lock.json:1530:      "resolved": "https://registry.npmjs.org/array.prototype.tosorted/-/array.prototype.tosorted-1.1.4.tgz",
./package-lock.json:2547:        "file-entry-cache": "^6.0.1",
./package-lock.json:2796:        "array.prototype.tosorted": "^1.1.4",
./package-lock.json:3043:    "node_modules/file-entry-cache": {
./package-lock.json:3045:      "resolved": "https://registry.npmjs.org/file-entry-cache/-/file-entry-cache-6.0.1.tgz",
./package-lock.json:3050:        "flat-cache": "^3.0.4"
./package-lock.json:3086:    "node_modules/flat-cache": {
./package-lock.json:3088:      "resolved": "https://registry.npmjs.org/flat-cache/-/flat-cache-3.2.0.tgz",
./package-lock.json:3563:      "deprecated": "This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.",
./package-lock.json:4272:    "node_modules/lru-cache": {
./package-lock.json:4274:      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
./package-lock.json:4411:      "integrity": "sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==",
./package-lock.json:4778:        "lru-cache": "^10.2.0",
./package-lock.json:4874:        "read-cache": "^1.0.0",
./package-lock.json:5114:    "node_modules/read-cache": {
./package-lock.json:5116:      "resolved": "https://registry.npmjs.org/read-cache/-/read-cache-1.0.0.tgz",
./package.json:12:    "@supabase/supabase-js": "^2.47.10",
./app.py:134:.badge-buy { background: #E2FF3B; color: #1a1a1a; }
./app.py:135:.badge-hold { background: #A3E7D8; color: #1a1a1a; }
./app.py:136:.badge-sell { background: #FFB5B5; color: #1a1a1a; }
./app.py:233:/* Analyse */
./app.py:282:@st.cache_data(ttl=1800)
./app.py:320:            is_buy = (rsi < 55 and close > sma20 and close > sma50 and ema12 > ema26 and five_day > 0)
./app.py:321:            is_sell = rsi > 75 or (close < sma20 and close < sma50)
./app.py:322:            signal = "BUY" if is_buy else "SELL" if is_sell else "HOLD"
./app.py:326:            bullish_score = 0
./app.py:327:            if rsi < 55: bullish_score += 20  # RSI i kj√∏pssone
./app.py:328:            if rsi < 45: bullish_score += 10  # Ekstra bonus for lav RSI
./app.py:329:            if close > sma20: bullish_score += 15  # Over SMA20
./app.py:330:            if close > sma50: bullish_score += 15  # Over SMA50
./app.py:331:            if ema12 > ema26: bullish_score += 15  # Bullish EMA crossover
./app.py:332:            if five_day > 0: bullish_score += 10  # Positiv momentum
./app.py:333:            if five_day > 0.02: bullish_score += 5  # Sterk momentum (+2%)
./app.py:334:            if pot_pct > 5: bullish_score += 10  # God oppside
./app.py:336:            # BUY-signal gir bonus, SELL gir straff
./app.py:337:            if signal == "BUY":
./app.py:338:                prob = min(bullish_score + 15, 95)  # Bonus for √• m√∏te alle kriterier
./app.py:339:            elif signal == "SELL":
./app.py:340:                prob = max(bullish_score - 30, 10)  # Straff for salgssignal
./app.py:342:                prob = max(bullish_score - 10, 20)  # Litt lavere for HOLD
./app.py:354:    # Sorter etter sannsynlighet (h√∏yest f√∏rst), prioriter BUY
./app.py:355:    # Sortering: 1) Signal (BUY f√∏rst), 2) Sannsynlighet (h√∏yest), 3) Gevinstpotensial (h√∏yest)
./app.py:356:    return sorted(results, key=lambda x: (
./app.py:357:        0 if x['signal'] == 'BUY' else 1 if x['signal'] == 'HOLD' else 2,
./app.py:363:# 4. HOVEDINNHOLD
./app.py:381:                st.cache_data.clear()
./app.py:398:        buys = len([d for d in data if d['signal'] == 'BUY'])
./app.py:399:        holds = len([d for d in data if d['signal'] == 'HOLD'])
./app.py:400:        sells = len([d for d in data if d['signal'] == 'SELL'])
./app.py:404:            st.markdown(f'<div class="status-card card-lime"><div class="status-number">{buys}</div><div class="status-label">Kj√∏pssignaler</div></div>', unsafe_allow_html=True)
./app.py:406:            st.markdown(f'<div class="status-card card-teal"><div class="status-number">{holds}</div><div class="status-label">Hold</div></div>', unsafe_allow_html=True)
./app.py:408:            st.markdown(f'<div class="status-card card-pink"><div class="status-number">{sells}</div><div class="status-label">Salgssignaler</div></div>', unsafe_allow_html=True)
./app.py:412:        st.markdown("<p style='color: #6b7280; margin-bottom: 24px;'>Sortert etter h√∏yest sannsynlighet</p>", unsafe_allow_html=True)
./app.py:418:                badge_class = "badge-buy" if stock['signal'] == "BUY" else "badge-sell" if stock['signal'] == "SELL" else "badge-hold"
./app.py:419:                badge_text = "KJ√òP" if stock['signal'] == "BUY" else "SELG" if stock['signal'] == "SELL" else "HOLD"
./app.py:474:    # Analyse-visning
./app.py:489:        badge_class = "badge-buy" if stock['signal'] == "BUY" else "badge-sell" if stock['signal'] == "SELL" else "badge-hold"
./app.py:490:        badge_text = "KJ√òP" if stock['signal'] == "BUY" else "SELG" if stock['signal'] == "SELL" else "HOLD"
./app.py:504:        tab1, tab2, tab3, tab4 = st.tabs(["üìà Graf & Analyse", "üìã Handelsplan", "üë§ Innsidehandel", "üì∞ Nyheter"])
./app.py:518:            # Teknisk analyse forklaring
./app.py:519:            st.markdown("### üîç Teknisk Analyse")
./app.py:521:            if stock['signal'] == "BUY":
./app.py:531:            elif stock['signal'] == "SELL":
./app.py:541:                **Hold/Avvent** for {stock['ticker_short']}
./app.py:599:                # Major holders
./app.py:602:                major_holders = ticker_obj.major_holders
./app.py:603:                if major_holders is not None and not major_holders.empty:
./app.py:604:                    st.dataframe(major_holders, use_container_width=True, hide_index=True)
./app.py:662:                st.markdown(f"[üìä Yahoo Finance](https://finance.yahoo.com/quote/{stock['ticker']})")
./app.py:674:        <p style="color:#6b7280;font-size:0.9rem;margin:0;">{len(data)} aksjer analysert</p>
./app.py:681:        <p style="opacity:0.9;font-size:0.9rem;margin:0 0 16px 0;">Support for analyser og strategi.</p>
./k-man-island/next.config.js:11:  // Allow Yahoo Finance API
./k-man-island/README.md:3:Et moderne investment dashboard for Oslo B√∏rs og US Markets med avansert analyse, trade tracking og Dead Money detection.
./k-man-island/README.md:13:- **Beste Muligheter**: Rangert liste av aksjer basert p√• K-Score
./k-man-island/README.md:17:- **Sanntids oppdateringer**: K-Score, signaler (BUY/HOLD/SELL)
./k-man-island/README.md:19:### üìä Dyp Analyse
./k-man-island/README.md:21:- **Profesjonell handelsplan**: Risk/Reward analyse
./k-man-island/README.md:22:- **K-Score tracking**: Visuell fremstilling av score
./k-man-island/README.md:34:- **Automatisk analyse**: Kj√∏res p√• alle aktive trades
./k-man-island/README.md:44:- **Database**: Supabase (PostgreSQL)
./k-man-island/README.md:63:### 3. Sett opp Supabase
./k-man-island/README.md:65:F√∏lg instruksjonene i [SUPABASE_SETUP.md](./SUPABASE_SETUP.md):
./k-man-island/README.md:67:1. Opprett et Supabase prosjekt
./k-man-island/README.md:68:2. Kj√∏r SQL schema fra `src/lib/supabase/schema.sql`
./k-man-island/README.md:76:NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
./k-man-island/README.md:77:NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
./k-man-island/README.md:97:‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analyse/
./k-man-island/README.md:99:‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ page.tsx         # Dyp analyse per aksje
./k-man-island/README.md:105:‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FilterBar.tsx            # Market/Strategy filter
./k-man-island/README.md:117:‚îÇ       ‚îú‚îÄ‚îÄ supabase/
./k-man-island/README.md:118:‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ client.ts            # Supabase client
./k-man-island/README.md:130:‚îî‚îÄ‚îÄ SUPABASE_SETUP.md
./k-man-island/README.md:139:--brand-emerald: #10B981     /* Gr√∏nn - BUY signal, positive */
./k-man-island/README.md:140:--brand-rose: #F43F5E        /* R√∏d - SELL signal, risiko */
./k-man-island/README.md:165:- **K-Scores**: 45-84 (rangert)
./k-man-island/README.md:166:- **Signaler**: BUY, HOLD, SELL
./k-man-island/README.md:174:- Hold Supabase API keys private
./k-man-island/README.md:176:### Supabase RLS (Row Level Security)
./k-man-island/README.md:207:- [ ] **Autentisering**: Supabase Auth for multi-bruker
./k-man-island/README.md:208:- [ ] **Push Varslinger**: Browser notifications for price alerts
./k-man-island/README.md:218:- [ ] **Social**: Del analyser med andre brukere
./k-man-island/README.md:224:### "Failed to fetch" fra Supabase
./k-man-island/README.md:227:- Verifiser Supabase credentials
./k-man-island/.gitignore:1:__pycache__/
./k-man-island/package-lock.json:11:        "@supabase/supabase-js": "^2.47.10",
./k-man-island/package-lock.json:588:    "node_modules/@supabase/auth-js": {
./k-man-island/package-lock.json:590:      "resolved": "https://registry.npmjs.org/@supabase/auth-js/-/auth-js-2.90.1.tgz",
./k-man-island/package-lock.json:600:    "node_modules/@supabase/functions-js": {
./k-man-island/package-lock.json:602:      "resolved": "https://registry.npmjs.org/@supabase/functions-js/-/functions-js-2.90.1.tgz",
./k-man-island/package-lock.json:612:    "node_modules/@supabase/postgrest-js": {
./k-man-island/package-lock.json:614:      "resolved": "https://registry.npmjs.org/@supabase/postgrest-js/-/postgrest-js-2.90.1.tgz",
./k-man-island/package-lock.json:624:    "node_modules/@supabase/realtime-js": {
./k-man-island/package-lock.json:626:      "resolved": "https://registry.npmjs.org/@supabase/realtime-js/-/realtime-js-2.90.1.tgz",
./k-man-island/package-lock.json:639:    "node_modules/@supabase/storage-js": {
./k-man-island/package-lock.json:641:      "resolved": "https://registry.npmjs.org/@supabase/storage-js/-/storage-js-2.90.1.tgz",
./k-man-island/package-lock.json:652:    "node_modules/@supabase/supabase-js": {
./k-man-island/package-lock.json:654:      "resolved": "https://registry.npmjs.org/@supabase/supabase-js/-/supabase-js-2.90.1.tgz",
./k-man-island/package-lock.json:658:        "@supabase/auth-js": "2.90.1",
./k-man-island/package-lock.json:659:        "@supabase/functions-js": "2.90.1",
./k-man-island/package-lock.json:660:        "@supabase/postgrest-js": "2.90.1",
./k-man-island/package-lock.json:661:        "@supabase/realtime-js": "2.90.1",
./k-man-island/package-lock.json:662:        "@supabase/storage-js": "2.90.1"
./k-man-island/package-lock.json:1591:    "node_modules/array.prototype.tosorted": {
./k-man-island/package-lock.json:1593:      "resolved": "https://registry.npmjs.org/array.prototype.tosorted/-/array.prototype.tosorted-1.1.4.tgz",
./k-man-island/package-lock.json:2612:        "file-entry-cache": "^8.0.0",
./k-man-island/package-lock.json:2849:        "array.prototype.tosorted": "^1.1.4",
./k-man-island/package-lock.json:3101:    "node_modules/file-entry-cache": {
./k-man-island/package-lock.json:3103:      "resolved": "https://registry.npmjs.org/file-entry-cache/-/file-entry-cache-8.0.0.tgz",
./k-man-island/package-lock.json:3108:        "flat-cache": "^4.0.0"
./k-man-island/package-lock.json:3144:    "node_modules/flat-cache": {
./k-man-island/package-lock.json:3146:      "resolved": "https://registry.npmjs.org/flat-cache/-/flat-cache-4.0.1.tgz",
./k-man-island/package-lock.json:4283:    "node_modules/lru-cache": {
./k-man-island/package-lock.json:4285:      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
./k-man-island/package-lock.json:4422:      "integrity": "sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==",
./k-man-island/package-lock.json:4769:        "lru-cache": "^10.2.0",
./k-man-island/package-lock.json:4865:        "read-cache": "^1.0.0",
./k-man-island/package-lock.json:5105:    "node_modules/read-cache": {
./k-man-island/package-lock.json:5107:      "resolved": "https://registry.npmjs.org/read-cache/-/read-cache-1.0.0.tgz",
./k-man-island/package.json:17:    "@supabase/supabase-js": "^2.47.10",
./k-man-island/app.py:134:.badge-buy { background: #E2FF3B; color: #1a1a1a; }
./k-man-island/app.py:135:.badge-hold { background: #A3E7D8; color: #1a1a1a; }
./k-man-island/app.py:136:.badge-sell { background: #FFB5B5; color: #1a1a1a; }
./k-man-island/app.py:233:/* Analyse */
./k-man-island/app.py:282:@st.cache_data(ttl=1800)
./k-man-island/app.py:320:            is_buy = (rsi < 55 and close > sma20 and close > sma50 and ema12 > ema26 and five_day > 0)
./k-man-island/app.py:321:            is_sell = rsi > 75 or (close < sma20 and close < sma50)
./k-man-island/app.py:322:            signal = "BUY" if is_buy else "SELL" if is_sell else "HOLD"
./k-man-island/app.py:326:            bullish_score = 0
./k-man-island/app.py:327:            if rsi < 55: bullish_score += 20  # RSI i kj√∏pssone
./k-man-island/app.py:328:            if rsi < 45: bullish_score += 10  # Ekstra bonus for lav RSI
./k-man-island/app.py:329:            if close > sma20: bullish_score += 15  # Over SMA20
./k-man-island/app.py:330:            if close > sma50: bullish_score += 15  # Over SMA50
./k-man-island/app.py:331:            if ema12 > ema26: bullish_score += 15  # Bullish EMA crossover
./k-man-island/app.py:332:            if five_day > 0: bullish_score += 10  # Positiv momentum
./k-man-island/app.py:333:            if five_day > 0.02: bullish_score += 5  # Sterk momentum (+2%)
./k-man-island/app.py:334:            if pot_pct > 5: bullish_score += 10  # God oppside
./k-man-island/app.py:336:            # BUY-signal gir bonus, SELL gir straff
./k-man-island/app.py:337:            if signal == "BUY":
./k-man-island/app.py:338:                prob = min(bullish_score + 15, 95)  # Bonus for √• m√∏te alle kriterier
./k-man-island/app.py:339:            elif signal == "SELL":
./k-man-island/app.py:340:                prob = max(bullish_score - 30, 10)  # Straff for salgssignal
./k-man-island/app.py:342:                prob = max(bullish_score - 10, 20)  # Litt lavere for HOLD
./k-man-island/app.py:354:    # Sorter etter sannsynlighet (h√∏yest f√∏rst), prioriter BUY
./k-man-island/app.py:355:    # Sortering: 1) Signal (BUY f√∏rst), 2) Sannsynlighet (h√∏yest), 3) Gevinstpotensial (h√∏yest)
./k-man-island/app.py:356:    return sorted(results, key=lambda x: (
./k-man-island/app.py:357:        0 if x['signal'] == 'BUY' else 1 if x['signal'] == 'HOLD' else 2,
./k-man-island/app.py:363:# 4. HOVEDINNHOLD
./k-man-island/app.py:381:                st.cache_data.clear()
./k-man-island/app.py:398:        buys = len([d for d in data if d['signal'] == 'BUY'])
./k-man-island/app.py:399:        holds = len([d for d in data if d['signal'] == 'HOLD'])
./k-man-island/app.py:400:        sells = len([d for d in data if d['signal'] == 'SELL'])
./k-man-island/app.py:404:            st.markdown(f'<div class="status-card card-lime"><div class="status-number">{buys}</div><div class="status-label">Kj√∏pssignaler</div></div>', unsafe_allow_html=True)
./k-man-island/app.py:406:            st.markdown(f'<div class="status-card card-teal"><div class="status-number">{holds}</div><div class="status-label">Hold</div></div>', unsafe_allow_html=True)
./k-man-island/app.py:408:            st.markdown(f'<div class="status-card card-pink"><div class="status-number">{sells}</div><div class="status-label">Salgssignaler</div></div>', unsafe_allow_html=True)
./k-man-island/app.py:412:        st.markdown("<p style='color: #6b7280; margin-bottom: 24px;'>Sortert etter h√∏yest sannsynlighet</p>", unsafe_allow_html=True)
./k-man-island/app.py:418:                badge_class = "badge-buy" if stock['signal'] == "BUY" else "badge-sell" if stock['signal'] == "SELL" else "badge-hold"
./k-man-island/app.py:419:                badge_text = "KJ√òP" if stock['signal'] == "BUY" else "SELG" if stock['signal'] == "SELL" else "HOLD"
./k-man-island/app.py:474:    # Analyse-visning
./k-man-island/app.py:489:        badge_class = "badge-buy" if stock['signal'] == "BUY" else "badge-sell" if stock['signal'] == "SELL" else "badge-hold"
./k-man-island/app.py:490:        badge_text = "KJ√òP" if stock['signal'] == "BUY" else "SELG" if stock['signal'] == "SELL" else "HOLD"
./k-man-island/app.py:504:        tab1, tab2, tab3, tab4 = st.tabs(["üìà Graf & Analyse", "üìã Handelsplan", "üë§ Innsidehandel", "üì∞ Nyheter"])
./k-man-island/app.py:518:            # Teknisk analyse forklaring
./k-man-island/app.py:519:            st.markdown("### üîç Teknisk Analyse")
./k-man-island/app.py:521:            if stock['signal'] == "BUY":
./k-man-island/app.py:531:            elif stock['signal'] == "SELL":
./k-man-island/app.py:541:                **Hold/Avvent** for {stock['ticker_short']}
./k-man-island/app.py:599:                # Major holders
./k-man-island/app.py:602:                major_holders = ticker_obj.major_holders
./k-man-island/app.py:603:                if major_holders is not None and not major_holders.empty:
./k-man-island/app.py:604:                    st.dataframe(major_holders, use_container_width=True, hide_index=True)
./k-man-island/app.py:662:                st.markdown(f"[üìä Yahoo Finance](https://finance.yahoo.com/quote/{stock['ticker']})")
./k-man-island/app.py:674:        <p style="color:#6b7280;font-size:0.9rem;margin:0;">{len(data)} aksjer analysert</p>
./k-man-island/app.py:681:        <p style="opacity:0.9;font-size:0.9rem;margin:0 0 16px 0;">Support for analyser og strategi.</p>
./k-man-island/SUPABASE_SETUP.md:1:# Supabase Setup Guide
./k-man-island/SUPABASE_SETUP.md:3:Denne guiden vil hjelpe deg med √• sette opp Supabase for K-man Island.
./k-man-island/SUPABASE_SETUP.md:5:## Steg 1: Opprett Supabase Prosjekt
./k-man-island/SUPABASE_SETUP.md:7:1. G√• til [Supabase](https://supabase.com)
./k-man-island/SUPABASE_SETUP.md:17:1. I Supabase dashboard, g√• til "SQL Editor" (i venstre meny)
./k-man-island/SUPABASE_SETUP.md:19:3. Kopier innholdet fra `src/lib/supabase/schema.sql`
./k-man-island/SUPABASE_SETUP.md:30:1. I Supabase dashboard, g√• til "Settings" > "API"
./k-man-island/SUPABASE_SETUP.md:36:NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
./k-man-island/SUPABASE_SETUP.md:37:NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
./k-man-island/SUPABASE_SETUP.md:45:G√• til Supabase Table Editor og sjekk at dataen ble lagret korrekt.
./k-man-island/SUPABASE_SETUP.md:70:- Sjekk at Supabase project URL og API key er korrekte
./k-man-island/SUPABASE_SETUP.md:73:- Sjekk RLS policies i Supabase
./k-man-island/SUPABASE_SETUP.md:78:N√•r Supabase er satt opp, kan du:
./k-man-island/src/app/innstillinger/page.tsx:314:                    <td className="py-2 px-2">Yahoo Finance</td>
./k-man-island/src/app/innstillinger/page.tsx:318:                    <td className="py-2 px-2">Supabase ‚úÖ</td>
./k-man-island/src/app/innstillinger/page.tsx:345:                prototype eller for Python-basert analyse.
./k-man-island/src/app/innstillinger/page.tsx:366:          title="Database: Er Supabase best?" 
./k-man-island/src/app/innstillinger/page.tsx:371:              <h4 className="font-semibold text-green-800 mb-2">Supabase er et godt valg for dette prosjektet</h4>
./k-man-island/src/app/innstillinger/page.tsx:373:                For en trading-app med moderat trafikk er Supabase en utmerket balanse mellom
./k-man-island/src/app/innstillinger/page.tsx:390:                    <td className="py-2 px-2 font-medium">Supabase ‚úÖ</td>
./k-man-island/src/app/innstillinger/page.tsx:414:                    <td className="py-2 px-2">Redis (cache)</td>
./k-man-island/src/app/innstillinger/page.tsx:425:                <h4 className="font-semibold text-brand-slate mb-2">‚úÖ Hvorfor Supabase passer</h4>
./k-man-island/src/app/innstillinger/page.tsx:439:                  <li>‚Ä¢ Sanntidspriser = legg til Redis cache</li>
./k-man-island/src/app/innstillinger/page.tsx:493:                Automatisk Analyse
./k-man-island/src/app/innstillinger/page.tsx:498:                  description="Automatisk analyse av alle dine aksjer hver morgen. Sjekker tekniske signaler og nyheter."
./k-man-island/src/app/innstillinger/page.tsx:560:                Avansert Analyse
./k-man-island/src/app/innstillinger/page.tsx:570:                  title="Sektor-analyse"
./k-man-island/src/app/innstillinger/page.tsx:578:                  description="Analyse av hvordan aksjene i portef√∏ljen korrelerer. Bedre diversifisering."
./k-man-island/src/app/innstillinger/page.tsx:593:                <li>2. ‚úÖ Aksje-analyse med signaler</li>
./k-man-island/src/app/innstillinger/page.tsx:596:                <li>5. üìã Daglig analyse av posisjoner</li>
./k-man-island/src/app/innstillinger/page.tsx:621:                  Hovedapplikasjonen med K-Momentum analyse, database og moderne UI.
./k-man-island/src/app/innstillinger/page.tsx:627:                  <li>‚Ä¢ Supabase database</li>
./k-man-island/src/app/innstillinger/page.tsx:646:                  <li>‚Ä¢ yfinance (Yahoo Finance)</li>
./k-man-island/src/app/innstillinger/page.tsx:647:                  <li>‚Ä¢ pandas_ta (teknisk analyse)</li>
./k-man-island/src/app/innstillinger/page.tsx:664:‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analyse/            # Dyp analyse
./k-man-island/src/app/innstillinger/page.tsx:671:‚îÇ       ‚îî‚îÄ‚îÄ supabase/           # Database
./k-man-island/src/app/innstillinger/page.tsx:692:# Supabase (P√ÖKREVD for database)
./k-man-island/src/app/innstillinger/page.tsx:693:NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
./k-man-island/src/app/innstillinger/page.tsx:694:NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
./k-man-island/src/app/innstillinger/page.tsx:703:                  Supabase
./k-man-island/src/app/innstillinger/page.tsx:706:                  <li>1. G√• til <a href="https://supabase.com" target="_blank" className="text-brand-emerald hover:underline">supabase.com</a></li>
./k-man-island/src/app/innstillinger/page.tsx:768:                <li>1. Opprett Supabase-prosjekt p√• <a href="https://supabase.com" target="_blank" className="text-brand-emerald hover:underline">supabase.com</a></li>
./k-man-island/src/app/innstillinger/page.tsx:769:                <li>2. G√• til SQL Editor i Supabase</li>
./k-man-island/src/app/innstillinger/page.tsx:770:                <li>3. Kj√∏r innholdet fra <code className="bg-gray-100 px-1 rounded">src/lib/supabase/schema.sql</code></li>
./k-man-island/src/app/innstillinger/page.tsx:878:                <li>‚Ä¢ <strong>Entry:</strong> Ved K-Score {`>`} 70</li>
./k-man-island/src/app/innstillinger/page.tsx:897:              <p>Supabase + Finnhub</p>
./k-man-island/src/app/analyse/[ticker]/page.tsx:3:import StockAnalyseContent from '@/components/StockAnalyseContent';
./k-man-island/src/app/analyse/[ticker]/page.tsx:11:interface AnalysePageProps {
./k-man-island/src/app/analyse/[ticker]/page.tsx:17:export default async function AnalysePage({ params }: AnalysePageProps) {
./k-man-island/src/app/analyse/[ticker]/page.tsx:39:    <Suspense fallback={<div className="p-8">Laster analyse...</div>}>
./k-man-island/src/app/analyse/[ticker]/page.tsx:40:      <StockAnalyseContent stock={stock} allStocks={stocks} />
./k-man-island/src/app/analyse/page.tsx:2:import AnalyseContent from '@/components/AnalyseContent';
./k-man-island/src/app/analyse/page.tsx:10:export default async function AnalysePage() {
./k-man-island/src/app/analyse/page.tsx:20:    <Suspense fallback={<div className="p-8">Laster analyse...</div>}>
./k-man-island/src/app/analyse/page.tsx:21:      <AnalyseContent stocks={stocks} />
./k-man-island/src/app/page.tsx:35:    console.log('‚ú® Using K-Momentum strategy with Finnhub');
./k-man-island/src/app/page.tsx:40:        console.warn('‚ö†Ô∏è K-Momentum returned no stocks, falling back to Yahoo Finance');
./k-man-island/src/app/page.tsx:45:      console.log('‚ö†Ô∏è Falling back to Yahoo Finance');
./k-man-island/src/app/page.tsx:49:    console.log('‚ö†Ô∏è No Finnhub API key, using Yahoo Finance fallback');
./k-man-island/src/app/globals.css:44:/* K-Score progress bar animation */
./k-man-island/src/app/globals.css:45:@keyframes k-score-fill {
./k-man-island/src/app/globals.css:51:.k-score-bar {
./k-man-island/src/app/globals.css:52:  animation: k-score-fill 1s ease-out;
./k-man-island/src/components/StockCardOriginal.tsx:10:  rank?: number;
./k-man-island/src/components/StockCardOriginal.tsx:13:export default function StockCardOriginal({ stock, rank }: StockCardOriginalProps) {
./k-man-island/src/components/StockCardOriginal.tsx:15:    BUY: { bg: 'bg-[#10B981]', text: 'BUY', textColor: 'text-white' },
./k-man-island/src/components/StockCardOriginal.tsx:16:    SELL: { bg: 'bg-[#EF4444]', text: 'SELL', textColor: 'text-white' },
./k-man-island/src/components/StockCardOriginal.tsx:17:    HOLD: { bg: 'bg-gray-400', text: 'HOLD', textColor: 'text-white' },
./k-man-island/src/components/StockCardOriginal.tsx:21:  const kScoreColor = stock.kScore >= 75 ? 'bg-[#10B981]' : stock.kScore >= 60 ? 'bg-yellow-400' : 'bg-gray-300';
./k-man-island/src/components/StockCardOriginal.tsx:26:      href={`/analyse/${stock.ticker}`}
./k-man-island/src/components/StockCardOriginal.tsx:34:              {rank && (
./k-man-island/src/components/StockCardOriginal.tsx:36:                  #{rank}
./k-man-island/src/components/StockCardOriginal.tsx:47:            {/* Strategy Icons */}
./k-man-island/src/components/StockCardOriginal.tsx:49:              {stock.strategies.includes('MOMENTUM') && (
./k-man-island/src/components/StockCardOriginal.tsx:54:              {stock.strategies.includes('BUFFETT') && (
./k-man-island/src/components/StockCardOriginal.tsx:59:              {stock.strategies.includes('TVEITEREID') && (
./k-man-island/src/components/StockCardOriginal.tsx:64:              {stock.strategies.includes('REBOUND') && (
./k-man-island/src/components/StockCardOriginal.tsx:69:              {stock.strategies.includes('INSIDER') && (
./k-man-island/src/components/StockCardOriginal.tsx:96:        {/* K-SCORE */}
./k-man-island/src/components/StockCardOriginal.tsx:99:            <span className="text-xs text-gray-400 uppercase tracking-wide font-semibold">K-SCORE</span>
./k-man-island/src/components/StockCardOriginal.tsx:100:            <span className="text-2xl font-extrabold text-[#1E293B]">{stock.kScore}</span>
./k-man-island/src/components/StockCardOriginal.tsx:104:              className={clsx('h-full rounded-full', kScoreColor)}
./k-man-island/src/components/StockCardOriginal.tsx:105:              style={{ width: `${stock.kScore}%` }}
./k-man-island/src/components/TradePlanCard.tsx:65:              Risiko / Reward Forhold
./k-man-island/src/components/TradePlanCard.tsx:139:              <span>Hold deg til stop loss-niv√•et for √• begrense tap</span>
./k-man-island/src/components/StockAnalyseContent.tsx:13:interface StockAnalyseContentProps {
./k-man-island/src/components/StockAnalyseContent.tsx:18:export default function StockAnalyseContent({ stock, allStocks }: StockAnalyseContentProps) {
./k-man-island/src/components/StockAnalyseContent.tsx:45:    BUY: { bg: 'bg-brand-emerald', text: 'KJ√òP' },
./k-man-island/src/components/StockAnalyseContent.tsx:46:    SELL: { bg: 'bg-brand-rose', text: 'SELG' },
./k-man-island/src/components/StockAnalyseContent.tsx:47:    HOLD: { bg: 'bg-gray-500', text: 'HOLD' },
./k-man-island/src/components/StockAnalyseContent.tsx:96:              K-SCORE
./k-man-island/src/components/StockAnalyseContent.tsx:98:            <div className="text-3xl font-extrabold mb-1">{stock.kScore}</div>
./k-man-island/src/components/StockAnalyseContent.tsx:100:              {stock.kScore >= 75 ? 'Utmerket' : stock.kScore >= 60 ? 'God' : 'Moderat'}
./k-man-island/src/components/StockAnalyseContent.tsx:147:          üìà Graf & Analyse
./k-man-island/src/components/StockAnalyseContent.tsx:197:                <h3 className="text-xl font-bold text-brand-slate mb-4">üîç Teknisk Analyse</h3>
./k-man-island/src/components/StockAnalyseContent.tsx:199:                {stock.signal === 'BUY' && (
./k-man-island/src/components/StockAnalyseContent.tsx:206:                      Aksjen oppfyller alle kriterier for et kj√∏pssignal. K-Score p√• {stock.kScore} 
./k-man-island/src/components/StockAnalyseContent.tsx:213:                {stock.signal === 'HOLD' && (
./k-man-island/src/components/StockAnalyseContent.tsx:217:                      Hold/Avvent for {tickerShort}
./k-man-island/src/components/StockAnalyseContent.tsx:226:                {stock.signal === 'SELL' && (
./k-man-island/src/components/StockAnalyseContent.tsx:269:          {/* Strategy Tags */}
./k-man-island/src/components/StockAnalyseContent.tsx:275:              {stock.strategies.map((strategy) => (
./k-man-island/src/components/StockAnalyseContent.tsx:277:                  key={strategy}
./k-man-island/src/components/StockAnalyseContent.tsx:280:                  {strategy === 'MOMENTUM' && <Zap className="w-4 h-4" />}
./k-man-island/src/components/StockAnalyseContent.tsx:281:                  {strategy === 'BUFFETT' && <Shield className="w-4 h-4" />}
./k-man-island/src/components/StockAnalyseContent.tsx:282:                  {strategy === 'TVEITEREID' && <TrendingUp className="w-4 h-4" />}
./k-man-island/src/components/StockAnalyseContent.tsx:283:                  {strategy}
./k-man-island/src/components/StockAnalyseContent.tsx:304:                <span className="text-sm opacity-75">K-Score Rank:</span>
./k-man-island/src/components/MarkedsskannerContent.tsx:10:type SortField = 'ticker' | 'kScore' | 'price' | 'changePercent' | 'gainPercent';
./k-man-island/src/components/MarkedsskannerContent.tsx:11:type SortOrder = 'asc' | 'desc';
./k-man-island/src/components/MarkedsskannerContent.tsx:18:  const [sortField, setSortField] = useState<SortField>('kScore');
./k-man-island/src/components/MarkedsskannerContent.tsx:19:  const [sortOrder, setSortOrder] = useState<SortOrder>('desc');
./k-man-island/src/components/MarkedsskannerContent.tsx:22:  const filteredAndSortedStocks = useMemo(() => {
./k-man-island/src/components/MarkedsskannerContent.tsx:33:    // Sort
./k-man-island/src/components/MarkedsskannerContent.tsx:34:    filtered.sort((a, b) => {
./k-man-island/src/components/MarkedsskannerContent.tsx:35:      let aVal = a[sortField];
./k-man-island/src/components/MarkedsskannerContent.tsx:36:      let bVal = b[sortField];
./k-man-island/src/components/MarkedsskannerContent.tsx:38:      if (sortOrder === 'asc') {
./k-man-island/src/components/MarkedsskannerContent.tsx:46:  }, [stocks, searchTerm, sortField, sortOrder]);
./k-man-island/src/components/MarkedsskannerContent.tsx:48:  const handleSort = (field: SortField) => {
./k-man-island/src/components/MarkedsskannerContent.tsx:49:    if (sortField === field) {
./k-man-island/src/components/MarkedsskannerContent.tsx:50:      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');
./k-man-island/src/components/MarkedsskannerContent.tsx:52:      setSortField(field);
./k-man-island/src/components/MarkedsskannerContent.tsx:53:      setSortOrder('desc');
./k-man-island/src/components/MarkedsskannerContent.tsx:57:  const SortIcon = ({ field }: { field: SortField }) => {
./k-man-island/src/components/MarkedsskannerContent.tsx:58:    if (sortField !== field) {
./k-man-island/src/components/MarkedsskannerContent.tsx:61:    return sortOrder === 'asc' ? (
./k-man-island/src/components/MarkedsskannerContent.tsx:78:              Komplett oversikt over alle aksjer med sortering og filtrering
./k-man-island/src/components/MarkedsskannerContent.tsx:89:            placeholder="S√∏k etter ticker eller navn..."
./k-man-island/src/components/MarkedsskannerContent.tsx:105:          <div className="text-3xl font-extrabold">{stocks.filter(s => s.signal === 'BUY').length}</div>
./k-man-island/src/components/MarkedsskannerContent.tsx:108:          <div className="text-sm opacity-75 mb-1">Hold</div>
./k-man-island/src/components/MarkedsskannerContent.tsx:109:          <div className="text-3xl font-extrabold">{stocks.filter(s => s.signal === 'HOLD').length}</div>
./k-man-island/src/components/MarkedsskannerContent.tsx:113:          <div className="text-3xl font-extrabold">{stocks.filter(s => s.signal === 'SELL').length}</div>
./k-man-island/src/components/MarkedsskannerContent.tsx:125:                    onClick={() => handleSort('ticker')}
./k-man-island/src/components/MarkedsskannerContent.tsx:129:                    <SortIcon field="ticker" />
./k-man-island/src/components/MarkedsskannerContent.tsx:137:                    onClick={() => handleSort('kScore')}
./k-man-island/src/components/MarkedsskannerContent.tsx:140:                    K-Score
./k-man-island/src/components/MarkedsskannerContent.tsx:141:                    <SortIcon field="kScore" />
./k-man-island/src/components/MarkedsskannerContent.tsx:149:                    onClick={() => handleSort('price')}
./k-man-island/src/components/MarkedsskannerContent.tsx:153:                    <SortIcon field="price" />
./k-man-island/src/components/MarkedsskannerContent.tsx:158:                    onClick={() => handleSort('changePercent')}
./k-man-island/src/components/MarkedsskannerContent.tsx:162:                    <SortIcon field="changePercent" />
./k-man-island/src/components/MarkedsskannerContent.tsx:167:                    onClick={() => handleSort('gainPercent')}
./k-man-island/src/components/MarkedsskannerContent.tsx:171:                    <SortIcon field="gainPercent" />
./k-man-island/src/components/MarkedsskannerContent.tsx:180:              {filteredAndSortedStocks.map((stock, index) => {
./k-man-island/src/components/MarkedsskannerContent.tsx:185:                  BUY: { bg: 'bg-brand-emerald', text: 'KJ√òP' },
./k-man-island/src/components/MarkedsskannerContent.tsx:186:                  SELL: { bg: 'bg-brand-rose', text: 'SELG' },
./k-man-island/src/components/MarkedsskannerContent.tsx:187:                  HOLD: { bg: 'bg-gray-500', text: 'HOLD' },
./k-man-island/src/components/MarkedsskannerContent.tsx:199:                        href={`/analyse/${stock.ticker}`}
./k-man-island/src/components/MarkedsskannerContent.tsx:211:                          {stock.kScore}
./k-man-island/src/components/MarkedsskannerContent.tsx:217:                              stock.kScore >= 75 ? 'bg-brand-emerald' :
./k-man-island/src/components/MarkedsskannerContent.tsx:218:                              stock.kScore >= 60 ? 'bg-yellow-500' :
./k-man-island/src/components/MarkedsskannerContent.tsx:221:                            style={{ width: `${stock.kScore}%` }}
./k-man-island/src/components/MarkedsskannerContent.tsx:265:        {filteredAndSortedStocks.length === 0 && (
./k-man-island/src/components/MarkedsskannerContent.tsx:275:        Viser {filteredAndSortedStocks.length} av {stocks.length} aksjer
./k-man-island/src/components/DashboardContent.tsx:8:import FilterBar, { MarketFilter, StrategyFilter } from '@/components/FilterBar';
./k-man-island/src/components/DashboardContent.tsx:17:// Beregn en sammensatt score for √• rangere aksjer
./k-man-island/src/components/DashboardContent.tsx:18:const calculateCompositeScore = (stock: Stock, prioritizeInsider: boolean = false): number => {
./k-man-island/src/components/DashboardContent.tsx:19:  let score = 0;
./k-man-island/src/components/DashboardContent.tsx:21:  if (prioritizeInsider && stock.insiderScore !== undefined) {
./k-man-island/src/components/DashboardContent.tsx:22:    // Ved INSIDER-filter: Insider score f√•r h√∏yere vekt
./k-man-island/src/components/DashboardContent.tsx:23:    score += stock.insiderScore * 0.4; // 40%
./k-man-island/src/components/DashboardContent.tsx:24:    score += stock.kScore * 0.3; // 30%
./k-man-island/src/components/DashboardContent.tsx:29:    const rsiScore = Math.max(0, 100 - (rsiDistance * 3));
./k-man-island/src/components/DashboardContent.tsx:30:    score += rsiScore * 0.15;
./k-man-island/src/components/DashboardContent.tsx:34:    const rrScore = Math.min(100, riskRewardRatio * 20);
./k-man-island/src/components/DashboardContent.tsx:35:    score += rrScore * 0.15;
./k-man-island/src/components/DashboardContent.tsx:38:    // K-Score (vekt: 50%)
./k-man-island/src/components/DashboardContent.tsx:39:    score += stock.kScore * 0.5;
./k-man-island/src/components/DashboardContent.tsx:44:    const rsiScore = Math.max(0, 100 - (rsiDistance * 3));
./k-man-island/src/components/DashboardContent.tsx:45:    score += rsiScore * 0.2;
./k-man-island/src/components/DashboardContent.tsx:49:    const rrScore = Math.min(100, riskRewardRatio * 20); // Cap ved 100
./k-man-island/src/components/DashboardContent.tsx:50:    score += rrScore * 0.3;
./k-man-island/src/components/DashboardContent.tsx:53:  return score;
./k-man-island/src/components/DashboardContent.tsx:60:  const [strategyFilter, setStrategyFilter] = useState<StrategyFilter>('ALLE');
./k-man-island/src/components/DashboardContent.tsx:72:    // Filter by strategy
./k-man-island/src/components/DashboardContent.tsx:73:    if (strategyFilter !== 'ALLE') {
./k-man-island/src/components/DashboardContent.tsx:75:        stock.strategies.includes(strategyFilter as 'MOMENTUM' | 'BUFFETT' | 'TVEITEREID' | 'REBOUND' | 'INSIDER')
./k-man-island/src/components/DashboardContent.tsx:79:    // Filter only BUY signals
./k-man-island/src/components/DashboardContent.tsx:80:    const buyStocks = filtered.filter(stock => stock.signal === 'BUY');
./k-man-island/src/components/DashboardContent.tsx:82:    // Avansert sortering: Kombiner K-Score, RSI og Risk/Reward
./k-man-island/src/components/DashboardContent.tsx:83:    const prioritizeInsider = strategyFilter === 'INSIDER';
./k-man-island/src/components/DashboardContent.tsx:84:    buyStocks.sort((a, b) => {
./k-man-island/src/components/DashboardContent.tsx:85:      // Beregn composite score
./k-man-island/src/components/DashboardContent.tsx:86:      const scoreA = calculateCompositeScore(a, prioritizeInsider);
./k-man-island/src/components/DashboardContent.tsx:87:      const scoreB = calculateCompositeScore(b, prioritizeInsider);
./k-man-island/src/components/DashboardContent.tsx:88:      return scoreB - scoreA;
./k-man-island/src/components/DashboardContent.tsx:93:      return buyStocks.slice(0, 3); // Top 3 only
./k-man-island/src/components/DashboardContent.tsx:95:      return buyStocks; // Show all as cards
./k-man-island/src/components/DashboardContent.tsx:99:  }, [initialStocks, marketFilter, strategyFilter, viewMode]);
./k-man-island/src/components/DashboardContent.tsx:101:  const buySignals = initialStocks.filter(s => s.signal === 'BUY').length;
./k-man-island/src/components/DashboardContent.tsx:102:  const holdSignals = initialStocks.filter(s => s.signal === 'HOLD').length;
./k-man-island/src/components/DashboardContent.tsx:103:  const sellSignals = initialStocks.filter(s => s.signal === 'SELL').length;
./k-man-island/src/components/DashboardContent.tsx:105:  // Watchlist - alle aksjer unntatt topp 3 BUY (eller alle hvis list-only)
./k-man-island/src/components/DashboardContent.tsx:107:    const prioritizeInsider = strategyFilter === 'INSIDER';
./k-man-island/src/components/DashboardContent.tsx:117:    // Filter by strategy
./k-man-island/src/components/DashboardContent.tsx:118:    if (strategyFilter !== 'ALLE') {
./k-man-island/src/components/DashboardContent.tsx:120:        stock.strategies.includes(strategyFilter as 'MOMENTUM' | 'BUFFETT' | 'TVEITEREID' | 'REBOUND' | 'INSIDER')
./k-man-island/src/components/DashboardContent.tsx:124:    // Hent alle BUY-aksjer fra filtrert liste og sorter de p√• samme m√•te
./k-man-island/src/components/DashboardContent.tsx:125:    const allBuyStocks = filtered
./k-man-island/src/components/DashboardContent.tsx:126:      .filter(stock => stock.signal === 'BUY')
./k-man-island/src/components/DashboardContent.tsx:127:      .sort((a, b) => {
./k-man-island/src/components/DashboardContent.tsx:128:        const scoreA = calculateCompositeScore(a, prioritizeInsider);
./k-man-island/src/components/DashboardContent.tsx:129:        const scoreB = calculateCompositeScore(b, prioritizeInsider);
./k-man-island/src/components/DashboardContent.tsx:130:        return scoreB - scoreA;
./k-man-island/src/components/DashboardContent.tsx:135:      return filtered.sort((a, b) => {
./k-man-island/src/components/DashboardContent.tsx:136:        const signalOrder = { BUY: 0, HOLD: 1, SELL: 2 };
./k-man-island/src/components/DashboardContent.tsx:140:        const scoreA = calculateCompositeScore(a, prioritizeInsider);
./k-man-island/src/components/DashboardContent.tsx:141:        const scoreB = calculateCompositeScore(b, prioritizeInsider);
./k-man-island/src/components/DashboardContent.tsx:142:        return scoreB - scoreA;
./k-man-island/src/components/DashboardContent.tsx:152:    const top3BuyTickers = allBuyStocks.slice(0, 3).map(s => s.ticker);
./k-man-island/src/components/DashboardContent.tsx:155:      .filter(stock => !top3BuyTickers.includes(stock.ticker))
./k-man-island/src/components/DashboardContent.tsx:156:      .sort((a, b) => {
./k-man-island/src/components/DashboardContent.tsx:157:        // Sort: BUY f√∏rst, deretter HOLD, deretter SELL
./k-man-island/src/components/DashboardContent.tsx:158:        // Innenfor hver gruppe: composite score
./k-man-island/src/components/DashboardContent.tsx:159:        const signalOrder = { BUY: 0, HOLD: 1, SELL: 2 };
./k-man-island/src/components/DashboardContent.tsx:163:        const scoreA = calculateCompositeScore(a, prioritizeInsider);
./k-man-island/src/components/DashboardContent.tsx:164:        const scoreB = calculateCompositeScore(b, prioritizeInsider);
./k-man-island/src/components/DashboardContent.tsx:165:        return scoreB - scoreA;
./k-man-island/src/components/DashboardContent.tsx:167:  }, [initialStocks, viewMode, strategyFilter, marketFilter]);
./k-man-island/src/components/DashboardContent.tsx:198:              <span className="text-base font-bold text-brand-emerald">{buySignals}</span>
./k-man-island/src/components/DashboardContent.tsx:204:              <span className="text-base font-bold text-gray-600">{holdSignals}</span>
./k-man-island/src/components/DashboardContent.tsx:205:              <span className="text-sm font-medium text-gray-600 uppercase">Hold</span>
./k-man-island/src/components/DashboardContent.tsx:210:              <span className="text-base font-bold text-brand-rose">{sellSignals}</span>
./k-man-island/src/components/DashboardContent.tsx:227:              Rangert etter K-Score, RSI og Risk/Reward
./k-man-island/src/components/DashboardContent.tsx:235:            onStrategyChange={setStrategyFilter}
./k-man-island/src/components/DashboardContent.tsx:297:            // ALLTID bruk lokal rank (posisjon i filtrert liste)
./k-man-island/src/components/DashboardContent.tsx:298:            const rank = index + 1;
./k-man-island/src/components/DashboardContent.tsx:301:              <StockCardOriginal key={stock.ticker} stock={stock} rank={rank} />
./k-man-island/src/components/DashboardContent.tsx:303:              <StockCard key={stock.ticker} stock={stock} rank={rank} />
./k-man-island/src/components/DashboardContent.tsx:327:                : `${watchlistStocks.filter(s => s.signal === 'BUY').length} flere kj√∏psmuligheter`
./k-man-island/src/components/DashboardContent.tsx:340:              <div className="text-xs font-bold text-gray-400 uppercase tracking-wider">K-SCORE</div>
./k-man-island/src/components/DashboardContent.tsx:347:                // Beregn rank basert p√• view mode og index
./k-man-island/src/components/DashboardContent.tsx:348:                let rank;
./k-man-island/src/components/DashboardContent.tsx:350:                  // I list-only, rank starter fra 1
./k-man-island/src/components/DashboardContent.tsx:351:                  rank = stock.signal === 'BUY' ? index + 1 : null;
./k-man-island/src/components/DashboardContent.tsx:353:                  // I cards-and-list, rank starter fra 4 (etter topp 3 kort)
./k-man-island/src/components/DashboardContent.tsx:354:                  // Men kun for BUY-aksjer
./k-man-island/src/components/DashboardContent.tsx:355:                  if (stock.signal === 'BUY') {
./k-man-island/src/components/DashboardContent.tsx:356:                    // Finn posisjonen i den filtrerte BUY-listen
./k-man-island/src/components/DashboardContent.tsx:357:                    const buyStocksBeforeThis = watchlistStocks
./k-man-island/src/components/DashboardContent.tsx:359:                      .filter(s => s.signal === 'BUY').length;
./k-man-island/src/components/DashboardContent.tsx:360:                    rank = buyStocksBeforeThis + 4; // +4 fordi topp 3 er i kort
./k-man-island/src/components/DashboardContent.tsx:362:                    rank = null;
./k-man-island/src/components/DashboardContent.tsx:367:                  BUY: { bg: 'bg-emerald-50', text: 'text-emerald-700', label: 'BUY' },
./k-man-island/src/components/DashboardContent.tsx:368:                  HOLD: { bg: 'bg-yellow-50', text: 'text-yellow-700', label: 'WATCH' },
./k-man-island/src/components/DashboardContent.tsx:369:                  SELL: { bg: 'bg-red-50', text: 'text-red-600', label: 'SELL' },
./k-man-island/src/components/DashboardContent.tsx:371:                const config = statusConfig[stock.signal] || statusConfig.HOLD;
./k-man-island/src/components/DashboardContent.tsx:372:                const kScoreColor = stock.kScore >= 75 ? 'bg-[#10B981]' : stock.kScore >= 60 ? 'bg-yellow-400' : 'bg-gray-300';
./k-man-island/src/components/DashboardContent.tsx:378:                    href={`/analyse/${stock.ticker}`}
./k-man-island/src/components/DashboardContent.tsx:381:                    {/* Ranking */}
./k-man-island/src/components/DashboardContent.tsx:383:                      {rank ? (
./k-man-island/src/components/DashboardContent.tsx:385:                          {rank}
./k-man-island/src/components/DashboardContent.tsx:428:                    {/* K-Score */}
./k-man-island/src/components/DashboardContent.tsx:431:                        {stock.kScore}
./k-man-island/src/components/DashboardContent.tsx:435:                          className={clsx('h-full rounded-full', kScoreColor)}
./k-man-island/src/components/DashboardContent.tsx:436:                          style={{ width: `${stock.kScore}%` }}
./k-man-island/src/components/layout/Sidebar.tsx:11:  { name: 'Dyp Analyse', href: '/analyse', icon: TrendingUp },
./k-man-island/src/components/FilterBar.tsx:8:export type StrategyFilter = 'ALLE' | 'MOMENTUM' | 'BUFFETT' | 'TVEITEREID' | 'REBOUND' | 'INSIDER';
./k-man-island/src/components/FilterBar.tsx:12:  onStrategyChange: (strategy: StrategyFilter) => void;
./k-man-island/src/components/FilterBar.tsx:15:export default function FilterBar({ onMarketChange, onStrategyChange }: FilterBarProps) {
./k-man-island/src/components/FilterBar.tsx:17:  const [selectedStrategy, setSelectedStrategy] = useState<StrategyFilter>('ALLE');
./k-man-island/src/components/FilterBar.tsx:24:  const handleStrategyClick = (strategy: StrategyFilter) => {
./k-man-island/src/components/FilterBar.tsx:25:    setSelectedStrategy(strategy);
./k-man-island/src/components/FilterBar.tsx:26:    onStrategyChange(strategy);
./k-man-island/src/components/FilterBar.tsx:70:      {/* Strategy filters */}
./k-man-island/src/components/FilterBar.tsx:73:          onClick={() => handleStrategyClick('ALLE')}
./k-man-island/src/components/FilterBar.tsx:76:            selectedStrategy === 'ALLE'
./k-man-island/src/components/FilterBar.tsx:84:          onClick={() => handleStrategyClick('MOMENTUM')}
./k-man-island/src/components/FilterBar.tsx:87:            selectedStrategy === 'MOMENTUM'
./k-man-island/src/components/FilterBar.tsx:96:          onClick={() => handleStrategyClick('BUFFETT')}
./k-man-island/src/components/FilterBar.tsx:99:            selectedStrategy === 'BUFFETT'
./k-man-island/src/components/FilterBar.tsx:108:          onClick={() => handleStrategyClick('TVEITEREID')}
./k-man-island/src/components/FilterBar.tsx:111:            selectedStrategy === 'TVEITEREID'
./k-man-island/src/components/FilterBar.tsx:120:          onClick={() => handleStrategyClick('REBOUND')}
./k-man-island/src/components/FilterBar.tsx:123:            selectedStrategy === 'REBOUND'
./k-man-island/src/components/FilterBar.tsx:132:          onClick={() => handleStrategyClick('INSIDER')}
./k-man-island/src/components/FilterBar.tsx:135:            selectedStrategy === 'INSIDER'
./k-man-island/src/components/InsiderAlert.tsx:33:  const recentBuys = transactions.filter(t => t.transactionCode === 'P').length;
./k-man-island/src/components/InsiderAlert.tsx:34:  const recentSells = transactions.filter(t => t.transactionCode === 'S').length;
./k-man-island/src/components/InsiderAlert.tsx:36:  const insiderType = recentBuys > recentSells ? 'buy' : recentSells > 0 ? 'sell' : 'neutral';
./k-man-island/src/components/InsiderAlert.tsx:52:              insiderType === 'buy' 
./k-man-island/src/components/InsiderAlert.tsx:58:                  insiderType === 'buy' ? 'bg-brand-emerald' : 'bg-brand-rose'
./k-man-island/src/components/InsiderAlert.tsx:65:                      insiderType === 'buy'
./k-man-island/src/components/InsiderAlert.tsx:74:                    insiderType === 'buy' ? 'text-brand-emerald' : 'text-brand-rose'
./k-man-island/src/components/InsiderAlert.tsx:76:                    {insiderType === 'buy' 
./k-man-island/src/components/InsiderAlert.tsx:77:                      ? `${recentBuys} kj√∏p registrert`
./k-man-island/src/components/InsiderAlert.tsx:78:                      : `${recentSells} salg registrert`
./k-man-island/src/components/InsiderAlert.tsx:82:                    {insiderType === 'buy'
./k-man-island/src/components/AnalyseContent.tsx:9:interface AnalyseContentProps {
./k-man-island/src/components/AnalyseContent.tsx:13:export default function AnalyseContent({ stocks }: AnalyseContentProps) {
./k-man-island/src/components/AnalyseContent.tsx:16:  // Get top performers by K-Score
./k-man-island/src/components/AnalyseContent.tsx:18:    .sort((a, b) => b.kScore - a.kScore)
./k-man-island/src/components/AnalyseContent.tsx:36:              Dyp Analyse
./k-man-island/src/components/AnalyseContent.tsx:39:              S√∏k etter en aksje for detaljert analyse med pris, target, risiko og innsidehandel
./k-man-island/src/components/AnalyseContent.tsx:52:            placeholder="S√∏k etter ticker eller navn... (OKEA, VAR, AAPL)"
./k-man-island/src/components/AnalyseContent.tsx:75:                <h2 className="text-2xl font-extrabold mb-3">Hvordan bruke Dyp Analyse</h2>
./k-man-island/src/components/AnalyseContent.tsx:87:                      Se detaljert analyse
./k-man-island/src/components/AnalyseContent.tsx:89:                    <p>F√• innsikt i pris, K-Score, target, stop loss og risk/reward.</p>
./k-man-island/src/components/AnalyseContent.tsx:118:              Topp 6 Etter K-Score
./k-man-island/src/components/AnalyseContent.tsx:120:            <p className="text-gray-600">Klikk p√• et kort for √• se full analyse</p>
./k-man-island/src/components/AnalyseContent.tsx:164:            <div className="text-sm font-semibold opacity-90 mb-2">Totalt analysert</div>
./k-man-island/src/components/AddTradeModal.tsx:5:import { supabase } from '@/lib/supabase/client';
./k-man-island/src/components/AddTradeModal.tsx:44:      // Insert trade into Supabase
./k-man-island/src/components/AddTradeModal.tsx:45:      const { data, error: supabaseError } = await supabase
./k-man-island/src/components/AddTradeModal.tsx:64:      if (supabaseError) {
./k-man-island/src/components/AddTradeModal.tsx:65:        throw supabaseError;
./k-man-island/src/components/AddTradeModal.tsx:85:      setError(err.message || 'Kunne ikke legge til trade. Sjekk at Supabase er konfigurert.');
./k-man-island/src/components/AddTradeModal.tsx:152:                placeholder="OKEA.OL"
./k-man-island/src/components/AddTradeModal.tsx:167:                placeholder="100"
./k-man-island/src/components/AddTradeModal.tsx:186:                placeholder="32.50"
./k-man-island/src/components/AddTradeModal.tsx:226:                  placeholder="29.50"
./k-man-island/src/components/AddTradeModal.tsx:243:                  placeholder="39.00"
./k-man-island/src/components/AddTradeModal.tsx:278:              placeholder="Skriv ned hvorfor du tok denne traden, tekniske observasjoner, etc."
./k-man-island/src/components/StockCard.tsx:10:  rank?: number;
./k-man-island/src/components/StockCard.tsx:13:export default function StockCard({ stock, rank }: StockCardProps) {
./k-man-island/src/components/StockCard.tsx:17:    BUY: { bg: 'bg-brand-emerald', text: 'KJ√òP', badgeBg: 'bg-white/20', badgeText: 'text-white' },
./k-man-island/src/components/StockCard.tsx:18:    SELL: { bg: 'bg-brand-rose', text: 'SELG', badgeBg: 'bg-white/20', badgeText: 'text-white' },
./k-man-island/src/components/StockCard.tsx:19:    HOLD: { bg: 'bg-gray-500', text: 'HOLD', badgeBg: 'bg-white/20', badgeText: 'text-white' },
./k-man-island/src/components/StockCard.tsx:23:  const kScoreColor = stock.kScore >= 75 ? 'bg-brand-emerald' : stock.kScore >= 60 ? 'bg-yellow-500' : 'bg-gray-400';
./k-man-island/src/components/StockCard.tsx:28:      href={`/analyse/${stock.ticker}`}
./k-man-island/src/components/StockCard.tsx:36:              {rank && (
./k-man-island/src/components/StockCard.tsx:38:                  #{rank}
./k-man-island/src/components/StockCard.tsx:49:            {/* Strategy Icons */}
./k-man-island/src/components/StockCard.tsx:51:              {stock.strategies.includes('MOMENTUM') && (
./k-man-island/src/components/StockCard.tsx:56:              {stock.strategies.includes('BUFFETT') && (
./k-man-island/src/components/StockCard.tsx:61:              {stock.strategies.includes('TVEITEREID') && (
./k-man-island/src/components/StockCard.tsx:66:              {stock.strategies.includes('REBOUND') && (
./k-man-island/src/components/StockCard.tsx:71:              {stock.strategies.includes('INSIDER') && (
./k-man-island/src/components/StockCard.tsx:99:        {/* K-SCORE */}
./k-man-island/src/components/StockCard.tsx:102:            <span className="text-xs text-gray-500 uppercase tracking-wide font-semibold">K-SCORE</span>
./k-man-island/src/components/StockCard.tsx:103:            <span className="text-2xl font-extrabold text-brand-slate">{stock.kScore}</span>
./k-man-island/src/components/StockCard.tsx:107:              className={clsx('h-full rounded-full k-score-bar', kScoreColor)}
./k-man-island/src/components/StockCard.tsx:108:              style={{ width: `${stock.kScore}%` }}
./k-man-island/src/lib/analysis/dead-money.ts:62:    recommendation = 'P√• rett spor. Fortsett overv√•king i henhold til plan.';
./k-man-island/src/lib/analysis/dead-money.ts:151:    .sort((a, b) => {
./k-man-island/src/lib/analysis/dead-money.ts:152:      // Sort: Dead Money first, then by time progress
./k-man-island/src/lib/strategies/index.ts:2: * K-man Island Strategy Registry
./k-man-island/src/lib/strategies/index.ts:6: * 1. Legg til i StrategyId type
./k-man-island/src/lib/strategies/index.ts:7: * 2. Legg til definisjon i STRATEGIES objekt
./k-man-island/src/lib/strategies/index.ts:14:// STRATEGY TYPES
./k-man-island/src/lib/strategies/index.ts:17:export type StrategyId = 
./k-man-island/src/lib/strategies/index.ts:43:export type StrategyCategory = 
./k-man-island/src/lib/strategies/index.ts:54:export interface StrategyDefinition {
./k-man-island/src/lib/strategies/index.ts:55:  id: StrategyId;
./k-man-island/src/lib/strategies/index.ts:59:  category: StrategyCategory;
./k-man-island/src/lib/strategies/index.ts:70:  typicalHoldingDays: {
./k-man-island/src/lib/strategies/index.ts:85:export interface StrategyEvaluation {
./k-man-island/src/lib/strategies/index.ts:86:  strategyId: StrategyId;
./k-man-island/src/lib/strategies/index.ts:88:  score: number;               // 0-100
./k-man-island/src/lib/strategies/index.ts:108:  insiderScore: number;
./k-man-island/src/lib/strategies/index.ts:109:  insiderBuys: number;
./k-man-island/src/lib/strategies/index.ts:115:// STRATEGY DEFINITIONS
./k-man-island/src/lib/strategies/index.ts:118:export const STRATEGIES: Record<StrategyId, StrategyDefinition> = {
./k-man-island/src/lib/strategies/index.ts:129:    typicalHoldingDays: { min: 10, max: 30 },
./k-man-island/src/lib/strategies/index.ts:145:    typicalHoldingDays: { min: 5, max: 20 },
./k-man-island/src/lib/strategies/index.ts:162:    typicalHoldingDays: { min: 30, max: 90 },
./k-man-island/src/lib/strategies/index.ts:178:    typicalHoldingDays: { min: 10, max: 30 },
./k-man-island/src/lib/strategies/index.ts:194:    typicalHoldingDays: { min: 14, max: 60 },
./k-man-island/src/lib/strategies/index.ts:210:    typicalHoldingDays: { min: 3, max: 10 },
./k-man-island/src/lib/strategies/index.ts:227:    typicalHoldingDays: { min: 0, max: 1 },
./k-man-island/src/lib/strategies/index.ts:243:    typicalHoldingDays: { min: 1, max: 5 },
./k-man-island/src/lib/strategies/index.ts:260:    typicalHoldingDays: { min: 20, max: 40 },
./k-man-island/src/lib/strategies/index.ts:277:    typicalHoldingDays: { min: 30, max: 90 },
./k-man-island/src/lib/strategies/index.ts:294:    typicalHoldingDays: { min: 30, max: 90 },
./k-man-island/src/lib/strategies/index.ts:311:    typicalHoldingDays: { min: 30, max: 180 },
./k-man-island/src/lib/strategies/index.ts:328:    typicalHoldingDays: { min: 1, max: 5 },
./k-man-island/src/lib/strategies/index.ts:344:    typicalHoldingDays: { min: 14, max: 60 },
./k-man-island/src/lib/strategies/index.ts:360:    typicalHoldingDays: { min: 90, max: 365 },
./k-man-island/src/lib/strategies/index.ts:369:// STRATEGY EVALUATORS
./k-man-island/src/lib/strategies/index.ts:375:export function evaluateAllStrategies(input: StockAnalysisInput): StrategyEvaluation[] {
./k-man-island/src/lib/strategies/index.ts:376:  const results: StrategyEvaluation[] = [];
./k-man-island/src/lib/strategies/index.ts:378:  for (const strategy of Object.values(STRATEGIES)) {
./k-man-island/src/lib/strategies/index.ts:379:    if (!strategy.enabled || strategy.requiresManualInput) continue;
./k-man-island/src/lib/strategies/index.ts:381:    const evaluation = evaluateStrategy(strategy.id, input);
./k-man-island/src/lib/strategies/index.ts:387:  return results.filter(e => e.passed).sort((a, b) => b.score - a.score);
./k-man-island/src/lib/strategies/index.ts:393:export function evaluateStrategy(strategyId: StrategyId, input: StockAnalysisInput): StrategyEvaluation | null {
./k-man-island/src/lib/strategies/index.ts:394:  switch (strategyId) {
./k-man-island/src/lib/strategies/index.ts:418:function evaluateMomentumTrend(input: StockAnalysisInput): StrategyEvaluation {
./k-man-island/src/lib/strategies/index.ts:420:  let score = 0;
./k-man-island/src/lib/strategies/index.ts:428:    score += 20;
./k-man-island/src/lib/strategies/index.ts:437:    score += 15;
./k-man-island/src/lib/strategies/index.ts:446:    score += 15;
./k-man-island/src/lib/strategies/index.ts:449:    score += 5;
./k-man-island/src/lib/strategies/index.ts:458:    score += 10;
./k-man-island/src/lib/strategies/index.ts:469:    score += 15;
./k-man-island/src/lib/strategies/index.ts:471:    score += 5;
./k-man-island/src/lib/strategies/index.ts:477:    score += 15;
./k-man-island/src/lib/strategies/index.ts:483:    score += 10;
./k-man-island/src/lib/strategies/index.ts:492:    strategyId: 'MOMENTUM_TREND',
./k-man-island/src/lib/strategies/index.ts:494:    score: Math.min(100, score),
./k-man-island/src/lib/strategies/index.ts:495:    confidence: passed ? Math.min(90, score + 10) : 30,
./k-man-island/src/lib/strategies/index.ts:506:function evaluateMomentumAsym(input: StockAnalysisInput): StrategyEvaluation {
./k-man-island/src/lib/strategies/index.ts:508:  let score = 0;
./k-man-island/src/lib/strategies/index.ts:516:    score += 15;
./k-man-island/src/lib/strategies/index.ts:524:    score += 10;
./k-man-island/src/lib/strategies/index.ts:533:    score += 20;
./k-man-island/src/lib/strategies/index.ts:536:    score += 10;
./k-man-island/src/lib/strategies/index.ts:545:    score += 10;
./k-man-island/src/lib/strategies/index.ts:555:    score += 25;
./k-man-island/src/lib/strategies/index.ts:558:    score += 15;
./k-man-island/src/lib/strategies/index.ts:564:    score += 15;
./k-man-island/src/lib/strategies/index.ts:570:    score += 15;
./k-man-island/src/lib/strategies/index.ts:572:    score += 5;
./k-man-island/src/lib/strategies/index.ts:581:    strategyId: 'MOMENTUM_ASYM',
./k-man-island/src/lib/strategies/index.ts:582:    passed: passed && score >= 50, // Trenger h√∏yere score for asym
./k-man-island/src/lib/strategies/index.ts:583:    score: Math.min(100, score),
./k-man-island/src/lib/strategies/index.ts:584:    confidence: score >= 70 ? 75 : 50,
./k-man-island/src/lib/strategies/index.ts:594:function evaluateBuffett(input: StockAnalysisInput): StrategyEvaluation {
./k-man-island/src/lib/strategies/index.ts:596:  let score = 0;
./k-man-island/src/lib/strategies/index.ts:602:    score += 25;
./k-man-island/src/lib/strategies/index.ts:605:    score += 10;
./k-man-island/src/lib/strategies/index.ts:614:    score += 20;
./k-man-island/src/lib/strategies/index.ts:617:    score += 5;
./k-man-island/src/lib/strategies/index.ts:626:    score += 25;
./k-man-island/src/lib/strategies/index.ts:629:    score += 15;
./k-man-island/src/lib/strategies/index.ts:638:    score += 20;
./k-man-island/src/lib/strategies/index.ts:640:    score += 10;
./k-man-island/src/lib/strategies/index.ts:647:    strategyId: 'BUFFETT',
./k-man-island/src/lib/strategies/index.ts:649:    score: Math.min(100, score),
./k-man-island/src/lib/strategies/index.ts:660:function evaluateTveitereid(input: StockAnalysisInput): StrategyEvaluation {
./k-man-island/src/lib/strategies/index.ts:662:  let score = 0;
./k-man-island/src/lib/strategies/index.ts:668:    score += 40;
./k-man-island/src/lib/strategies/index.ts:671:    score += 30;
./k-man-island/src/lib/strategies/index.ts:674:    score += 20;
./k-man-island/src/lib/strategies/index.ts:683:    score += 20;
./k-man-island/src/lib/strategies/index.ts:688:    score += 15;
./k-man-island/src/lib/strategies/index.ts:693:    score += 15;
./k-man-island/src/lib/strategies/index.ts:700:    strategyId: 'TVEITEREID',
./k-man-island/src/lib/strategies/index.ts:702:    score: Math.min(100, score),
./k-man-island/src/lib/strategies/index.ts:713:function evaluateInsider(input: StockAnalysisInput): StrategyEvaluation {
./k-man-island/src/lib/strategies/index.ts:715:  let score = 0;
./k-man-island/src/lib/strategies/index.ts:719:  if (input.insiderScore >= 60) {
./k-man-island/src/lib/strategies/index.ts:720:    reasoning.push(`üî• H√∏y insider-score (${input.insiderScore}) - sterkt signal`);
./k-man-island/src/lib/strategies/index.ts:721:    score += 50;
./k-man-island/src/lib/strategies/index.ts:723:  } else if (input.insiderScore >= 40) {
./k-man-island/src/lib/strategies/index.ts:724:    reasoning.push(`‚úÖ God insider-aktivitet (${input.insiderScore})`);
./k-man-island/src/lib/strategies/index.ts:725:    score += 30;
./k-man-island/src/lib/strategies/index.ts:727:  } else if (input.insiderBuys > 0) {
./k-man-island/src/lib/strategies/index.ts:728:    reasoning.push(`‚ö†Ô∏è Noen innsidekj√∏p (${input.insiderBuys})`);
./k-man-island/src/lib/strategies/index.ts:729:    score += 15;
./k-man-island/src/lib/strategies/index.ts:737:    score += 20;
./k-man-island/src/lib/strategies/index.ts:741:  if (input.insiderBuys >= 3) {
./k-man-island/src/lib/strategies/index.ts:742:    reasoning.push(`‚úÖ ${input.insiderBuys} innsidekj√∏p - konsensus!`);
./k-man-island/src/lib/strategies/index.ts:743:    score += 20;
./k-man-island/src/lib/strategies/index.ts:750:    strategyId: 'INSIDER',
./k-man-island/src/lib/strategies/index.ts:752:    score: Math.min(100, score),
./k-man-island/src/lib/strategies/index.ts:753:    confidence: input.insiderBuys >= 2 ? 70 : 50,
./k-man-island/src/lib/strategies/index.ts:763:function evaluateRebound(input: StockAnalysisInput): StrategyEvaluation {
./k-man-island/src/lib/strategies/index.ts:765:  let score = 0;
./k-man-island/src/lib/strategies/index.ts:771:    score += 40;
./k-man-island/src/lib/strategies/index.ts:775:    score += 25;
./k-man-island/src/lib/strategies/index.ts:784:    score += 25;
./k-man-island/src/lib/strategies/index.ts:787:    score += 5;
./k-man-island/src/lib/strategies/index.ts:793:    score += 20;
./k-man-island/src/lib/strategies/index.ts:800:    strategyId: 'REBOUND',
./k-man-island/src/lib/strategies/index.ts:802:    score: Math.min(100, score),
./k-man-island/src/lib/strategies/index.ts:813:function evaluateDaytrader(input: StockAnalysisInput): StrategyEvaluation {
./k-man-island/src/lib/strategies/index.ts:815:  let score = 0;
./k-man-island/src/lib/strategies/index.ts:821:    score += 35;
./k-man-island/src/lib/strategies/index.ts:824:    score += 25;
./k-man-island/src/lib/strategies/index.ts:827:    score += 15;
./k-man-island/src/lib/strategies/index.ts:837:    score += 25;
./k-man-island/src/lib/strategies/index.ts:840:    score += 10;
./k-man-island/src/lib/strategies/index.ts:849:    score += 20;
./k-man-island/src/lib/strategies/index.ts:851:    score += 10;
./k-man-island/src/lib/strategies/index.ts:857:    score += 15;
./k-man-island/src/lib/strategies/index.ts:860:    score += 5;
./k-man-island/src/lib/strategies/index.ts:868:    strategyId: 'DAYTRADER',
./k-man-island/src/lib/strategies/index.ts:869:    passed: passed && score >= 50,
./k-man-island/src/lib/strategies/index.ts:870:    score: Math.min(100, score),
./k-man-island/src/lib/strategies/index.ts:871:    confidence: score >= 70 ? 60 : 40,
./k-man-island/src/lib/strategies/index.ts:881:function evaluateSwingShort(input: StockAnalysisInput): StrategyEvaluation {
./k-man-island/src/lib/strategies/index.ts:883:  let score = 0;
./k-man-island/src/lib/strategies/index.ts:888:    score += 15;
./k-man-island/src/lib/strategies/index.ts:897:    score += 20;
./k-man-island/src/lib/strategies/index.ts:905:    score += 20;
./k-man-island/src/lib/strategies/index.ts:911:    score += 25;
./k-man-island/src/lib/strategies/index.ts:916:    score += 15;
./k-man-island/src/lib/strategies/index.ts:923:    strategyId: 'SWING_SHORT',
./k-man-island/src/lib/strategies/index.ts:925:    score: Math.min(100, score),
./k-man-island/src/lib/strategies/index.ts:942:export function getEnabledStrategies(): StrategyDefinition[] {
./k-man-island/src/lib/strategies/index.ts:943:  return Object.values(STRATEGIES).filter(s => s.enabled);
./k-man-island/src/lib/strategies/index.ts:949:export function getStrategiesByCategory(category: StrategyCategory): StrategyDefinition[] {
./k-man-island/src/lib/strategies/index.ts:950:  return Object.values(STRATEGIES).filter(s => s.category === category && s.enabled);
./k-man-island/src/lib/strategies/index.ts:956:export function getStrategiesByRisk(riskLevel: RiskLevel): StrategyDefinition[] {
./k-man-island/src/lib/strategies/index.ts:957:  return Object.values(STRATEGIES).filter(s => s.riskLevel === riskLevel && s.enabled);
./k-man-island/src/lib/strategies/index.ts:963:export function getRecommendedAllocation(riskTolerance: 'conservative' | 'moderate' | 'aggressive'): Record<StrategyId, number> {
./k-man-island/src/lib/strategies/index.ts:971:      } as Record<StrategyId, number>;
./k-man-island/src/lib/strategies/index.ts:981:      } as Record<StrategyId, number>;
./k-man-island/src/lib/strategies/index.ts:990:      } as Record<StrategyId, number>;
./k-man-island/src/lib/supabase/schema.sql:4:-- VIKTIG: Kj√∏r dette i Supabase SQL Editor
./k-man-island/src/lib/supabase/schema.sql:11:-- STRATEGIES TABLE (ny!)
./k-man-island/src/lib/supabase/schema.sql:14:CREATE TABLE IF NOT EXISTS strategies (
./k-man-island/src/lib/supabase/schema.sql:41:  strategy_id TEXT REFERENCES strategies(id),    -- Hovedstrategi (valgfri)
./k-man-island/src/lib/supabase/schema.sql:42:  allowed_strategies TEXT[],                      -- Liste over tillatte strategier
./k-man-island/src/lib/supabase/schema.sql:66:  strategy_id TEXT NOT NULL REFERENCES strategies(id),
./k-man-island/src/lib/supabase/schema.sql:100:  -- Analyse-data ved kj√∏p (for l√¶ring)
./k-man-island/src/lib/supabase/schema.sql:102:  entry_k_score INTEGER,
./k-man-island/src/lib/supabase/schema.sql:117:  strategy_id TEXT NOT NULL REFERENCES strategies(id),
./k-man-island/src/lib/supabase/schema.sql:121:  signal_type TEXT NOT NULL CHECK (signal_type IN ('BUY', 'SELL', 'ALERT')),
./k-man-island/src/lib/supabase/schema.sql:123:  -- Analyse ved signal
./k-man-island/src/lib/supabase/schema.sql:128:  score INTEGER,
./k-man-island/src/lib/supabase/schema.sql:148:  strategy_id TEXT NOT NULL REFERENCES strategies(id),  -- f.eks. 'DNB_MONTHLY'
./k-man-island/src/lib/supabase/schema.sql:151:  recommendation TEXT NOT NULL CHECK (recommendation IN ('BUY', 'HOLD', 'SELL')),
./k-man-island/src/lib/supabase/schema.sql:177:CREATE INDEX IF NOT EXISTS idx_trades_strategy ON trades(strategy_id);
./k-man-island/src/lib/supabase/schema.sql:181:CREATE INDEX IF NOT EXISTS idx_signals_strategy ON trade_signals(strategy_id);
./k-man-island/src/lib/supabase/schema.sql:185:CREATE INDEX IF NOT EXISTS idx_analyst_strategy ON analyst_picks(strategy_id);
./k-man-island/src/lib/supabase/schema.sql:207:-- INSERT DEFAULT STRATEGIES
./k-man-island/src/lib/supabase/schema.sql:209:INSERT INTO strategies (id, name, short_name, description, category, risk_level, target_return_min, target_return_max, time_horizon, color, emoji, enabled, requires_manual_input) VALUES
./k-man-island/src/lib/supabase/schema.sql:245:INSERT INTO portfolios (name, description, strategy_id, allowed_strategies) VALUES
./k-man-island/src/lib/supabase/schema.sql:262:  s.name as strategy_name,
./k-man-island/src/lib/supabase/schema.sql:263:  s.short_name as strategy_short,
./k-man-island/src/lib/supabase/schema.sql:264:  s.color as strategy_color,
./k-man-island/src/lib/supabase/schema.sql:265:  s.emoji as strategy_emoji,
./k-man-island/src/lib/supabase/schema.sql:270:JOIN strategies s ON t.strategy_id = s.id
./k-man-island/src/lib/supabase/schema.sql:289:CREATE OR REPLACE VIEW strategy_performance_view AS
./k-man-island/src/lib/supabase/schema.sql:291:  s.id as strategy_id,
./k-man-island/src/lib/supabase/schema.sql:292:  s.name as strategy_name,
./k-man-island/src/lib/supabase/schema.sql:303:FROM strategies s
./k-man-island/src/lib/supabase/schema.sql:304:LEFT JOIN trades t ON s.id = t.strategy_id
./k-man-island/src/lib/supabase/client.ts:1:import { createClient } from '@supabase/supabase-js';
./k-man-island/src/lib/supabase/client.ts:3:const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || '';
./k-man-island/src/lib/supabase/client.ts:4:const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || '';
./k-man-island/src/lib/supabase/client.ts:6:export const supabase = createClient(supabaseUrl, supabaseAnonKey);
./k-man-island/src/lib/types.ts:1:import { StrategyId, StrategyEvaluation } from './strategies';
./k-man-island/src/lib/types.ts:10:  // Analyse-score
./k-man-island/src/lib/types.ts:11:  kScore: number;
./k-man-island/src/lib/types.ts:13:  signal: 'BUY' | 'HOLD' | 'SELL';
./k-man-island/src/lib/types.ts:27:  // NYE STRATEGIER - bruker StrategyId fra strategies/index.ts
./k-man-island/src/lib/types.ts:28:  strategies: StrategyId[];
./k-man-island/src/lib/types.ts:29:  strategyEvaluations?: StrategyEvaluation[]; // Detaljert analyse per strategi
./k-man-island/src/lib/types.ts:32:  insiderScore?: number;
./k-man-island/src/lib/types.ts:33:  insiderBuys?: number;
./k-man-island/src/lib/types.ts:45:export type LegacyStrategyType = 'MOMENTUM' | 'BUFFETT' | 'TVEITEREID' | 'REBOUND' | 'INSIDER';
./k-man-island/src/lib/types.ts:47:export function mapLegacyStrategy(legacy: LegacyStrategyType): StrategyId {
./k-man-island/src/lib/types.ts:75:  // Strategy - NYTT: Hvilken strategi ble brukt
./k-man-island/src/lib/types.ts:76:  strategyId: StrategyId;
./k-man-island/src/lib/types.ts:116:  strategyId?: StrategyId;          // Hvis portef√∏ljen f√∏lger √©n strategi
./k-man-island/src/lib/types.ts:117:  allowedStrategies?: StrategyId[]; // Hvis flere strategier er tillatt
./k-man-island/src/lib/types.ts:150:  statsByStrategy: Record<StrategyId, {
./k-man-island/src/lib/types.ts:166:  strategyId: StrategyId;
./k-man-island/src/lib/api/stock-data.ts:3:interface YahooQuote {
./k-man-island/src/lib/api/stock-data.ts:72: * Hent aksjedata fra Yahoo Finance med bedre error handling
./k-man-island/src/lib/api/stock-data.ts:74:async function fetchYahooFinanceData(symbols: string[]): Promise<YahooQuote[]> {
./k-man-island/src/lib/api/stock-data.ts:75:  const results: YahooQuote[] = [];
./k-man-island/src/lib/api/stock-data.ts:80:      const url = `https://query1.finance.yahoo.com/v8/finance/chart/${symbol}?interval=1d&range=1d`;
./k-man-island/src/lib/api/stock-data.ts:86:        cache: 'no-store', // Always fetch fresh data
./k-man-island/src/lib/api/stock-data.ts:90:        console.warn(`Yahoo Finance error for ${symbol}: ${response.status}`);
./k-man-island/src/lib/api/stock-data.ts:131:function calculateTechnicalIndicators(quote: YahooQuote): {
./k-man-island/src/lib/api/stock-data.ts:133:  kScore: number;
./k-man-island/src/lib/api/stock-data.ts:134:  signal: 'BUY' | 'HOLD' | 'SELL';
./k-man-island/src/lib/api/stock-data.ts:153:  // K-Score beregning - mer granul√¶r med desimaler
./k-man-island/src/lib/api/stock-data.ts:154:  let kScore = 40; // Start litt lavere
./k-man-island/src/lib/api/stock-data.ts:157:  const momentumScore = Math.min(30, Math.max(-10, changePercent * 3));
./k-man-island/src/lib/api/stock-data.ts:158:  kScore += momentumScore;
./k-man-island/src/lib/api/stock-data.ts:163:  const rsiScore = Math.max(0, 25 - (rsiDistance * 0.8));
./k-man-island/src/lib/api/stock-data.ts:164:  kScore += rsiScore;
./k-man-island/src/lib/api/stock-data.ts:167:  const positionScore = (pricePosition / 100) * 20;
./k-man-island/src/lib/api/stock-data.ts:168:  kScore += positionScore;
./k-man-island/src/lib/api/stock-data.ts:172:  const volatilityScore = Math.min(15, volatilityRange * 10);
./k-man-island/src/lib/api/stock-data.ts:173:  kScore += volatilityScore;
./k-man-island/src/lib/api/stock-data.ts:176:  kScore = Math.max(30, Math.min(95, kScore));
./k-man-island/src/lib/api/stock-data.ts:190:  let signal: 'BUY' | 'HOLD' | 'SELL';
./k-man-island/src/lib/api/stock-data.ts:191:  if (kScore >= 70 && rsi < 60 && changePercent > -1 && riskRewardRatio >= 1.5) {
./k-man-island/src/lib/api/stock-data.ts:192:    // BUY: God K-Score, ikke overkj√∏pt, akseptabel endring, OG god Risk/Reward (minst 1.5:1)
./k-man-island/src/lib/api/stock-data.ts:193:    signal = 'BUY';
./k-man-island/src/lib/api/stock-data.ts:194:  } else if (rsi > 70 || changePercent < -3 || kScore < 40 || riskRewardRatio < 1) {
./k-man-island/src/lib/api/stock-data.ts:195:    // SELL: Overkj√∏pt, stor nedgang, svak K-Score, ELLER d√•rlig Risk/Reward
./k-man-island/src/lib/api/stock-data.ts:196:    signal = 'SELL';
./k-man-island/src/lib/api/stock-data.ts:198:    signal = 'HOLD';
./k-man-island/src/lib/api/stock-data.ts:203:    kScore: Math.round(kScore), // Keep as whole number for display
./k-man-island/src/lib/api/stock-data.ts:215: * Konverter Yahoo data til v√•rt Stock format
./k-man-island/src/lib/api/stock-data.ts:217:function convertToStock(quote: YahooQuote): Stock {
./k-man-island/src/lib/api/stock-data.ts:221:  // Strategies basert p√• signal og karakteristikker
./k-man-island/src/lib/api/stock-data.ts:222:  const strategies: ('MOMENTUM' | 'BUFFETT' | 'TVEITEREID' | 'REBOUND')[] = [];
./k-man-island/src/lib/api/stock-data.ts:224:  // MOMENTUM: Strong uptrend with good K-Score
./k-man-island/src/lib/api/stock-data.ts:225:  if (indicators.signal === 'BUY' && quote.regularMarketChangePercent > 1) {
./k-man-island/src/lib/api/stock-data.ts:226:    strategies.push('MOMENTUM');
./k-man-island/src/lib/api/stock-data.ts:229:  // BUFFETT: High quality (K-Score) regardless of short-term movement
./k-man-island/src/lib/api/stock-data.ts:230:  if (indicators.kScore >= 70) {
./k-man-island/src/lib/api/stock-data.ts:231:    strategies.push('BUFFETT');
./k-man-island/src/lib/api/stock-data.ts:236:    strategies.push('TVEITEREID');
./k-man-island/src/lib/api/stock-data.ts:242:    strategies.push('REBOUND');
./k-man-island/src/lib/api/stock-data.ts:247:  const isTrend = indicators.kScore >= 70 && indicators.rsi >= 40 && indicators.rsi <= 60;
./k-man-island/src/lib/api/stock-data.ts:264:    kScore: indicators.kScore,
./k-man-island/src/lib/api/stock-data.ts:273:    timeHorizon: indicators.signal === 'BUY' ? '2-6 uker' : '4-8 uker',
./k-man-island/src/lib/api/stock-data.ts:275:    strategies: strategies.length > 0 ? strategies : ['MOMENTUM'],
./k-man-island/src/lib/api/stock-data.ts:347:    const quotes = await fetchYahooFinanceData(WATCHLIST);
./k-man-island/src/lib/api/stock-data.ts:350:      console.warn('No data from Yahoo Finance, using fallback');
./k-man-island/src/lib/api/stock-data.ts:358:      .sort((a, b) => b.kScore - a.kScore);
./k-man-island/src/lib/api/stock-data-v2.ts:13:  evaluateAllStrategies, 
./k-man-island/src/lib/api/stock-data-v2.ts:15:  StrategyId,
./k-man-island/src/lib/api/stock-data-v2.ts:16:} from '../strategies';
./k-man-island/src/lib/api/stock-data-v2.ts:86: * Hent alle aksjer med strategi-analyse
./k-man-island/src/lib/api/stock-data-v2.ts:87: * Bruker det nye strategy registry systemet
./k-man-island/src/lib/api/stock-data-v2.ts:90:  console.log('üöÄ Fetching all stocks with Strategy Analysis...');
./k-man-island/src/lib/api/stock-data-v2.ts:120:        // Analyser insider-aktivitet
./k-man-island/src/lib/api/stock-data-v2.ts:135:          insiderScore: insiderAnalysis.score,
./k-man-island/src/lib/api/stock-data-v2.ts:136:          insiderBuys: insiderAnalysis.buys,
./k-man-island/src/lib/api/stock-data-v2.ts:142:        const strategyEvaluations = evaluateAllStrategies(analysisInput);
./k-man-island/src/lib/api/stock-data-v2.ts:145:        if (strategyEvaluations.length === 0) {
./k-man-island/src/lib/api/stock-data-v2.ts:146:          console.log(`‚ùå ${symbol}: No strategies passed`);
./k-man-island/src/lib/api/stock-data-v2.ts:151:        const strategies = strategyEvaluations.map(e => e.strategyId);
./k-man-island/src/lib/api/stock-data-v2.ts:154:        const bestStrategy = strategyEvaluations[0];
./k-man-island/src/lib/api/stock-data-v2.ts:156:        console.log(`‚úÖ ${symbol}: ${strategies.join(', ')} | Score: ${bestStrategy.score} | R/R: ${bestStrategy.riskRewardRatio}`);
./k-man-island/src/lib/api/stock-data-v2.ts:166:          // Bruk beste strategi sin score
./k-man-island/src/lib/api/stock-data-v2.ts:167:          kScore: bestStrategy.score,
./k-man-island/src/lib/api/stock-data-v2.ts:169:          signal: 'BUY', // Alle som passerer er kj√∏pssignaler
./k-man-island/src/lib/api/stock-data-v2.ts:172:          target: bestStrategy.suggestedTarget || quote.c * 1.20,
./k-man-island/src/lib/api/stock-data-v2.ts:173:          stopLoss: bestStrategy.suggestedStop || quote.c * 0.92,
./k-man-island/src/lib/api/stock-data-v2.ts:174:          gainKr: (bestStrategy.suggestedTarget || quote.c * 1.20) - quote.c,
./k-man-island/src/lib/api/stock-data-v2.ts:175:          gainPercent: (((bestStrategy.suggestedTarget || quote.c * 1.20) - quote.c) / quote.c) * 100,
./k-man-island/src/lib/api/stock-data-v2.ts:176:          riskKr: quote.c - (bestStrategy.suggestedStop || quote.c * 0.92),
./k-man-island/src/lib/api/stock-data-v2.ts:177:          riskPercent: ((quote.c - (bestStrategy.suggestedStop || quote.c * 0.92)) / quote.c) * 100,
./k-man-island/src/lib/api/stock-data-v2.ts:178:          timeHorizon: getTimeHorizonText(strategies[0]),
./k-man-island/src/lib/api/stock-data-v2.ts:183:          strategies,
./k-man-island/src/lib/api/stock-data-v2.ts:184:          strategyEvaluations,
./k-man-island/src/lib/api/stock-data-v2.ts:187:          insiderScore: insiderAnalysis.score,
./k-man-island/src/lib/api/stock-data-v2.ts:188:          insiderBuys: insiderAnalysis.buys,
./k-man-island/src/lib/api/stock-data-v2.ts:215:  // Sorter etter score
./k-man-island/src/lib/api/stock-data-v2.ts:216:  results.sort((a, b) => b.kScore - a.kScore);
./k-man-island/src/lib/api/stock-data-v2.ts:218:  console.log(`‚ú® Found ${results.length} stocks matching strategies`);
./k-man-island/src/lib/api/stock-data-v2.ts:230:export function filterByStrategy(stocks: Stock[], strategyId: StrategyId): Stock[] {
./k-man-island/src/lib/api/stock-data-v2.ts:231:  return stocks.filter(stock => stock.strategies.includes(strategyId));
./k-man-island/src/lib/api/stock-data-v2.ts:237:export function filterByStrategies(stocks: Stock[], strategyIds: StrategyId[]): Stock[] {
./k-man-island/src/lib/api/stock-data-v2.ts:239:    strategyIds.some(id => stock.strategies.includes(id))
./k-man-island/src/lib/api/stock-data-v2.ts:244: * Hent aksjer sortert for en spesifikk strategi
./k-man-island/src/lib/api/stock-data-v2.ts:246:export function getStocksForStrategy(stocks: Stock[], strategyId: StrategyId): Stock[] {
./k-man-island/src/lib/api/stock-data-v2.ts:248:    .filter(stock => stock.strategies.includes(strategyId))
./k-man-island/src/lib/api/stock-data-v2.ts:251:      // Oppdater score til den spesifikke strategiens score
./k-man-island/src/lib/api/stock-data-v2.ts:252:      kScore: stock.strategyEvaluations?.find(e => e.strategyId === strategyId)?.score || stock.kScore,
./k-man-island/src/lib/api/stock-data-v2.ts:254:    .sort((a, b) => b.kScore - a.kScore);
./k-man-island/src/lib/api/stock-data-v2.ts:325:  score: number;
./k-man-island/src/lib/api/stock-data-v2.ts:326:  buys: number;
./k-man-island/src/lib/api/stock-data-v2.ts:327:  sells: number;
./k-man-island/src/lib/api/stock-data-v2.ts:333:    return { score: 0, buys: 0, sells: 0, netShares: 0 };
./k-man-island/src/lib/api/stock-data-v2.ts:336:  const buys = transactions.filter(t => t.transactionCode === 'P');
./k-man-island/src/lib/api/stock-data-v2.ts:337:  const sells = transactions.filter(t => t.transactionCode === 'S');
./k-man-island/src/lib/api/stock-data-v2.ts:339:  const buyCount = buys.length;
./k-man-island/src/lib/api/stock-data-v2.ts:340:  const sellCount = sells.length;
./k-man-island/src/lib/api/stock-data-v2.ts:342:  const buyShares = buys.reduce((sum, t) => sum + Math.abs(t.change), 0);
./k-man-island/src/lib/api/stock-data-v2.ts:343:  const sellShares = sells.reduce((sum, t) => sum + Math.abs(t.change), 0);
./k-man-island/src/lib/api/stock-data-v2.ts:344:  const netShares = buyShares - sellShares;
./k-man-island/src/lib/api/stock-data-v2.ts:346:  let score = 0;
./k-man-island/src/lib/api/stock-data-v2.ts:348:  // Buy-to-Sell ratio (0-40 points)
./k-man-island/src/lib/api/stock-data-v2.ts:349:  if (buyCount + sellCount > 0) {
./k-man-island/src/lib/api/stock-data-v2.ts:350:    const buyRatio = buyCount / (buyCount + sellCount);
./k-man-island/src/lib/api/stock-data-v2.ts:351:    score += buyRatio * 40;
./k-man-island/src/lib/api/stock-data-v2.ts:356:    score += Math.min(30, (netShares / 10000) * 10);
./k-man-island/src/lib/api/stock-data-v2.ts:360:  const recentBuys = buys.filter(t => {
./k-man-island/src/lib/api/stock-data-v2.ts:365:  if (recentBuys.length > 0) {
./k-man-island/src/lib/api/stock-data-v2.ts:366:    score += Math.min(30, recentBuys.length * 10);
./k-man-island/src/lib/api/stock-data-v2.ts:370:    score: Math.round(Math.min(100, score)),
./k-man-island/src/lib/api/stock-data-v2.ts:371:    buys: buyCount,
./k-man-island/src/lib/api/stock-data-v2.ts:372:    sells: sellCount,
./k-man-island/src/lib/api/stock-data-v2.ts:377:function getTimeHorizonText(strategyId: StrategyId): string {
./k-man-island/src/lib/api/stock-data-v2.ts:378:  const horizons: Record<StrategyId, string> = {
./k-man-island/src/lib/api/stock-data-v2.ts:395:  return horizons[strategyId] || '15 dager';
./k-man-island/src/lib/api/finnhub.ts:32:      { next: { revalidate: 300 } } // Cache i 5 minutter
./k-man-island/src/lib/api/finnhub.ts:63:      { next: { revalidate: 1800 } } // Cache i 30 minutter
./k-man-island/src/lib/api/finnhub.ts:174:      { next: { revalidate: 3600 } } // Cache i 1 time
./k-man-island/src/lib/api/finnhub.ts:221:      { next: { revalidate: 1800 } } // Cache i 30 minutter
./k-man-island/src/lib/api/k-momentum.ts:12:  score: number;
./k-man-island/src/lib/api/k-momentum.ts:13:  breakdownScores: {
./k-man-island/src/lib/api/k-momentum.ts:29:  breakoutThreshold: number; // % from 20d high to qualify
./k-man-island/src/lib/api/k-momentum.ts:38:  breakoutThreshold: 2, // Within 2% of 20d high
./k-man-island/src/lib/api/k-momentum.ts:46: * Kj√∏r K-Momentum analyse p√• en aksje
./k-man-island/src/lib/api/k-momentum.ts:98:  if (distanceFromHigh < -config.breakoutThreshold) {
./k-man-island/src/lib/api/k-momentum.ts:114:  // CALCULATE K-MOMENTUM SCORE (0-100)
./k-man-island/src/lib/api/k-momentum.ts:139:  const relVolumeScore = Math.min(20, (relVol - 1) * 20);
./k-man-island/src/lib/api/k-momentum.ts:144:  const roomScore = Math.min(15, roomToRun / 2);
./k-man-island/src/lib/api/k-momentum.ts:151:  let volScore = 0;
./k-man-island/src/lib/api/k-momentum.ts:153:    volScore = 10;
./k-man-island/src/lib/api/k-momentum.ts:155:    volScore = 5;
./k-man-island/src/lib/api/k-momentum.ts:157:    volScore = 5;
./k-man-island/src/lib/api/k-momentum.ts:160:  const totalScore = Math.round(
./k-man-island/src/lib/api/k-momentum.ts:163:    relVolumeScore + 
./k-man-island/src/lib/api/k-momentum.ts:164:    roomScore + 
./k-man-island/src/lib/api/k-momentum.ts:165:    volScore
./k-man-island/src/lib/api/k-momentum.ts:176:    score: totalScore,
./k-man-island/src/lib/api/k-momentum.ts:177:    breakdownScores: {
./k-man-island/src/lib/api/k-momentum.ts:180:      relVolume: Math.round(relVolumeScore),
./k-man-island/src/lib/api/k-momentum.ts:181:      roomToRun: Math.round(roomScore),
./k-man-island/src/lib/api/k-momentum.ts:182:      volatilityFit: Math.round(volScore),
./k-man-island/src/lib/api/k-momentum.ts:231:    score: 0,
./k-man-island/src/lib/api/k-momentum.ts:232:    breakdownScores: {
./k-man-island/src/lib/mock-data.ts:10:    kScore: 84,
./k-man-island/src/lib/mock-data.ts:12:    signal: 'BUY',
./k-man-island/src/lib/mock-data.ts:21:    strategies: ['MOMENTUM'],
./k-man-island/src/lib/mock-data.ts:29:    kScore: 82,
./k-man-island/src/lib/mock-data.ts:31:    signal: 'BUY',
./k-man-island/src/lib/mock-data.ts:40:    strategies: ['MOMENTUM'],
./k-man-island/src/lib/mock-data.ts:48:    kScore: 79,
./k-man-island/src/lib/mock-data.ts:50:    signal: 'BUY',
./k-man-island/src/lib/mock-data.ts:59:    strategies: ['MOMENTUM', 'BUFFETT'],
./k-man-island/src/lib/mock-data.ts:67:    kScore: 76,
./k-man-island/src/lib/mock-data.ts:69:    signal: 'HOLD',
./k-man-island/src/lib/mock-data.ts:78:    strategies: ['BUFFETT'],
./k-man-island/src/lib/mock-data.ts:86:    kScore: 74,
./k-man-island/src/lib/mock-data.ts:88:    signal: 'HOLD',
./k-man-island/src/lib/mock-data.ts:97:    strategies: ['MOMENTUM', 'BUFFETT'],
./k-man-island/src/lib/mock-data.ts:105:    kScore: 71,
./k-man-island/src/lib/mock-data.ts:107:    signal: 'HOLD',
./k-man-island/src/lib/mock-data.ts:116:    strategies: ['BUFFETT', 'TVEITEREID'],
./k-man-island/src/lib/mock-data.ts:124:    kScore: 68,
./k-man-island/src/lib/mock-data.ts:126:    signal: 'HOLD',
./k-man-island/src/lib/mock-data.ts:135:    strategies: ['BUFFETT'],
./k-man-island/src/lib/mock-data.ts:143:    kScore: 45,
./k-man-island/src/lib/mock-data.ts:145:    signal: 'SELL',
./k-man-island/src/lib/mock-data.ts:154:    strategies: ['MOMENTUM'],
./k-man-island/src/lib/mock-data.ts:191:    strategyBucket: 'K-Momentum',
./k-man-island/src/lib/mock-data.ts:197:    strategyBucket: 'Legacy',
./k-man-island/src/lib/store/local-store.ts:2: * Local Store - Lokal lagring for utvikling uten Supabase
./k-man-island/src/lib/store/local-store.ts:7: * For produksjon: Bytt til Supabase
./k-man-island/src/lib/store/local-store.ts:11:import { StrategyId, STRATEGIES } from '../strategies';
./k-man-island/src/lib/store/local-store.ts:48:    strategyId: 'MOMENTUM_TREND',
./k-man-island/src/lib/store/local-store.ts:49:    allowedStrategies: ['MOMENTUM_TREND'],
./k-man-island/src/lib/store/local-store.ts:55:    strategyId: 'MOMENTUM_ASYM',
./k-man-island/src/lib/store/local-store.ts:56:    allowedStrategies: ['MOMENTUM_ASYM'],
./k-man-island/src/lib/store/local-store.ts:62:    allowedStrategies: ['MOMENTUM_TREND', 'MOMENTUM_ASYM', 'BUFFETT', 'TVEITEREID', 'INSIDER', 'DAYTRADER'],
./k-man-island/src/lib/store/local-store.ts:68:    strategyId: 'DAYTRADER',
./k-man-island/src/lib/store/local-store.ts:69:    allowedStrategies: ['DAYTRADER', 'SWING_SHORT'],
./k-man-island/src/lib/store/local-store.ts:126:  strategyId?: StrategyId;
./k-man-island/src/lib/store/local-store.ts:127:  allowedStrategies?: StrategyId[];
./k-man-island/src/lib/store/local-store.ts:135:    strategyId: data.strategyId,
./k-man-island/src/lib/store/local-store.ts:136:    allowedStrategies: data.allowedStrategies || (data.strategyId ? [data.strategyId] : undefined),
./k-man-island/src/lib/store/local-store.ts:189:export function getTradesByStrategy(strategyId: StrategyId): Trade[] {
./k-man-island/src/lib/store/local-store.ts:190:  return getTrades().filter(t => t.strategyId === strategyId);
./k-man-island/src/lib/store/local-store.ts:208:    strategyId: input.strategyId,
./k-man-island/src/lib/store/local-store.ts:223:  console.log(`‚úÖ Trade created: ${input.ticker} (${input.strategyId})`);
./k-man-island/src/lib/store/local-store.ts:308:export function getStrategyStats(strategyId: StrategyId) {
./k-man-island/src/lib/store/local-store.ts:309:  const trades = getTradesByStrategy(strategyId);
./k-man-island/src/lib/store/index.ts:4: * Eksporterer enten lokal store eller Supabase basert p√• konfigurasjon.
./k-man-island/src/lib/store/index.ts:9: * - Produksjon: Fjern variabelen eller sett til false, og konfigurer Supabase
./k-man-island/src/lib/store/index.ts:13:// TODO: Legg til Supabase-implementasjon og automatisk switch
./k-man-island/src/lib/store/index.ts:25:  getTradesByStrategy,
./k-man-island/src/lib/store/index.ts:33:  getStrategyStats,
./SUPABASE_SETUP.md:1:# Supabase Setup Guide
./SUPABASE_SETUP.md:3:Denne guiden vil hjelpe deg med √• sette opp Supabase for K-man Island.
./SUPABASE_SETUP.md:5:## Steg 1: Opprett Supabase Prosjekt
./SUPABASE_SETUP.md:7:1. G√• til [Supabase](https://supabase.com)
./SUPABASE_SETUP.md:17:1. I Supabase dashboard, g√• til "SQL Editor" (i venstre meny)
./SUPABASE_SETUP.md:19:3. Kopier innholdet fra `src/lib/supabase/schema.sql`
./SUPABASE_SETUP.md:30:1. I Supabase dashboard, g√• til "Settings" > "API"
./SUPABASE_SETUP.md:36:NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
./SUPABASE_SETUP.md:37:NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
./SUPABASE_SETUP.md:45:G√• til Supabase Table Editor og sjekk at dataen ble lagret korrekt.
./SUPABASE_SETUP.md:70:- Sjekk at Supabase project URL og API key er korrekte
./SUPABASE_SETUP.md:73:- Sjekk RLS policies i Supabase
./SUPABASE_SETUP.md:78:N√•r Supabase er satt opp, kan du:
./src/app/guide/page.tsx:53:        description: 'Viser aksjer rangert etter K-Score og valgt strategi. √òverst = best match for strategien.',
./src/app/guide/page.tsx:67:        description: 'Hold √∏ye med kommende resultatfremleggelser for aksjer i portef√∏ljen.',
./src/app/guide/page.tsx:87:        tip: 'Analyser dine lukkede trades for √• l√¶re av feil og suksesser.',
./src/app/guide/page.tsx:108:        name: 'K-Score Scanner',
./src/app/guide/page.tsx:109:        description: 'Viser alle aksjer rangert etter momentum-score. H√∏yere score = sterkere momentum.',
./src/app/guide/page.tsx:110:        tip: 'K-Score over 70 = sterk momentum. Under 30 = svak/fallende trend.',
./src/app/guide/page.tsx:115:        tip: 'Kombiner med volum-analyse. Breakouts med h√∏yt volum er mer p√•litelige.',
./src/app/guide/page.tsx:130:    title: 'Aksjeanalyse',
./src/app/guide/page.tsx:134:    link: '/analyse',
./src/app/guide/page.tsx:142:        description: 'RSI, K-Score, st√∏tte/motstand, og risk/reward-beregning.',
./src/app/guide/page.tsx:147:        description: 'Anbefalt entry, stop-loss, og target basert p√• teknisk analyse.',
./src/app/guide/page.tsx:180:        description: 'Artikler kobles til aksjer og vises p√• analyse-siden.',
./src/app/guide/page.tsx:206:        name: 'Investtech-score',
./src/app/guide/page.tsx:216:    description: 'Avanserte analyseverkt√∏y',
./src/app/guide/page.tsx:220:        name: 'Master Score',
./src/app/guide/page.tsx:221:        description: 'Kombinerer K-Score, Investtech, analytiker-konsensus, og fundamental analyse.',
./src/app/guide/page.tsx:240:    id: 'strategies',
./src/app/guide/page.tsx:286:        name: 'Hold-anbefalinger',
./src/app/guide/page.tsx:287:        description: 'Aksjer som er greit √• holde, men som ikke er p√• sitt beste.',
./src/app/guide/page.tsx:310:    actions: ['Se topp-rangerte aksjer', 'Sjekk Breakout-scanner', 'Analyser enkeltaksjer'],
./src/app/guide/page.tsx:314:    title: 'Analyser',
./src/app/guide/page.tsx:361:      'Opsjonsanalyse og strategier',
./src/app/portefolje/page.tsx:24:import { STRATEGIES, StrategyId, getAllStrategies } from '@/lib/strategies';
./src/app/portefolje/page.tsx:45:  const [selectedStrategies, setSelectedStrategies] = useState<StrategyId[]>([]); // Tom = alle
./src/app/portefolje/page.tsx:54:    strategyId: '' as StrategyId | '',
./src/app/portefolje/page.tsx:80:      const cached = localStorage.getItem('lastQuotes');
./src/app/portefolje/page.tsx:81:      if (cached) {
./src/app/portefolje/page.tsx:82:        const { quotes, timestamp } = JSON.parse(cached);
./src/app/portefolje/page.tsx:85:        console.log('üì¶ Loaded quotes from localStorage (cached from', timestamp, ')');
./src/app/portefolje/page.tsx:103:    // Last inn cached quotes f√∏rst (viktig for helgen)
./src/app/portefolje/page.tsx:104:    const cached = localStorage.getItem('lastQuotes');
./src/app/portefolje/page.tsx:105:    if (cached) {
./src/app/portefolje/page.tsx:107:        const { quotes, timestamp } = JSON.parse(cached);
./src/app/portefolje/page.tsx:110:        console.log('üì¶ Loaded cached quotes from', timestamp);
./src/app/portefolje/page.tsx:112:        console.error('Failed to parse cached quotes:', e);
./src/app/portefolje/page.tsx:173:  const activeTrades = selectedStrategies.length === 0 
./src/app/portefolje/page.tsx:175:    : allActiveTrades.filter(t => selectedStrategies.includes(t.strategyId));
./src/app/portefolje/page.tsx:177:  const filteredClosedTrades = selectedStrategies.length === 0
./src/app/portefolje/page.tsx:179:    : closedTrades.filter(t => selectedStrategies.includes(t.strategyId));
./src/app/portefolje/page.tsx:183:  const uniqueStrategies = [...new Set(allTrades.map(t => t.strategyId).filter(Boolean))] as StrategyId[];
./src/app/portefolje/page.tsx:186:  const toggleStrategy = (strategyId: StrategyId) => {
./src/app/portefolje/page.tsx:187:    setSelectedStrategies(prev => 
./src/app/portefolje/page.tsx:188:      prev.includes(strategyId) 
./src/app/portefolje/page.tsx:189:        ? prev.filter(s => s !== strategyId)
./src/app/portefolje/page.tsx:190:        : [...prev, strategyId]
./src/app/portefolje/page.tsx:195:  const strategyTotals = uniqueStrategies.map(strategyId => {
./src/app/portefolje/page.tsx:196:    const activeStrategyTrades = allActiveTrades.filter(t => t.strategyId === strategyId);
./src/app/portefolje/page.tsx:197:    const closedStrategyTrades = closedTrades.filter(t => t.strategyId === strategyId);
./src/app/portefolje/page.tsx:200:    const invested = activeStrategyTrades.reduce((sum, t) => sum + (t.entryPrice * t.quantity), 0);
./src/app/portefolje/page.tsx:201:    const currentValue = activeStrategyTrades.reduce((sum, t) => {
./src/app/portefolje/page.tsx:210:    const realizedPnl = closedStrategyTrades.reduce((sum, t) => sum + (t.realizedPnL || 0), 0);
./src/app/portefolje/page.tsx:214:    const totalInvested = invested + closedStrategyTrades.reduce((sum, t) => sum + (t.entryPrice * t.quantity), 0);
./src/app/portefolje/page.tsx:218:      strategyId,
./src/app/portefolje/page.tsx:219:      strategy: STRATEGIES[strategyId],
./src/app/portefolje/page.tsx:220:      activeCount: activeStrategyTrades.length,
./src/app/portefolje/page.tsx:221:      closedCount: closedStrategyTrades.length,
./src/app/portefolje/page.tsx:222:      tradeCount: activeStrategyTrades.length + closedStrategyTrades.length,
./src/app/portefolje/page.tsx:292:    const strategyId = newPortfolioData.strategyId || undefined;
./src/app/portefolje/page.tsx:293:    const strategy = strategyId ? STRATEGIES[strategyId] : null;
./src/app/portefolje/page.tsx:297:      description: newPortfolioData.description || strategy?.description,
./src/app/portefolje/page.tsx:298:      strategyId: strategyId as StrategyId | undefined,
./src/app/portefolje/page.tsx:299:      allowedStrategies: strategyId ? [strategyId as StrategyId] : Object.keys(STRATEGIES) as StrategyId[],
./src/app/portefolje/page.tsx:302:    setNewPortfolioData({ name: '', description: '', strategyId: '', isCustom: true });
./src/app/portefolje/page.tsx:313:      strategyId: newPortfolioData.strategyId as StrategyId | undefined,
./src/app/portefolje/page.tsx:317:    setNewPortfolioData({ name: '', description: '', strategyId: '', isCustom: true });
./src/app/portefolje/page.tsx:354:      strategyId: portfolio.strategyId || '',
./src/app/portefolje/page.tsx:360:  const allStrategies = getAllStrategies();
./src/app/portefolje/page.tsx:427:          const strategy = portfolio.strategyId ? STRATEGIES[portfolio.strategyId] : null;
./src/app/portefolje/page.tsx:442:                <span>{strategy?.emoji || 'üìÅ'} {portfolio.name}</span>
./src/app/portefolje/page.tsx:526:              {uniqueStrategies.length > 1 && (
./src/app/portefolje/page.tsx:529:                    onClick={() => setSelectedStrategies([])}
./src/app/portefolje/page.tsx:532:                      selectedStrategies.length === 0 
./src/app/portefolje/page.tsx:539:                  {uniqueStrategies.map(strategyId => {
./src/app/portefolje/page.tsx:540:                    const strategy = STRATEGIES[strategyId];
./src/app/portefolje/page.tsx:541:                    const isSelected = selectedStrategies.includes(strategyId);
./src/app/portefolje/page.tsx:544:                        key={strategyId}
./src/app/portefolje/page.tsx:545:                        onClick={() => toggleStrategy(strategyId)}
./src/app/portefolje/page.tsx:552:                        style={isSelected ? { backgroundColor: strategy.color } : {}}
./src/app/portefolje/page.tsx:553:                        title={strategy.name}
./src/app/portefolje/page.tsx:555:                        {strategy.emoji} {strategy.shortName}
./src/app/portefolje/page.tsx:611:            {(selectedStrategies.length === 0 ? uniqueStrategies : selectedStrategies).map(strategyId => {
./src/app/portefolje/page.tsx:612:              const strategyActiveTrades = activeTrades.filter(t => t.strategyId === strategyId);
./src/app/portefolje/page.tsx:613:              const strategyClosedTrades = filteredClosedTrades.filter(t => t.strategyId === strategyId);
./src/app/portefolje/page.tsx:619:                if (strategyActiveTrades.length === 0) return null;
./src/app/portefolje/page.tsx:621:                if (strategyActiveTrades.length === 0 && strategyClosedTrades.length === 0) return null;
./src/app/portefolje/page.tsx:625:              const hasOnlyClosedTrades = strategyActiveTrades.length === 0 && strategyClosedTrades.length > 0;
./src/app/portefolje/page.tsx:627:              const strategyInfo = strategyTotals.find(s => s.strategyId === strategyId);
./src/app/portefolje/page.tsx:628:              const strategy = STRATEGIES[strategyId];
./src/app/portefolje/page.tsx:631:                <div key={strategyId}>
./src/app/portefolje/page.tsx:633:                  {uniqueStrategies.length > 1 && (
./src/app/portefolje/page.tsx:637:                        style={{ backgroundColor: `${strategy?.color}15`, color: strategy?.color }}
./src/app/portefolje/page.tsx:639:                        {strategy?.emoji} {strategy?.name}
./src/app/portefolje/page.tsx:642:                        ({strategyActiveTrades.length} aktive{strategyClosedTrades.length > 0 && selectedPortfolioId !== 'all' ? `, ${strategyClosedTrades.length} lukket` : ''})
./src/app/portefolje/page.tsx:677:                      {strategyActiveTrades.map(trade => {
./src/app/portefolje/page.tsx:678:                        const tradeStrategy = STRATEGIES[trade.strategyId];
./src/app/portefolje/page.tsx:718:                                style={{ backgroundColor: `${tradeStrategy?.color}20`, color: tradeStrategy?.color }}
./src/app/portefolje/page.tsx:720:                                {tradeStrategy?.emoji} {tradeStrategy?.shortName || trade.strategyId}
./src/app/portefolje/page.tsx:839:                    {strategyInfo && (
./src/app/portefolje/page.tsx:844:                              {strategy?.emoji} Subtotal:
./src/app/portefolje/page.tsx:849:                            <span className="text-sm font-semibold text-gray-700">{strategyInfo.activeCount}</span>
./src/app/portefolje/page.tsx:850:                            {strategyInfo.closedCount > 0 && selectedPortfolioId !== 'all' && (
./src/app/portefolje/page.tsx:851:                              <span className="text-xs text-gray-400 ml-1">+{strategyInfo.closedCount}</span>
./src/app/portefolje/page.tsx:855:                            <span className="text-sm font-semibold text-gray-700">{strategyInfo.invested.toLocaleString('nb-NO', { maximumFractionDigits: 0 })} kr</span>
./src/app/portefolje/page.tsx:858:                            <span className="text-sm font-semibold text-gray-700">{strategyInfo.currentValue.toLocaleString('nb-NO', { maximumFractionDigits: 0 })} kr</span>
./src/app/portefolje/page.tsx:864:                              const showPnl = strategyInfo.unrealizedPnl;
./src/app/portefolje/page.tsx:865:                              const showPnlPercent = strategyInfo.unrealizedPnlPercent;
./src/app/portefolje/page.tsx:911:                  {strategyClosedTrades.length > 0 && selectedPortfolioId !== 'all' && (
./src/app/portefolje/page.tsx:914:                        <span className="text-sm font-medium text-gray-500">üì¶ Lukkede trades ({strategyClosedTrades.length})</span>
./src/app/portefolje/page.tsx:940:                          {strategyClosedTrades.map(trade => {
./src/app/portefolje/page.tsx:941:                            const tradeStrategy = STRATEGIES[trade.strategyId];
./src/app/portefolje/page.tsx:973:                                    style={{ backgroundColor: `${tradeStrategy?.color}20`, color: tradeStrategy?.color }}
./src/app/portefolje/page.tsx:975:                                    {tradeStrategy?.emoji} {tradeStrategy?.shortName || trade.strategyId}
./src/app/portefolje/page.tsx:1016:                          const closedInvested = strategyClosedTrades.reduce((sum, t) => sum + (t.entryPrice * t.quantity), 0);
./src/app/portefolje/page.tsx:1017:                          const closedExitValue = strategyClosedTrades.reduce((sum, t) => sum + ((t.exitPrice || t.entryPrice) * t.quantity), 0);
./src/app/portefolje/page.tsx:1018:                          const closedRealizedPnl = strategyClosedTrades.reduce((sum, t) => sum + (t.realizedPnL || 0), 0);
./src/app/portefolje/page.tsx:1027:                                <td className="px-4 py-3 text-right font-semibold text-gray-600">{strategyClosedTrades.length}</td>
./src/app/portefolje/page.tsx:1213:                  placeholder="Lim inn salgsdata fra Nordnet her..."
./src/app/portefolje/page.tsx:1257:                    placeholder="0.00"
./src/app/portefolje/page.tsx:1345:                  setNewPortfolioData({ name: '', description: '', strategyId: '', isCustom: true });
./src/app/portefolje/page.tsx:1362:                    onClick={() => setNewPortfolioData(prev => ({ ...prev, isCustom: true, strategyId: '' }))}
./src/app/portefolje/page.tsx:1393:                    {allStrategies.map(strategy => (
./src/app/portefolje/page.tsx:1395:                        key={strategy.id}
./src/app/portefolje/page.tsx:1398:                          strategyId: strategy.id,
./src/app/portefolje/page.tsx:1399:                          name: strategy.name,
./src/app/portefolje/page.tsx:1400:                          description: strategy.description,
./src/app/portefolje/page.tsx:1404:                          newPortfolioData.strategyId === strategy.id
./src/app/portefolje/page.tsx:1409:                        <span className="text-xl">{strategy.emoji}</span>
./src/app/portefolje/page.tsx:1411:                          <div className="font-medium text-sm text-gray-900 truncate">{strategy.name}</div>
./src/app/portefolje/page.tsx:1412:                          <div className="text-xs text-gray-500">{strategy.shortName}</div>
./src/app/portefolje/page.tsx:1414:                        {!strategy.enabled && (
./src/app/portefolje/page.tsx:1432:                  placeholder={newPortfolioData.isCustom ? 'F.eks. "Min favoritter" eller "Utbytte 2024"' : 'Velg strategi f√∏rst'}
./src/app/portefolje/page.tsx:1445:                  placeholder="Kort beskrivelse av portef√∏ljen..."
./src/app/portefolje/page.tsx:1458:                  setNewPortfolioData({ name: '', description: '', strategyId: '', isCustom: true });
./src/app/strategier/page.tsx:4:import { STRATEGIES, StrategyId, StrategyDefinition } from '@/lib/strategies';
./src/app/strategier/page.tsx:32:interface StrategyScoring {
./src/app/strategier/page.tsx:33:  strategyId: StrategyId;
./src/app/strategier/page.tsx:34:  buyThreshold: number;
./src/app/strategier/page.tsx:41:const STRATEGY_SCORING: Record<string, StrategyScoring> = {
./src/app/strategier/page.tsx:43:    strategyId: 'MOMENTUM_TREND',
./src/app/strategier/page.tsx:44:    buyThreshold: 60,
./src/app/strategier/page.tsx:48:        name: 'K-Score (historisk momentum)', 
./src/app/strategier/page.tsx:50:        description: 'Validert momentum-score basert p√• 6m/3m/1m avkastning',
./src/app/strategier/page.tsx:74:    goldRequirement: 'Score 70+ p√• b√•de M-Trend OG M-Asym = GOLD PICK ü•á (prioriter for st√∏rre posisjon)'
./src/app/strategier/page.tsx:78:    strategyId: 'MOMENTUM_ASYM',
./src/app/strategier/page.tsx:79:    buyThreshold: 60,
./src/app/strategier/page.tsx:83:        name: 'K-Score (historisk)', 
./src/app/strategier/page.tsx:85:        description: 'Validert momentum-score som grunnlag',
./src/app/strategier/page.tsx:91:        description: 'Forholdet mellom forventet gevinst og risiko',
./src/app/strategier/page.tsx:109:    goldRequirement: 'Score 70+ p√• b√•de M-Trend OG M-Asym = GOLD PICK ü•á (prioriter for st√∏rre posisjon)'
./src/app/strategier/page.tsx:113:    strategyId: 'BUFFETT',
./src/app/strategier/page.tsx:114:    buyThreshold: 65,
./src/app/strategier/page.tsx:118:        name: 'K-Score (Kvalitet)', 
./src/app/strategier/page.tsx:120:        description: 'H√∏y kvalitetsscore basert p√• historisk momentum',
./src/app/strategier/page.tsx:141:    strategyId: 'TVEITEREID',
./src/app/strategier/page.tsx:142:    buyThreshold: 60,
./src/app/strategier/page.tsx:146:        name: 'K-Score', 
./src/app/strategier/page.tsx:148:        description: 'Teknisk kvalitetsscore',
./src/app/strategier/page.tsx:168:    strategyId: 'REBOUND',
./src/app/strategier/page.tsx:169:    buyThreshold: 55,
./src/app/strategier/page.tsx:173:        name: 'K-Score', 
./src/app/strategier/page.tsx:175:        description: 'Moderat kvalitetsscore (lavere terskel for rebound)',
./src/app/strategier/page.tsx:195:    strategyId: 'SWING_SHORT',
./src/app/strategier/page.tsx:196:    buyThreshold: 60,
./src/app/strategier/page.tsx:200:        name: 'K-Score', 
./src/app/strategier/page.tsx:202:        description: 'Kvalitetsscore som grunnlag',
./src/app/strategier/page.tsx:228:// BUY Signal kriterier (oppdatert basert p√• faktisk implementasjon i stock-data.ts)
./src/app/strategier/page.tsx:229:const BUY_SIGNAL_CRITERIA = {
./src/app/strategier/page.tsx:230:  kScore: { min: 70, description: 'K-Score m√• v√¶re 70+ (validert historisk momentum-score)' },
./src/app/strategier/page.tsx:241:// K-SCORE FORMEL (Validert basert p√• momentum-forskning)
./src/app/strategier/page.tsx:243:const K_SCORE_FORMULA = {
./src/app/strategier/page.tsx:285:function StrategyCard({ strategy, scoring }: { strategy: StrategyDefinition; scoring?: StrategyScoring }) {
./src/app/strategier/page.tsx:297:            <span className="text-3xl">{strategy.emoji}</span>
./src/app/strategier/page.tsx:299:              <h3 className="text-lg font-bold text-gray-900">{strategy.name}</h3>
./src/app/strategier/page.tsx:300:              <p className="text-sm text-gray-500">{strategy.description}</p>
./src/app/strategier/page.tsx:304:            <RiskBadge level={strategy.riskLevel} />
./src/app/strategier/page.tsx:314:              <span className="font-medium text-green-600">{strategy.targetReturn.min}-{strategy.targetReturn.max}%</span>
./src/app/strategier/page.tsx:321:              <span className="font-medium">{strategy.typicalHoldingDays.min}-{strategy.typicalHoldingDays.max}</span>
./src/app/strategier/page.tsx:326:            {strategy.enabled ? (
./src/app/strategier/page.tsx:332:              {strategy.enabled ? 'Aktiv' : 'Inaktiv'}
./src/app/strategier/page.tsx:343:            Hvordan scoren beregnes
./src/app/strategier/page.tsx:368:          {/* Buy threshold */}
./src/app/strategier/page.tsx:372:              <span className="font-semibold text-green-800">BUY-terskel: {scoring.buyThreshold}+ poeng</span>
./src/app/strategier/page.tsx:375:              Aksjer med score over {scoring.buyThreshold} kvalifiserer som potensielle kj√∏pskandidater for denne strategien.
./src/app/strategier/page.tsx:394:  const momentumStrategies = Object.values(STRATEGIES).filter(s => s.category === 'MOMENTUM' && s.enabled);
./src/app/strategier/page.tsx:395:  const valueStrategies = Object.values(STRATEGIES).filter(s => s.category === 'VALUE' && s.enabled);
./src/app/strategier/page.tsx:396:  const technicalStrategies = Object.values(STRATEGIES).filter(s => s.category === 'TECHNICAL' && s.enabled);
./src/app/strategier/page.tsx:397:  const eventStrategies = Object.values(STRATEGIES).filter(s => s.category === 'EVENT' && s.enabled);
./src/app/strategier/page.tsx:405:          Oversikt over alle trading-strategier og hvordan de scorer aksjer.
./src/app/strategier/page.tsx:410:      {/* Global BUY criteria */}
./src/app/strategier/page.tsx:414:          Globale BUY-kriterier
./src/app/strategier/page.tsx:417:          For at en aksje skal f√• BUY-signal m√• den oppfylle <strong>alle</strong> disse kriteriene:
./src/app/strategier/page.tsx:425:              <p className="font-medium">K-Score ‚â• {BUY_SIGNAL_CRITERIA.kScore.min}</p>
./src/app/strategier/page.tsx:426:              <p className="text-sm text-gray-500">{BUY_SIGNAL_CRITERIA.kScore.description}</p>
./src/app/strategier/page.tsx:434:              <p className="font-medium">RSI: {BUY_SIGNAL_CRITERIA.rsi.min}-{BUY_SIGNAL_CRITERIA.rsi.max}</p>
./src/app/strategier/page.tsx:435:              <p className="text-sm text-gray-500">{BUY_SIGNAL_CRITERIA.rsi.description}</p>
./src/app/strategier/page.tsx:444:              <p className="text-sm text-gray-500">{BUY_SIGNAL_CRITERIA.momentum.description}</p>
./src/app/strategier/page.tsx:453:              <p className="text-sm text-gray-500">{BUY_SIGNAL_CRITERIA.trend.description}</p>
./src/app/strategier/page.tsx:461:              <p className="font-medium">R/R ‚â• {BUY_SIGNAL_CRITERIA.riskReward.min}:1</p>
./src/app/strategier/page.tsx:462:              <p className="text-sm text-gray-500">{BUY_SIGNAL_CRITERIA.riskReward.description}</p>
./src/app/strategier/page.tsx:468:      {/* K-Score forklaring */}
./src/app/strategier/page.tsx:472:          K-Score - Validert Momentum-score
./src/app/strategier/page.tsx:476:            <strong>‚úÖ Beregnes fra EKTE historisk data</strong> - 2 √•r med daglige kurser hentes fra Yahoo Finance 
./src/app/strategier/page.tsx:481:          K-Score er basert p√• <strong>akademisk forskning om momentum-faktoren</strong> (Jegadeesh & Titman, 1993).
./src/app/strategier/page.tsx:593:            <strong>ü•á GOLD PICK:</strong> Aksjer som scorer 70+ p√• BEGGE strategiene har 
./src/app/strategier/page.tsx:611:      {/* Momentum strategies */}
./src/app/strategier/page.tsx:618:          {momentumStrategies.map(strategy => (
./src/app/strategier/page.tsx:619:            <StrategyCard 
./src/app/strategier/page.tsx:620:              key={strategy.id} 
./src/app/strategier/page.tsx:621:              strategy={strategy} 
./src/app/strategier/page.tsx:622:              scoring={STRATEGY_SCORING[strategy.id]}
./src/app/strategier/page.tsx:628:      {/* Value strategies */}
./src/app/strategier/page.tsx:635:          {valueStrategies.map(strategy => (
./src/app/strategier/page.tsx:636:            <StrategyCard 
./src/app/strategier/page.tsx:637:              key={strategy.id} 
./src/app/strategier/page.tsx:638:              strategy={strategy} 
./src/app/strategier/page.tsx:639:              scoring={STRATEGY_SCORING[strategy.id]}
./src/app/strategier/page.tsx:645:      {/* Technical strategies */}
./src/app/strategier/page.tsx:652:          {technicalStrategies.map(strategy => (
./src/app/strategier/page.tsx:653:            <StrategyCard 
./src/app/strategier/page.tsx:654:              key={strategy.id} 
./src/app/strategier/page.tsx:655:              strategy={strategy} 
./src/app/strategier/page.tsx:656:              scoring={STRATEGY_SCORING[strategy.id]}
./src/app/strategier/page.tsx:662:      {/* Event strategies */}
./src/app/strategier/page.tsx:663:      {eventStrategies.length > 0 && (
./src/app/strategier/page.tsx:670:            {eventStrategies.map(strategy => (
./src/app/strategier/page.tsx:671:              <StrategyCard 
./src/app/strategier/page.tsx:672:                key={strategy.id} 
./src/app/strategier/page.tsx:673:                strategy={strategy} 
./src/app/strategier/page.tsx:674:                scoring={STRATEGY_SCORING[strategy.id]}
./src/app/strategier/page.tsx:681:      {/* Warning about "honest" strategies */}
./src/app/strategier/page.tsx:710:              Gambling uten analyse. De fleste taper over tid.
./src/app/strategier/page.tsx:749:            <strong>Historisk data:</strong> Caches i 6 timer for √• unng√• gjentatte API-kall.
./src/app/strategier/page.tsx:754:            brukes cached data automatisk. Live-oppdateringer skjer kun i markedstiden.
./src/app/strategier/page.tsx:767:          <code className="bg-gray-200 px-1 rounded ml-1">src/lib/strategies/index.ts</code> for implementasjonsdetaljer.
./src/app/innstillinger/page.tsx:38:import { useNotifications, getNotificationSettings, saveNotificationSettings, NotificationSettings } from '@/lib/hooks/useNotifications';
./src/app/innstillinger/page.tsx:157:  const { isSupported, permission, requestPermission, isEnabled } = useNotifications();
./src/app/innstillinger/page.tsx:158:  const [notificationSettings, setNotificationSettings] = useState<NotificationSettings>(() => getNotificationSettings());
./src/app/innstillinger/page.tsx:160:  // Save notification settings when they change
./src/app/innstillinger/page.tsx:162:    saveNotificationSettings(notificationSettings);
./src/app/innstillinger/page.tsx:163:  }, [notificationSettings]);
./src/app/innstillinger/page.tsx:165:  const handleEnableNotifications = async () => {
./src/app/innstillinger/page.tsx:168:      setNotificationSettings(prev => ({ ...prev, enabled: true }));
./src/app/innstillinger/page.tsx:188:      { date: '2026-01-12', ticker: 'NHY.OL', name: 'Norsk Hydro', quantity: 120, price: 81.88, portfolio: 'portfolio-momentum-trend', strategy: 'MOMENTUM_TREND', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:191:      { date: '2026-01-12', ticker: 'AKRBP.OL', name: 'Aker BP', quantity: 40, price: 262.00, portfolio: 'portfolio-mixed', strategy: 'UKENS_AKSJE', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:194:      { date: '2025-11-19', ticker: 'VAR.OL', name: 'V√•r Energi', quantity: 1600, price: 31.80, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:195:      { date: '2025-10-10', ticker: 'VAR.OL', name: 'V√•r Energi', quantity: 735, price: 33.90, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:196:      { date: '2025-02-26', ticker: 'VAR.OL', name: 'V√•r Energi', quantity: 265, price: 32.12, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:197:      { date: '2024-08-05', ticker: 'VAR.OL', name: 'V√•r Energi', quantity: 200, price: 32.73, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:198:      { date: '2024-07-26', ticker: 'VAR.OL', name: 'V√•r Energi', quantity: 530, price: 35.20, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:199:      { date: '2024-04-19', ticker: 'VAR.OL', name: 'V√•r Energi', quantity: 270, price: 37.00, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:202:      { date: '2025-11-19', ticker: 'SATS.OL', name: 'SATS', quantity: 400, price: 35.10, portfolio: 'portfolio-mixed', strategy: 'TVEITEREID', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:205:      { date: '2025-10-31', ticker: 'PROT.OL', name: 'Protector Forsikring', quantity: 22, price: 458.00, portfolio: 'portfolio-value', strategy: 'BUFFETT', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:208:      { date: '2025-10-28', ticker: 'KID.OL', name: 'Kid', quantity: 80, price: 140.00, portfolio: 'portfolio-momentum-trend', strategy: 'MOMENTUM_TREND', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:211:      { date: '2025-04-11', ticker: 'NOD.OL', name: 'Nordic Semiconductor', quantity: 370, price: 103.10, portfolio: 'portfolio-mixed', strategy: 'TVEITEREID', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:212:      { date: '2024-08-02', ticker: 'NOD.OL', name: 'Nordic Semiconductor', quantity: 80, price: 131.50, portfolio: 'portfolio-mixed', strategy: 'TVEITEREID', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:213:      { date: '2024-07-26', ticker: 'NOD.OL', name: 'Nordic Semiconductor', quantity: 150, price: 134.40, portfolio: 'portfolio-mixed', strategy: 'TVEITEREID', status: 'ACTIVE' },
./src/app/innstillinger/page.tsx:218:      { date: '2024-04-03', ticker: 'KIT.OL', name: 'Kitron', quantity: 300, price: 32.48, portfolio: 'portfolio-momentum-trend', strategy: 'MOMENTUM_TREND', status: 'CLOSED', exitDate: '2024-04-09', exitPrice: 32.10 },
./src/app/innstillinger/page.tsx:221:      { date: '2025-01-23', ticker: 'KIT.OL', name: 'Kitron', quantity: 250, price: 39.20, portfolio: 'portfolio-momentum-trend', strategy: 'MOMENTUM_TREND', status: 'CLOSED', exitDate: '2025-02-03', exitPrice: 37.98 },
./src/app/innstillinger/page.tsx:224:      { date: '2024-04-16', ticker: 'AKRBP.OL', name: 'Aker BP', quantity: 35, price: 290.00, portfolio: 'portfolio-momentum-trend', strategy: 'MOMENTUM_TREND', status: 'CLOSED', exitDate: '2025-03-18', exitPrice: 241.60 },
./src/app/innstillinger/page.tsx:227:      { date: '2024-11-27', ticker: 'TGS.OL', name: 'TGS', quantity: 200, price: 105.20, portfolio: 'portfolio-mixed', strategy: 'TVEITEREID', status: 'CLOSED', exitDate: '2025-03-18', exitPrice: 104.00 },
./src/app/innstillinger/page.tsx:230:      { date: '2025-02-11', ticker: 'SATS.OL', name: 'SATS', quantity: 400, price: 28.25, portfolio: 'portfolio-mixed', strategy: 'TVEITEREID', status: 'CLOSED', exitDate: '2025-02-12', exitPrice: 30.00 },
./src/app/innstillinger/page.tsx:233:      { date: '2025-03-28', ticker: 'NOVO-B.CO', name: 'Novo Nordisk B', quantity: 20, price: 477.00, portfolio: 'portfolio-value', strategy: 'BUFFETT', status: 'CLOSED', exitDate: '2025-04-11', exitPrice: 419.40 },
./src/app/innstillinger/page.tsx:236:      { date: '2024-11-27', ticker: 'WAWI.OL', name: 'Wallenius Wilhelmsen', quantity: 200, price: 106.00, portfolio: 'portfolio-momentum-trend', strategy: 'MOMENTUM_TREND', status: 'CLOSED', exitDate: '2025-04-11', exitPrice: 68.50 },
./src/app/innstillinger/page.tsx:239:      { date: '2024-11-27', ticker: 'HAUTO.OL', name: 'H√∂egh Autoliners', quantity: 200, price: 123.90, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER', status: 'CLOSED', exitDate: '2025-04-11', exitPrice: 72.72 },
./src/app/innstillinger/page.tsx:242:      { date: '2024-12-12', ticker: 'HAUTO.OL', name: 'H√∂egh Autoliners', quantity: 100, price: 107.00, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER', status: 'CLOSED', exitDate: '2025-04-11', exitPrice: 72.72 },
./src/app/innstillinger/page.tsx:245:      { date: '2024-11-28', ticker: 'MPCC.OL', name: 'MPC Container Ships', quantity: 1000, price: 21.80, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER', status: 'CLOSED', exitDate: '2025-04-11', exitPrice: 14.80 },
./src/app/innstillinger/page.tsx:248:      { date: '2024-12-12', ticker: 'MPCC.OL', name: 'MPC Container Ships', quantity: 500, price: 20.50, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER', status: 'CLOSED', exitDate: '2025-04-11', exitPrice: 14.80 },
./src/app/innstillinger/page.tsx:265:        strategyId: t.strategy,
./src/app/innstillinger/page.tsx:331:        {/* Notifications Toggle */}
./src/app/innstillinger/page.tsx:347:                onClick={handleEnableNotifications}
./src/app/innstillinger/page.tsx:537:                    <td className="py-2 px-2">Yahoo Finance</td>
./src/app/innstillinger/page.tsx:541:                    <td className="py-2 px-2">Supabase ‚úÖ</td>
./src/app/innstillinger/page.tsx:568:                prototype eller for Python-basert analyse.
./src/app/innstillinger/page.tsx:589:          title="Database: Er Supabase best?" 
./src/app/innstillinger/page.tsx:594:              <h4 className="font-semibold text-green-800 mb-2">Supabase er et godt valg for dette prosjektet</h4>
./src/app/innstillinger/page.tsx:596:                For en trading-app med moderat trafikk er Supabase en utmerket balanse mellom
./src/app/innstillinger/page.tsx:613:                    <td className="py-2 px-2 font-medium">Supabase ‚úÖ</td>
./src/app/innstillinger/page.tsx:637:                    <td className="py-2 px-2">Redis (cache)</td>
./src/app/innstillinger/page.tsx:648:                <h4 className="font-semibold text-brand-slate mb-2">‚úÖ Hvorfor Supabase passer</h4>
./src/app/innstillinger/page.tsx:662:                  <li>‚Ä¢ Sanntidspriser = legg til Redis cache</li>
./src/app/innstillinger/page.tsx:716:                Automatisk Analyse
./src/app/innstillinger/page.tsx:721:                  description="Automatisk analyse av alle dine aksjer hver morgen. Sjekker tekniske signaler og nyheter."
./src/app/innstillinger/page.tsx:783:                Avansert Analyse
./src/app/innstillinger/page.tsx:793:                  title="Sektor-analyse"
./src/app/innstillinger/page.tsx:801:                  description="Analyse av hvordan aksjene i portef√∏ljen korrelerer. Bedre diversifisering."
./src/app/innstillinger/page.tsx:816:                <li>2. ‚úÖ Aksje-analyse med signaler</li>
./src/app/innstillinger/page.tsx:819:                <li>5. üìã Daglig analyse av posisjoner</li>
./src/app/innstillinger/page.tsx:844:                  Hovedapplikasjonen med K-Momentum analyse, database og moderne UI.
./src/app/innstillinger/page.tsx:850:                  <li>‚Ä¢ Supabase database</li>
./src/app/innstillinger/page.tsx:869:                  <li>‚Ä¢ yfinance (Yahoo Finance)</li>
./src/app/innstillinger/page.tsx:870:                  <li>‚Ä¢ pandas_ta (teknisk analyse)</li>
./src/app/innstillinger/page.tsx:887:‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analyse/            # Dyp analyse
./src/app/innstillinger/page.tsx:894:‚îÇ       ‚îî‚îÄ‚îÄ supabase/           # Database
./src/app/innstillinger/page.tsx:915:# Supabase (P√ÖKREVD for database)
./src/app/innstillinger/page.tsx:916:NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
./src/app/innstillinger/page.tsx:917:NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
./src/app/innstillinger/page.tsx:926:                  Supabase
./src/app/innstillinger/page.tsx:929:                  <li>1. G√• til <a href="https://supabase.com" target="_blank" className="text-brand-emerald hover:underline">supabase.com</a></li>
./src/app/innstillinger/page.tsx:991:                <li>1. Opprett Supabase-prosjekt p√• <a href="https://supabase.com" target="_blank" className="text-brand-emerald hover:underline">supabase.com</a></li>
./src/app/innstillinger/page.tsx:992:                <li>2. G√• til SQL Editor i Supabase</li>
./src/app/innstillinger/page.tsx:993:                <li>3. Kj√∏r innholdet fra <code className="bg-gray-100 px-1 rounded">src/lib/supabase/schema.sql</code></li>
./src/app/innstillinger/page.tsx:1101:                <li>‚Ä¢ <strong>Entry:</strong> Ved K-Score {`>`} 70</li>
./src/app/innstillinger/page.tsx:1120:              <p>Supabase + Finnhub</p>
./src/app/backtest/page.tsx:11:  kScoreAtEntry: number;
./src/app/backtest/page.tsx:19:// Simulerte backtest-resultater basert p√• K-Score
./src/app/backtest/page.tsx:21:  { ticker: 'STB.OL', name: 'Storebrand', period: '2025-Q4', kScoreAtEntry: 85, entryPrice: 105.20, currentPrice: 116.30, returnPercent: 10.5, daysHeld: 45, success: true },
./src/app/backtest/page.tsx:22:  { ticker: 'DNB.OL', name: 'DNB Bank', period: '2025-Q4', kScoreAtEntry: 82, entryPrice: 220.50, currentPrice: 242.70, returnPercent: 10.1, daysHeld: 38, success: true },
./src/app/backtest/page.tsx:23:  { ticker: 'MOWI.OL', name: 'Mowi', period: '2025-Q4', kScoreAtEntry: 78, entryPrice: 198.00, currentPrice: 212.40, returnPercent: 7.3, daysHeld: 52, success: true },
./src/app/backtest/page.tsx:24:  { ticker: 'SUBC.OL', name: 'Subsea 7', period: '2025-Q3', kScoreAtEntry: 80, entryPrice: 195.00, currentPrice: 222.60, returnPercent: 14.2, daysHeld: 90, success: true },
./src/app/backtest/page.tsx:25:  { ticker: 'TEL.OL', name: 'Telenor', period: '2025-Q3', kScoreAtEntry: 75, entryPrice: 125.50, currentPrice: 132.20, returnPercent: 5.3, daysHeld: 78, success: true },
./src/app/backtest/page.tsx:26:  { ticker: 'NHY.OL', name: 'Norsk Hydro', period: '2025-Q4', kScoreAtEntry: 72, entryPrice: 62.80, currentPrice: 58.40, returnPercent: -7.0, daysHeld: 35, success: false },
./src/app/backtest/page.tsx:27:  { ticker: 'AKER.OL', name: 'Aker', period: '2025-Q4', kScoreAtEntry: 79, entryPrice: 720.00, currentPrice: 829.00, returnPercent: 15.1, daysHeld: 42, success: true },
./src/app/backtest/page.tsx:28:  { ticker: 'GJF.OL', name: 'Gjensidige', period: '2025-Q3', kScoreAtEntry: 76, entryPrice: 168.00, currentPrice: 178.50, returnPercent: 6.3, daysHeld: 65, success: true },
./src/app/backtest/page.tsx:29:  { ticker: 'SCATC.OL', name: 'Scatec', period: '2025-Q4', kScoreAtEntry: 81, entryPrice: 102.00, currentPrice: 116.30, returnPercent: 14.0, daysHeld: 28, success: true },
./src/app/backtest/page.tsx:30:  { ticker: 'KOG.OL', name: 'Kongsberg Gruppen', period: '2025-Q3', kScoreAtEntry: 84, entryPrice: 950.00, currentPrice: 1180.00, returnPercent: 24.2, daysHeld: 120, success: true },
./src/app/backtest/page.tsx:36:  const [minKScore, setMinKScore] = useState(70);
./src/app/backtest/page.tsx:38:  const filteredResults = results.filter(r => r.kScoreAtEntry >= minKScore);
./src/app/backtest/page.tsx:44:  // Score brackets analysis
./src/app/backtest/page.tsx:45:  const scoreBrackets = [
./src/app/backtest/page.tsx:52:  const bracketStats = scoreBrackets.map(bracket => {
./src/app/backtest/page.tsx:53:    const bracketResults = results.filter(r => r.kScoreAtEntry >= bracket.min && r.kScoreAtEntry <= bracket.max);
./src/app/backtest/page.tsx:77:            <h1 className="text-3xl font-bold text-gray-900 dark:text-white">K-Score Backtest</h1>
./src/app/backtest/page.tsx:78:            <p className="text-gray-500 dark:text-gray-400">Validering av K-Score p√• historiske data</p>
./src/app/backtest/page.tsx:91:          <div className="text-xs text-gray-400">K-Score ‚â•{minKScore}</div>
./src/app/backtest/page.tsx:114:            <span className="text-sm text-gray-500 dark:text-gray-400">Snitt holdperiode</span>
./src/app/backtest/page.tsx:120:      {/* K-Score Filter */}
./src/app/backtest/page.tsx:122:        <h3 className="font-bold text-gray-900 dark:text-white mb-4">Filter: Minimum K-Score</h3>
./src/app/backtest/page.tsx:128:            value={minKScore}
./src/app/backtest/page.tsx:129:            onChange={(e) => setMinKScore(Number(e.target.value))}
./src/app/backtest/page.tsx:132:          <span className="text-2xl font-bold text-indigo-600 min-w-[60px]">{minKScore}</span>
./src/app/backtest/page.tsx:135:          Viser trades der K-Score var ‚â•{minKScore} ved kj√∏pstidspunkt
./src/app/backtest/page.tsx:139:      {/* Score Bracket Analysis */}
./src/app/backtest/page.tsx:141:        <h3 className="font-bold text-gray-900 dark:text-white mb-4">üìä K-Score Intervall-analyse</h3>
./src/app/backtest/page.tsx:183:              <th className="text-right px-4 py-3 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase">K-Score</th>
./src/app/backtest/page.tsx:202:                    result.kScoreAtEntry >= 80 ? 'text-green-600' : 'text-yellow-600'
./src/app/backtest/page.tsx:204:                    {result.kScoreAtEntry}
./src/app/backtest/page.tsx:234:          Basert p√• backtest-data viser K-Score-strategien en suksessrate p√• <strong>{successRate.toFixed(0)}%</strong> med 
./src/app/backtest/page.tsx:235:          en gjennomsnittlig avkastning p√• <strong>{avgReturn.toFixed(1)}%</strong> over en holdperiode p√• 
./src/app/backtest/page.tsx:240:            <strong>Anbefaling:</strong> K-Score ‚â•80 gir best risk/reward ratio med h√∏yere win-rate og bedre gjennomsnittlig avkastning.
./src/app/backtest/page.tsx:241:            Trades med K-Score 85+ har historisk levert de beste resultatene.
./src/app/system/page.tsx:38:    description: 'N√•r Oslo B√∏rs er stengt, bruk cached data i stedet for live API-kall. Reduserer un√∏dvendig trafikk.',
./src/app/system/page.tsx:55:    title: 'Selg/Hold-rapport seksjoner',
./src/app/system/page.tsx:56:    description: 'Vis aksjer med SELG og HOLD anbefaling i egne accordion-seksjoner i rapporten.',
./src/app/system/page.tsx:65:    description: 'Batch-fetch fra Yahoo Finance + parallell historisk analyse. Lastetid redusert til ~500ms.',
./src/app/system/page.tsx:91:    title: 'Forbedret K-Score beregning',
./src/app/system/page.tsx:92:    description: 'K-Score basert p√• ekte historisk data (2 √•r) med validert momentum-formel.',
./src/app/system/page.tsx:100:    title: 'DayTrade-score forbedret',
./src/app/system/page.tsx:115:    id: 'imp-notifications',
./src/app/system/page.tsx:119:    description: 'Browser notifications for prisvarsler, stop-loss triggers og p√•minnelser. Aktiveres i innstillinger.',
./src/app/system/page.tsx:128:    description: 'P/E, P/B, utbytte-yield, market cap og sektor hentet fra Yahoo Finance.',
./src/app/system/page.tsx:137:    title: 'Backtest K-Score p√• OSEBX',
./src/app/system/page.tsx:138:    description: 'K-Score validert p√• historisk data. Egen side med visualisering og statistikk.',
./src/app/system/page.tsx:146:    title: 'Automatisk nattlig analyse',
./src/app/system/page.tsx:147:    description: 'API-endepunkt for cron job som kj√∏rer full analyse f√∏r b√∏rs√•pning.',
./src/app/system/page.tsx:165:    description: 'Sesonganalyse for aksjer. Identifiserer beste/verste m√•neder og kommende muligheter.',
./src/app/system/page.tsx:174:    description: 'Nyhets-aggregator med sentiment-analyse og relevans-scoring fra flere kilder.',
./src/app/system/page.tsx:182:    title: 'üîÆ AI-drevet Analyse',
./src/app/system/page.tsx:183:    description: 'Regelbasert prediksjon forberedt for ML-integrasjon. N√∏kkelfaktorer og risiko-analyse.',
./src/app/system/page.tsx:191:    title: 'üìä Sektor-analyse',
./src/app/system/page.tsx:211:    description: 'Redis-kompatibel cache med in-memory fallback. Klar for produksjon.',
./src/app/system/page.tsx:256:    title: 'üéØ Master Score (Multi-Signal)',
./src/app/system/page.tsx:257:    description: 'Kombiner K-Score (30%), Investtech (20%), Analysthus-konsensus (20%), Momentum (15%), Fundamentals (15%).',
./src/app/system/page.tsx:275:    description: 'Logg trades med noter. AI analyserer feil og l√¶ring. "Du kj√∏pte p√• fallende K-Score..."',
./src/app/system/page.tsx:311:    description: 'Sammenlign opptil 4 aksjer visuelt: pris, K-Score, Master Score, fundamentals.',
./src/app/system/page.tsx:320:    description: 'Eksporter portef√∏lje, trades og rapport til CSV for videre analyse.',
./src/app/system/page.tsx:329:    description: 'Lagre artikler fra Investtech, E24, analytikere. Koble til aksjer. Vises p√• analyse-siden.',
./src/app/system/page.tsx:339:    description: 'Varsler n√•r: 2+ analysthus anbefaler KJ√òP, K-Score krysser 75, stop-loss n√•dd, target n√•dd.',
./src/app/system/page.tsx:403:    description: 'Sammenlign 2-4 aksjer visuelt: pris, K-Score, fundamentals, anbefalinger.',
./src/app/system/page.tsx:439:    description: 'Eksporter portef√∏lje, trades og rapport til Excel/CSV for videre analyse.',
./src/app/system/page.tsx:457:    description: 'Tren ML-modell p√• historiske K-Score/pris-data. Prediker neste ukes bevegelse.',
./src/app/system/page.tsx:467:    title: 'Yahoo Finance rate limit',
./src/app/system/page.tsx:468:    description: 'Ved mange samtidige requests kan Yahoo Finance blokkere midlertidig.',
./src/app/system/page.tsx:475:    description: 'Noen aksjer fra Nordnet bulk import matcher ikke Yahoo Finance ticker.',
./src/app/system/page.tsx:483:    workaround: 'Bruk K-Score og momentum som prim√¶re indikatorer.',
./src/app/system/page.tsx:498:      'üòä Sentiment-analyse av overskrifter (positiv/negativ/n√∏ytral)',
./src/app/system/page.tsx:508:      'üéØ Master Score: Multi-signal kombinasjon (K-Score + Investtech + Konsensus)',
./src/app/system/page.tsx:509:      'üìù Trade Journal med AI-analyse og l√¶rdommer',
./src/app/system/page.tsx:515:      'üõ†Ô∏è Ny Verkt√∏y-side med alle analyse-verkt√∏y samlet',
./src/app/system/page.tsx:517:      'üîó Aksje-nevnelser vises automatisk p√• analyse-siden',
./src/app/system/page.tsx:532:      'üìä Sektor-analyse med heatmap og topp aksjer per sektor',
./src/app/system/page.tsx:534:      'üéØ Backtest-side for K-Score validering og statistikk',
./src/app/system/page.tsx:535:      '‚è∞ Automatisk nattlig analyse API (cron-ready)',
./src/app/system/page.tsx:536:      'üìà Sesong-m√∏nstre analyse med varsler',
./src/app/system/page.tsx:537:      'üì∞ Forbedret nyhets-aggregator med sentiment-analyse',
./src/app/system/page.tsx:571:      'Forbedret K-Score med ekte historisk data',
./src/app/system/page.tsx:581:      'Selg/Hold/Kj√∏p anbefalinger',
./src/app/analysthus/page.tsx:32:            <li>‚Ä¢ Kombiner med K-Score for bedre beslutninger</li>
./src/app/analysthus/page.tsx:66:              <span className="px-2 py-0.5 bg-yellow-50 text-yellow-600 rounded text-xs font-bold">HOLD</span>
./src/app/analysthus/page.tsx:67:              <span className="text-gray-600 dark:text-dark-muted">&gt;50% anbefaler hold</span>
./src/app/analyse/[ticker]/page.tsx:3:import StockAnalyseContent from '@/components/StockAnalyseContent';
./src/app/analyse/[ticker]/page.tsx:11:interface AnalysePageProps {
./src/app/analyse/[ticker]/page.tsx:17:export default async function AnalysePage({ params }: AnalysePageProps) {
./src/app/analyse/[ticker]/page.tsx:39:    <Suspense fallback={<div className="p-8">Laster analyse...</div>}>
./src/app/analyse/[ticker]/page.tsx:40:      <StockAnalyseContent stock={stock} allStocks={stocks} />
./src/app/analyse/page.tsx:2:import AnalyseContent from '@/components/AnalyseContent';
./src/app/analyse/page.tsx:10:export default async function AnalysePage() {
./src/app/analyse/page.tsx:20:    <Suspense fallback={<div className="p-8">Laster analyse...</div>}>
./src/app/analyse/page.tsx:21:      <AnalyseContent stocks={stocks} />
./src/app/api/news-aggregator/route.ts:11:// Cache for RSS feeds (5 min)
./src/app/api/news-aggregator/route.ts:12:const feedCache: Map<string, { data: NewsItem[], timestamp: number }> = new Map();
./src/app/api/news-aggregator/route.ts:13:const CACHE_DURATION = 5 * 60 * 1000; // 5 minutter
./src/app/api/news-aggregator/route.ts:30:    // Sjekk cache
./src/app/api/news-aggregator/route.ts:31:    const cacheKey = `${source}-${ticker || 'all'}`;
./src/app/api/news-aggregator/route.ts:32:    const cached = feedCache.get(cacheKey);
./src/app/api/news-aggregator/route.ts:34:    if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {
./src/app/api/news-aggregator/route.ts:36:        news: cached.data,
./src/app/api/news-aggregator/route.ts:37:        cached: true,
./src/app/api/news-aggregator/route.ts:38:        cacheAge: Math.round((Date.now() - cached.timestamp) / 1000),
./src/app/api/news-aggregator/route.ts:106:    // Sorter etter dato (nyeste f√∏rst)
./src/app/api/news-aggregator/route.ts:107:    allNews.sort((a, b) => new Date(b.publishedAt).getTime() - new Date(a.publishedAt).getTime());
./src/app/api/news-aggregator/route.ts:109:    // Lagre i cache
./src/app/api/news-aggregator/route.ts:110:    feedCache.set(cacheKey, { data: allNews, timestamp: Date.now() });
./src/app/api/news-aggregator/route.ts:114:      cached: false,
./src/app/api/analysis/[ticker]/route.ts:5:  calculateValidatedKScore,
./src/app/api/analysis/[ticker]/route.ts:17:  kScore: number;
./src/app/api/analysis/[ticker]/route.ts:20:    recommendation: 'buy' | 'hold' | 'avoid';
./src/app/api/analysis/[ticker]/route.ts:48:    // Analyser
./src/app/api/analysis/[ticker]/route.ts:50:    const kScore = calculateValidatedKScore(profile);
./src/app/api/analysis/[ticker]/route.ts:58:      kScore,
./src/app/api/analysis/[ticker]/route.ts:64:    console.log(`‚úÖ Analysis complete for ${fullTicker}: K-Score ${kScore}, Spike: ${spikeStock}`);
./src/app/api/analysis/[ticker]/route.ts:71:      { error: `Feil ved analyse av ${fullTicker}` },
./src/app/api/quotes/route.ts:15:// Cache for quotes n√•r b√∏rsen er stengt
./src/app/api/quotes/route.ts:16:const quotesCache: Map<string, { data: QuoteResponse[string]; timestamp: number }> = new Map();
./src/app/api/quotes/route.ts:17:const CACHE_DURATION_CLOSED = 24 * 60 * 60 * 1000; // 24 timer n√•r stengt
./src/app/api/quotes/route.ts:18:const CACHE_DURATION_OPEN = 30 * 1000; // 30 sekunder n√•r √•pen (for ferskere data)
./src/app/api/quotes/route.ts:59:// Sjekk cache
./src/app/api/quotes/route.ts:60:function getCachedQuote(ticker: string, marketOpen: boolean): QuoteResponse[string] | null {
./src/app/api/quotes/route.ts:61:  const cached = quotesCache.get(ticker);
./src/app/api/quotes/route.ts:62:  if (!cached) return null;
./src/app/api/quotes/route.ts:64:  const maxAge = marketOpen ? CACHE_DURATION_OPEN : CACHE_DURATION_CLOSED;
./src/app/api/quotes/route.ts:65:  const age = Date.now() - cached.timestamp;
./src/app/api/quotes/route.ts:68:    return cached.data;
./src/app/api/quotes/route.ts:74:// Lagre i cache
./src/app/api/quotes/route.ts:75:function setCachedQuote(ticker: string, data: QuoteResponse[string]): void {
./src/app/api/quotes/route.ts:76:  quotesCache.set(ticker, { data, timestamp: Date.now() });
./src/app/api/quotes/route.ts:94:  // Hvis b√∏rsen er stengt, pr√∏v √• bruke cache f√∏rst
./src/app/api/quotes/route.ts:96:    console.log(`üîí Oslo B√∏rs stengt (${marketStatus.reason}) - bruker cache`);
./src/app/api/quotes/route.ts:98:    let allCached = true;
./src/app/api/quotes/route.ts:101:      const cached = getCachedQuote(ticker, false);
./src/app/api/quotes/route.ts:103:      if (cached) {
./src/app/api/quotes/route.ts:104:        quotes[originalTicker] = cached;
./src/app/api/quotes/route.ts:106:        allCached = false;
./src/app/api/quotes/route.ts:110:    // Hvis alt er cachet, returner med en gang
./src/app/api/quotes/route.ts:111:    if (allCached && Object.keys(quotes).length === tickers.length) {
./src/app/api/quotes/route.ts:112:      console.log(`üì¶ Returnerer ${Object.keys(quotes).length} cached quotes (b√∏rs stengt)`);
./src/app/api/quotes/route.ts:122:    // Sjekk cache f√∏rst (selv n√•r √•pen, for rask respons)
./src/app/api/quotes/route.ts:123:    const cached = getCachedQuote(ticker, marketStatus.isOpen);
./src/app/api/quotes/route.ts:124:    if (cached) {
./src/app/api/quotes/route.ts:125:      quotes[originalTicker] = cached;
./src/app/api/quotes/route.ts:126:      console.log(`üì¶ Cache hit for ${ticker}: ${cached.price} (${cached.changePercent >= 0 ? '+' : ''}${cached.changePercent?.toFixed(2) || 0}%)`);
./src/app/api/quotes/route.ts:144:        setCachedQuote(ticker, quoteData);
./src/app/api/quotes/route.ts:166:        setCachedQuote(ticker, quoteData);
./src/app/api/quotes/route.ts:171:      // Metode 3: Pr√∏v Yahoo Finance v10 quote API (mer real-time)
./src/app/api/quotes/route.ts:173:        const yahooQuoteResponse = await fetch(
./src/app/api/quotes/route.ts:174:          `https://query1.finance.yahoo.com/v10/finance/quoteSummary/${ticker}?modules=price`,
./src/app/api/quotes/route.ts:176:            cache: 'no-store',
./src/app/api/quotes/route.ts:183:        if (yahooQuoteResponse.ok) {
./src/app/api/quotes/route.ts:184:          const data = await yahooQuoteResponse.json();
./src/app/api/quotes/route.ts:204:            setCachedQuote(ticker, quoteData);
./src/app/api/quotes/route.ts:205:            console.log(`‚úÖ Yahoo v10 quote for ${ticker}: ${currentPrice.toFixed(2)} (${changePercent >= 0 ? '+' : ''}${changePercent.toFixed(2)}%) prev: ${prevClose.toFixed(2)}`);
./src/app/api/quotes/route.ts:209:      } catch (yahooV10Error) {
./src/app/api/quotes/route.ts:210:        console.error(`Yahoo v10 error for ${ticker}:`, yahooV10Error);
./src/app/api/quotes/route.ts:213:      // Metode 4: Fallback til Yahoo chart API
./src/app/api/quotes/route.ts:215:        const yahooResponse = await fetch(
./src/app/api/quotes/route.ts:216:          `https://query1.finance.yahoo.com/v8/finance/chart/${ticker}?interval=1m&range=1d`,
./src/app/api/quotes/route.ts:218:            cache: 'no-store',
./src/app/api/quotes/route.ts:225:        if (yahooResponse.ok) {
./src/app/api/quotes/route.ts:226:          const data = await yahooResponse.json();
./src/app/api/quotes/route.ts:254:            setCachedQuote(ticker, quoteData);
./src/app/api/quotes/route.ts:255:            console.log(`‚úÖ Yahoo chart for ${ticker}: ${currentPrice.toFixed(2)} (${changePercent >= 0 ? '+' : ''}${changePercent.toFixed(2)}%) prev: ${prevClose.toFixed(2)}`);
./src/app/api/quotes/route.ts:259:      } catch (yahooError) {
./src/app/api/quotes/route.ts:260:        console.error(`Yahoo chart error for ${ticker}:`, yahooError);
./src/app/api/chart/[ticker]/route.ts:11: * Henter historiske priser fra Yahoo Finance for prisgrafen
./src/app/api/chart/[ticker]/route.ts:38:    const url = `https://query1.finance.yahoo.com/v8/finance/chart/${fullTicker}?period1=${startDate}&period2=${endDate}&interval=1d`;
./src/app/api/chart/[ticker]/route.ts:44:      next: { revalidate: 3600 }, // Cache i 1 time
./src/app/api/chart/[ticker]/route.ts:48:      console.error(`Yahoo Finance error for ${fullTicker}: ${response.status}`);
./src/app/api/movers/route.ts:53:// Cache
./src/app/api/movers/route.ts:54:let cachedMovers: MoversResponse | null = null;
./src/app/api/movers/route.ts:55:let cacheTimestamp = 0;
./src/app/api/movers/route.ts:56:const CACHE_DURATION = 5 * 60 * 1000; // 5 minutter
./src/app/api/movers/route.ts:60:    // Sjekk cache
./src/app/api/movers/route.ts:61:    if (cachedMovers && (Date.now() - cacheTimestamp) < CACHE_DURATION) {
./src/app/api/movers/route.ts:62:      return NextResponse.json(cachedMovers);
./src/app/api/movers/route.ts:70:    const url = `https://query1.finance.yahoo.com/v7/finance/quote?symbols=${symbolsParam}`;
./src/app/api/movers/route.ts:76:      cache: 'no-store',
./src/app/api/movers/route.ts:80:      throw new Error(`Yahoo Finance error: ${response.status}`);
./src/app/api/movers/route.ts:117:    // Sorter etter endring (st√∏rst f√∏rst)
./src/app/api/movers/route.ts:118:    winners.sort((a, b) => b.changePercent - a.changePercent);
./src/app/api/movers/route.ts:119:    losers.sort((a, b) => a.changePercent - b.changePercent);
./src/app/api/movers/route.ts:131:    // Cache resultatet
./src/app/api/movers/route.ts:132:    cachedMovers = result;
./src/app/api/movers/route.ts:133:    cacheTimestamp = Date.now();
./src/app/api/breakout/route.ts:22:// Cache for √• unng√• for mange API-kall
./src/app/api/breakout/route.ts:23:let cachedResults: { data: any; timestamp: number } | null = null;
./src/app/api/breakout/route.ts:24:const CACHE_DURATION = 30 * 60 * 1000; // 30 minutter
./src/app/api/breakout/route.ts:28:    // Returner cached data hvis fersk
./src/app/api/breakout/route.ts:29:    if (cachedResults && (Date.now() - cachedResults.timestamp) < CACHE_DURATION) {
./src/app/api/breakout/route.ts:30:      console.log('üì¶ Returning cached breakout scan');
./src/app/api/breakout/route.ts:31:      return NextResponse.json(cachedResults.data);
./src/app/api/breakout/route.ts:51:    // Cache resultatene
./src/app/api/breakout/route.ts:52:    cachedResults = { data: result, timestamp: Date.now() };
./src/app/api/cron/analyse/route.ts:4:// API route for automatisk nattlig analyse
./src/app/api/cron/analyse/route.ts:5:// Kan kalles fra en ekstern cron-tjeneste (f.eks. cron-job.org, Vercel Cron, GitHub Actions)
./src/app/api/cron/analyse/route.ts:11:  const cronSecret = process.env.CRON_SECRET;
./src/app/api/cron/analyse/route.ts:14:  if (cronSecret && authHeader !== `Bearer ${cronSecret}`) {
./src/app/api/cron/analyse/route.ts:21:    console.log('üåô Starting nightly analysis cron job...');
./src/app/api/cron/analyse/route.ts:23:    // Hent ferske data og kj√∏r full analyse
./src/app/api/cron/analyse/route.ts:34:      buySignals: stocks.filter(s => s.signal === 'BUY').length,
./src/app/api/cron/analyse/route.ts:35:      holdSignals: stocks.filter(s => s.signal === 'HOLD').length,
./src/app/api/cron/analyse/route.ts:36:      sellSignals: stocks.filter(s => s.signal === 'SELL').length,
./src/app/api/cron/analyse/route.ts:38:        .filter(s => s.signal === 'BUY')
./src/app/api/cron/analyse/route.ts:39:        .sort((a, b) => b.kScore - a.kScore)
./src/app/api/cron/analyse/route.ts:44:          kScore: s.kScore,
./src/app/api/cron/analyse/route.ts:75:// Eksempel cron-job setup:
./src/app/api/cron/analyse/route.ts:77:// 1. Vercel Cron (vercel.json):
./src/app/api/cron/analyse/route.ts:79://   "crons": [{
./src/app/api/cron/analyse/route.ts:80://     "path": "/api/cron/analyse",
./src/app/api/cron/analyse/route.ts:89://     - cron: '0 5 * * 1-5'
./src/app/api/cron/analyse/route.ts:96://           curl -X GET "https://your-domain.com/api/cron/analyse" \
./src/app/api/cron/analyse/route.ts:97://             -H "Authorization: Bearer ${{ secrets.CRON_SECRET }}"
./src/app/api/cron/analyse/route.ts:99:// 3. cron-job.org (gratis):
./src/app/api/cron/analyse/route.ts:100:// URL: https://your-domain.com/api/cron/analyse
./src/app/artikler/page.tsx:202:            inneholder alle b√∏rsmeldinger, innsidehandler, og flagginger.
./src/app/artikler/page.tsx:246:            ‚Ä¢ <strong>E24 Investtech</strong>: Publiseres ukentlig med innsidehandler og tekniske analyser. 
./src/app/page.tsx:7:// Caching h√•ndteres av v√•rt cache-modul basert p√• b√∏rsens √•pningstider
./src/app/page.tsx:8:export const dynamic = 'force-dynamic'; // Server-side rendering for cache-logikk
./src/app/page.tsx:34:    console.log('‚ú® Using K-Momentum strategy with Finnhub');
./src/app/page.tsx:39:        console.warn('‚ö†Ô∏è K-Momentum returned no stocks, falling back to Yahoo Finance');
./src/app/page.tsx:44:      console.log('‚ö†Ô∏è Falling back to Yahoo Finance');
./src/app/page.tsx:48:    console.log('‚ö†Ô∏è No Finnhub API key, using Yahoo Finance fallback');
./src/app/globals.css:129:.dark input::placeholder,
./src/app/globals.css:130:.dark textarea::placeholder {
./src/app/globals.css:228:/* K-Score progress bar animation */
./src/app/globals.css:229:@keyframes k-score-fill {
./src/app/globals.css:235:.k-score-bar {
./src/app/globals.css:236:  animation: k-score-fill 1s ease-out;
./src/app/verktoy/page.tsx:20:import MasterScoreWidget from '@/components/MasterScoreWidget';
./src/app/verktoy/page.tsx:22:type TabId = 'risk' | 'journal' | 'compare' | 'rotation' | 'masterscore';
./src/app/verktoy/page.tsx:49:    { id: 'masterscore' as const, label: 'Master Score', icon: Crown, color: 'from-yellow-400 to-orange-500' },
./src/app/verktoy/page.tsx:104:          {/* Master Score */}
./src/app/verktoy/page.tsx:105:          {activeTab === 'masterscore' && (
./src/app/verktoy/page.tsx:107:              <MasterScoreWidget stocks={stocks} limit={15} />
./src/app/verktoy/page.tsx:110:                  üìä Om Master Score
./src/app/verktoy/page.tsx:113:                  Master Score kombinerer flere signalkilder for √• gi en helhetlig vurdering av hver aksje.
./src/app/verktoy/page.tsx:117:                    <span className="text-sm">K-Score (Momentum)</span>
./src/app/verktoy/page.tsx:121:                    <span className="text-sm">Investtech Score</span>
./src/app/verktoy/page.tsx:140:                    Importer Investtech-scorer og analysthus-anbefalinger for mer n√∏yaktig Master Score.
./src/app/rapport/page.tsx:34:  const [sellOpen, setSellOpen] = useState(true);
./src/app/rapport/page.tsx:35:  const [holdOpen, setHoldOpen] = useState(false);
./src/app/rapport/page.tsx:36:  const [buyMoreOpen, setBuyMoreOpen] = useState(false);
./src/app/rapport/page.tsx:72:          console.warn('Kunne ikke hente live-priser, bruker cached priser:', err);
./src/app/rapport/page.tsx:251:            {summary.recommendations.strongSell > 0 && (
./src/app/rapport/page.tsx:253:                üî¥ Selg n√•: {summary.recommendations.strongSell}
./src/app/rapport/page.tsx:256:            {summary.recommendations.sell > 0 && (
./src/app/rapport/page.tsx:258:                üü† Selg: {summary.recommendations.sell}
./src/app/rapport/page.tsx:261:            {summary.recommendations.hold > 0 && (
./src/app/rapport/page.tsx:263:                üü° Hold: {summary.recommendations.hold}
./src/app/rapport/page.tsx:266:            {summary.recommendations.buy > 0 && (
./src/app/rapport/page.tsx:268:                üü¢ Kj√∏p mer: {summary.recommendations.buy}
./src/app/rapport/page.tsx:337:                        e.recommendation.includes('SELL') ? 'bg-red-600 text-white' : 'bg-green-500 text-white'
./src/app/rapport/page.tsx:339:                        {e.recommendation === 'STRONG_SELL' ? 'SELG N√Ö' : e.recommendation}
./src/app/rapport/page.tsx:361:      {/* Sell Recommendations - Accordion */}
./src/app/rapport/page.tsx:362:      {evaluations.filter(e => e.recommendation === 'SELL' && e.urgency !== 'critical' && e.urgency !== 'high').length > 0 && (
./src/app/rapport/page.tsx:365:            onClick={() => setSellOpen(!sellOpen)}
./src/app/rapport/page.tsx:370:              Selg ({evaluations.filter(e => e.recommendation === 'SELL' && e.urgency !== 'critical' && e.urgency !== 'high').length})
./src/app/rapport/page.tsx:374:              sellOpen && 'rotate-180'
./src/app/rapport/page.tsx:377:          {sellOpen && (
./src/app/rapport/page.tsx:380:                .filter(e => e.recommendation === 'SELL' && e.urgency !== 'critical' && e.urgency !== 'high')
./src/app/rapport/page.tsx:419:      {/* Hold Recommendations - Accordion */}
./src/app/rapport/page.tsx:420:      {evaluations.filter(e => e.recommendation === 'HOLD').length > 0 && (
./src/app/rapport/page.tsx:423:            onClick={() => setHoldOpen(!holdOpen)}
./src/app/rapport/page.tsx:428:              Hold ({evaluations.filter(e => e.recommendation === 'HOLD').length})
./src/app/rapport/page.tsx:432:              holdOpen && 'rotate-180'
./src/app/rapport/page.tsx:435:          {holdOpen && (
./src/app/rapport/page.tsx:438:                .filter(e => e.recommendation === 'HOLD')
./src/app/rapport/page.tsx:455:                        HOLD
./src/app/rapport/page.tsx:460:                      <span>üìÖ {e.daysHeld} dager holdt</span>
./src/app/rapport/page.tsx:484:      {/* Buy More Recommendations - Accordion */}
./src/app/rapport/page.tsx:485:      {evaluations.filter(e => e.recommendation === 'BUY' || e.recommendation === 'STRONG_BUY').length > 0 && (
./src/app/rapport/page.tsx:488:            onClick={() => setBuyMoreOpen(!buyMoreOpen)}
./src/app/rapport/page.tsx:493:              Kj√∏p mer ({evaluations.filter(e => e.recommendation === 'BUY' || e.recommendation === 'STRONG_BUY').length})
./src/app/rapport/page.tsx:497:              buyMoreOpen && 'rotate-180'
./src/app/rapport/page.tsx:500:          {buyMoreOpen && (
./src/app/rapport/page.tsx:503:                .filter(e => e.recommendation === 'BUY' || e.recommendation === 'STRONG_BUY')
./src/components/StockCardOriginal.tsx:10:  rank?: number;
./src/components/StockCardOriginal.tsx:13:export default function StockCardOriginal({ stock, rank }: StockCardOriginalProps) {
./src/components/StockCardOriginal.tsx:15:    BUY: { bg: 'bg-[#10B981]', text: 'BUY', textColor: 'text-white' },
./src/components/StockCardOriginal.tsx:16:    SELL: { bg: 'bg-[#EF4444]', text: 'SELL', textColor: 'text-white' },
./src/components/StockCardOriginal.tsx:17:    HOLD: { bg: 'bg-gray-400', text: 'HOLD', textColor: 'text-white' },
./src/components/StockCardOriginal.tsx:21:  const kScoreColor = stock.kScore >= 75 ? 'bg-[#10B981]' : stock.kScore >= 60 ? 'bg-yellow-400' : 'bg-gray-300';
./src/components/StockCardOriginal.tsx:26:      href={`/analyse/${stock.ticker}`}
./src/components/StockCardOriginal.tsx:34:              {rank && (
./src/components/StockCardOriginal.tsx:36:                  #{rank}
./src/components/StockCardOriginal.tsx:47:            {/* Strategy Icons */}
./src/components/StockCardOriginal.tsx:49:              {stock.strategies.includes('MOMENTUM') && (
./src/components/StockCardOriginal.tsx:54:              {stock.strategies.includes('BUFFETT') && (
./src/components/StockCardOriginal.tsx:59:              {stock.strategies.includes('TVEITEREID') && (
./src/components/StockCardOriginal.tsx:64:              {stock.strategies.includes('REBOUND') && (
./src/components/StockCardOriginal.tsx:69:              {stock.strategies.includes('INSIDER') && (
./src/components/StockCardOriginal.tsx:96:        {/* K-SCORE */}
./src/components/StockCardOriginal.tsx:99:            <span className="text-xs text-gray-400 uppercase tracking-wide font-semibold">K-SCORE</span>
./src/components/StockCardOriginal.tsx:100:            <span className="text-2xl font-extrabold text-brand-slate dark:text-white">{stock.kScore}</span>
./src/components/StockCardOriginal.tsx:104:              className={clsx('h-full rounded-full', kScoreColor)}
./src/components/StockCardOriginal.tsx:105:              style={{ width: `${stock.kScore}%` }}
./src/components/BulkImportModal.tsx:6:import { StrategyId, STRATEGIES } from '@/lib/strategies';
./src/components/BulkImportModal.tsx:81:  type: 'BUY' | 'SELL';
./src/components/BulkImportModal.tsx:84:  strategyId: StrategyId | '';
./src/components/BulkImportModal.tsx:113:  const [selectedStrategyId, setSelectedStrategyId] = useState<StrategyId | ''>('');
./src/components/BulkImportModal.tsx:180:        const isBuy = transactionType.includes('kj√∏pt') || transactionType.includes('kj√∏p');
./src/components/BulkImportModal.tsx:181:        const isSell = transactionType.includes('solgt') || transactionType.includes('salg');
./src/components/BulkImportModal.tsx:183:        if (!isBuy && !isSell) continue;
./src/components/BulkImportModal.tsx:214:            id: `${dateStr}-${stockName}-${isBuy ? 'BUY' : 'SELL'}-${Math.random().toString(36).substr(2, 5)}`,
./src/components/BulkImportModal.tsx:222:            type: isBuy ? 'BUY' : 'SELL',
./src/components/BulkImportModal.tsx:225:            strategyId: '',  // Settes av hovedvalget
./src/components/BulkImportModal.tsx:336:          strategyId: selectedStrategyId,
./src/components/BulkImportModal.tsx:358:  const handleMainStrategyChange = (newStrategyId: StrategyId | '') => {
./src/components/BulkImportModal.tsx:359:    setSelectedStrategyId(newStrategyId);
./src/components/BulkImportModal.tsx:360:    setParsedTrades(prev => prev.map(t => ({ ...t, strategyId: newStrategyId })));
./src/components/BulkImportModal.tsx:371:  const handleTradeStrategyChange = (id: string, strategyId: StrategyId | '') => {
./src/components/BulkImportModal.tsx:373:      prev.map(t => t.id === id ? { ...t, strategyId } : t)
./src/components/BulkImportModal.tsx:406:        if (trade.type === 'BUY') {
./src/components/BulkImportModal.tsx:409:          const tradeStrategyId = (trade.strategyId || 'MOMENTUM_TREND') as StrategyId;
./src/components/BulkImportModal.tsx:416:          const strategy = STRATEGIES[tradeStrategyId];
./src/components/BulkImportModal.tsx:417:          const daysToAdd = strategy?.typicalHoldingDays?.max || 30;
./src/components/BulkImportModal.tsx:428:            strategyId: tradeStrategyId,
./src/components/BulkImportModal.tsx:446:            const tradeToClose = matchingTrades.sort((a, b) => 
./src/components/BulkImportModal.tsx:467:            const tradeStrategyId = (trade.strategyId || 'MOMENTUM_TREND') as StrategyId;
./src/components/BulkImportModal.tsx:469:            // Opprett en "placeholder" trade som allerede er lukket
./src/components/BulkImportModal.tsx:477:              strategyId: tradeStrategyId,
./src/components/BulkImportModal.tsx:505:    const buys = selectedTrades.filter(t => t.type === 'BUY').length;
./src/components/BulkImportModal.tsx:506:    const sells = selectedTrades.filter(t => t.type === 'SELL').length;
./src/components/BulkImportModal.tsx:511:    console.log(`‚úÖ Importert: ${buys} kj√∏p, ${sells} salg`);
./src/components/BulkImportModal.tsx:517:      // Fjern kun suksessfullt importerte trades fra listen (behold feilede)
./src/components/BulkImportModal.tsx:634:              placeholder={importMode === 'trades' 
./src/components/BulkImportModal.tsx:662:          {/* Portfolio & Strategy Selection - Hovedvalg */}
./src/components/BulkImportModal.tsx:688:                    value={selectedStrategyId}
./src/components/BulkImportModal.tsx:689:                    onChange={(e) => handleMainStrategyChange(e.target.value as StrategyId)}
./src/components/BulkImportModal.tsx:704:                      {Object.values(STRATEGIES)
./src/components/BulkImportModal.tsx:763:                            trade.type === 'BUY' 
./src/components/BulkImportModal.tsx:767:                            {trade.type === 'BUY' ? 'KJ√òP' : 'SALG'}
./src/components/BulkImportModal.tsx:795:                            value={trade.strategyId}
./src/components/BulkImportModal.tsx:796:                            onChange={(e) => handleTradeStrategyChange(trade.id, e.target.value as StrategyId)}
./src/components/BulkImportModal.tsx:801:                            {Object.values(STRATEGIES)
./src/components/BulkImportModal.tsx:856:                            trade.type === 'BUY' 
./src/components/BulkImportModal.tsx:860:                            {trade.type === 'BUY' ? 'KJ√òP' : 'SALG'}
./src/components/BulkImportModal.tsx:1005:                    {parsedTrades.filter(t => t.selected && t.type === 'BUY').length} kj√∏p
./src/components/BulkImportModal.tsx:1008:                    {parsedTrades.filter(t => t.selected && t.type === 'SELL').length} salg
./src/components/TradePlanCard.tsx:65:              Risiko / Reward Forhold
./src/components/TradePlanCard.tsx:139:              <span>Hold deg til stop loss-niv√•et for √• begrense tap</span>
./src/components/StockAnalyseContent.tsx:18:import { StrategyId } from '@/lib/strategies';
./src/components/StockAnalyseContent.tsx:20:interface StockAnalyseContentProps {
./src/components/StockAnalyseContent.tsx:25:export default function StockAnalyseContent({ stock, allStocks }: StockAnalyseContentProps) {
./src/components/StockAnalyseContent.tsx:34:  const getDefaultStrategy = (): StrategyId => {
./src/components/StockAnalyseContent.tsx:35:    if (stock.strategies.includes('MOMENTUM')) return 'MOMENTUM_TREND';
./src/components/StockAnalyseContent.tsx:36:    if (stock.strategies.includes('BUFFETT')) return 'BUFFETT';
./src/components/StockAnalyseContent.tsx:37:    if (stock.strategies.includes('INSIDER')) return 'INSIDER';
./src/components/StockAnalyseContent.tsx:47:    strategyId: getDefaultStrategy(),
./src/components/StockAnalyseContent.tsx:86:    BUY: { bg: 'bg-brand-emerald', text: 'KJ√òP' },
./src/components/StockAnalyseContent.tsx:87:    SELL: { bg: 'bg-brand-rose', text: 'SELG' },
./src/components/StockAnalyseContent.tsx:88:    HOLD: { bg: 'bg-gray-500', text: 'HOLD' },
./src/components/StockAnalyseContent.tsx:146:              K-SCORE
./src/components/StockAnalyseContent.tsx:148:            <div className="text-3xl font-extrabold mb-1">{stock.kScore}</div>
./src/components/StockAnalyseContent.tsx:150:              {stock.kScore >= 75 ? 'Utmerket' : stock.kScore >= 60 ? 'God' : 'Moderat'}
./src/components/StockAnalyseContent.tsx:339:                <h3 className="text-xl font-bold text-brand-slate mb-4">üîç Teknisk Analyse</h3>
./src/components/StockAnalyseContent.tsx:341:                {stock.signal === 'BUY' && (
./src/components/StockAnalyseContent.tsx:348:                      Aksjen oppfyller alle kriterier for et kj√∏pssignal. K-Score p√• {stock.kScore} 
./src/components/StockAnalyseContent.tsx:355:                {stock.signal === 'HOLD' && (
./src/components/StockAnalyseContent.tsx:359:                      Hold/Avvent for {tickerShort}
./src/components/StockAnalyseContent.tsx:368:                {stock.signal === 'SELL' && (
./src/components/StockAnalyseContent.tsx:413:          {/* Strategy Tags */}
./src/components/StockAnalyseContent.tsx:419:              {stock.strategies.map((strategy) => (
./src/components/StockAnalyseContent.tsx:421:                  key={strategy}
./src/components/StockAnalyseContent.tsx:424:                  {strategy === 'MOMENTUM' && <Zap className="w-4 h-4" />}
./src/components/StockAnalyseContent.tsx:425:                  {strategy === 'BUFFETT' && <Shield className="w-4 h-4" />}
./src/components/StockAnalyseContent.tsx:426:                  {strategy === 'TVEITEREID' && <TrendingUp className="w-4 h-4" />}
./src/components/StockAnalyseContent.tsx:427:                  {strategy}
./src/components/StockAnalyseContent.tsx:448:                <span className="text-sm opacity-75">K-Score Rank:</span>
./src/components/MarkedsskannerContent.tsx:10:type SortField = 'ticker' | 'kScore' | 'price' | 'changePercent' | 'gainPercent';
./src/components/MarkedsskannerContent.tsx:11:type SortOrder = 'asc' | 'desc';
./src/components/MarkedsskannerContent.tsx:18:  breakoutScore: number;
./src/components/MarkedsskannerContent.tsx:63:  const [sortField, setSortField] = useState<SortField>('kScore');
./src/components/MarkedsskannerContent.tsx:64:  const [sortOrder, setSortOrder] = useState<SortOrder>('desc');
./src/components/MarkedsskannerContent.tsx:116:  const filteredAndSortedStocks = useMemo(() => {
./src/components/MarkedsskannerContent.tsx:127:    // Sort
./src/components/MarkedsskannerContent.tsx:128:    filtered.sort((a, b) => {
./src/components/MarkedsskannerContent.tsx:129:      let aVal = a[sortField];
./src/components/MarkedsskannerContent.tsx:130:      let bVal = b[sortField];
./src/components/MarkedsskannerContent.tsx:132:      if (sortOrder === 'asc') {
./src/components/MarkedsskannerContent.tsx:140:  }, [stocks, searchTerm, sortField, sortOrder]);
./src/components/MarkedsskannerContent.tsx:142:  const handleSort = (field: SortField) => {
./src/components/MarkedsskannerContent.tsx:143:    if (sortField === field) {
./src/components/MarkedsskannerContent.tsx:144:      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');
./src/components/MarkedsskannerContent.tsx:146:      setSortField(field);
./src/components/MarkedsskannerContent.tsx:147:      setSortOrder('desc');
./src/components/MarkedsskannerContent.tsx:151:  const SortIcon = ({ field }: { field: SortField }) => {
./src/components/MarkedsskannerContent.tsx:152:    if (sortField !== field) {
./src/components/MarkedsskannerContent.tsx:155:    return sortOrder === 'asc' ? (
./src/components/MarkedsskannerContent.tsx:173:                ? 'Komplett oversikt over alle aksjer med sortering og filtrering'
./src/components/MarkedsskannerContent.tsx:193:            K-Score Scanner
./src/components/MarkedsskannerContent.tsx:227:              placeholder="S√∏k etter ticker eller navn..."
./src/components/MarkedsskannerContent.tsx:256:      {/* K-Score Scanner View */}
./src/components/MarkedsskannerContent.tsx:267:          <div className="text-3xl font-extrabold">{stocks.filter(s => s.signal === 'BUY').length}</div>
./src/components/MarkedsskannerContent.tsx:270:          <div className="text-sm opacity-75 mb-1">Hold</div>
./src/components/MarkedsskannerContent.tsx:271:          <div className="text-3xl font-extrabold">{stocks.filter(s => s.signal === 'HOLD').length}</div>
./src/components/MarkedsskannerContent.tsx:275:          <div className="text-3xl font-extrabold">{stocks.filter(s => s.signal === 'SELL').length}</div>
./src/components/MarkedsskannerContent.tsx:287:                    onClick={() => handleSort('ticker')}
./src/components/MarkedsskannerContent.tsx:291:                    <SortIcon field="ticker" />
./src/components/MarkedsskannerContent.tsx:299:                    onClick={() => handleSort('kScore')}
./src/components/MarkedsskannerContent.tsx:302:                    K-Score
./src/components/MarkedsskannerContent.tsx:303:                    <SortIcon field="kScore" />
./src/components/MarkedsskannerContent.tsx:311:                    onClick={() => handleSort('price')}
./src/components/MarkedsskannerContent.tsx:315:                    <SortIcon field="price" />
./src/components/MarkedsskannerContent.tsx:320:                    onClick={() => handleSort('changePercent')}
./src/components/MarkedsskannerContent.tsx:324:                    <SortIcon field="changePercent" />
./src/components/MarkedsskannerContent.tsx:329:                    onClick={() => handleSort('gainPercent')}
./src/components/MarkedsskannerContent.tsx:333:                    <SortIcon field="gainPercent" />
./src/components/MarkedsskannerContent.tsx:342:              {filteredAndSortedStocks.map((stock, index) => {
./src/components/MarkedsskannerContent.tsx:347:                  BUY: { bg: 'bg-brand-emerald', text: 'KJ√òP' },
./src/components/MarkedsskannerContent.tsx:348:                  SELL: { bg: 'bg-brand-rose', text: 'SELG' },
./src/components/MarkedsskannerContent.tsx:349:                  HOLD: { bg: 'bg-gray-500', text: 'HOLD' },
./src/components/MarkedsskannerContent.tsx:361:                        href={`/analyse/${stock.ticker}`}
./src/components/MarkedsskannerContent.tsx:373:                          {stock.kScore}
./src/components/MarkedsskannerContent.tsx:379:                              stock.kScore >= 75 ? 'bg-brand-emerald' :
./src/components/MarkedsskannerContent.tsx:380:                              stock.kScore >= 60 ? 'bg-yellow-500' :
./src/components/MarkedsskannerContent.tsx:383:                            style={{ width: `${stock.kScore}%` }}
./src/components/MarkedsskannerContent.tsx:427:        {filteredAndSortedStocks.length === 0 && (
./src/components/MarkedsskannerContent.tsx:437:        Viser {filteredAndSortedStocks.length} av {stocks.length} aksjer
./src/components/MarkedsskannerContent.tsx:464:        <p className="text-gray-600">Analyserer m√∏nstre og volum...</p>
./src/components/MarkedsskannerContent.tsx:614:            href={`/analyse/${candidate.ticker}`}
./src/components/MarkedsskannerContent.tsx:622:          <div className="text-2xl font-extrabold text-brand-slate">{candidate.breakoutScore}</div>
./src/components/MarkedsskannerContent.tsx:623:          <div className="text-xs text-gray-500">Score</div>
./src/components/MarkedsskannerContent.tsx:803:                                href={`/analyse/${mover.ticker}`}
./src/components/MarkedsskannerContent.tsx:862:                                href={`/analyse/${mover.ticker}`}
./src/components/MasterScoreWidget.tsx:8:import { calculateMasterScore, type MasterScoreBreakdown } from '@/lib/analysis/master-score';
./src/components/MasterScoreWidget.tsx:10:interface MasterScoreWidgetProps {
./src/components/MasterScoreWidget.tsx:15:export default function MasterScoreWidget({ stocks, limit = 10 }: MasterScoreWidgetProps) {
./src/components/MasterScoreWidget.tsx:16:  const [masterScores, setMasterScores] = useState<MasterScoreBreakdown[]>([]);
./src/components/MasterScoreWidget.tsx:17:  const [selectedStock, setSelectedStock] = useState<MasterScoreBreakdown | null>(null);
./src/components/MasterScoreWidget.tsx:20:    const scores = stocks
./src/components/MasterScoreWidget.tsx:21:      .map(stock => calculateMasterScore(stock))
./src/components/MasterScoreWidget.tsx:22:      .sort((a, b) => b.masterScore - a.masterScore)
./src/components/MasterScoreWidget.tsx:24:    setMasterScores(scores);
./src/components/MasterScoreWidget.tsx:27:  const getSignalStyle = (signal: MasterScoreBreakdown['signal']) => {
./src/components/MasterScoreWidget.tsx:31:      case 'HOLD': return 'bg-yellow-50 text-yellow-600 border-yellow-200';
./src/components/MasterScoreWidget.tsx:37:  const getScoreColor = (score: number) => {
./src/components/MasterScoreWidget.tsx:38:    if (score >= 80) return 'text-green-600';
./src/components/MasterScoreWidget.tsx:39:    if (score >= 60) return 'text-green-500';
./src/components/MasterScoreWidget.tsx:40:    if (score >= 40) return 'text-yellow-500';
./src/components/MasterScoreWidget.tsx:41:    if (score >= 20) return 'text-orange-500';
./src/components/MasterScoreWidget.tsx:54:            <h2 className="text-xl font-bold text-brand-slate dark:text-white">Master Score</h2>
./src/components/MasterScoreWidget.tsx:55:            <p className="text-sm text-gray-500 dark:text-dark-muted">K-Score + Investtech + Analysthus</p>
./src/components/MasterScoreWidget.tsx:60:      {/* Score List */}
./src/components/MasterScoreWidget.tsx:62:        {masterScores.map((score, index) => {
./src/components/MasterScoreWidget.tsx:63:          const tickerShort = score.ticker.replace('.OL', '').replace('.CO', '');
./src/components/MasterScoreWidget.tsx:67:              key={score.ticker}
./src/components/MasterScoreWidget.tsx:72:                onClick={() => setSelectedStock(selectedStock?.ticker === score.ticker ? null : score)}
./src/components/MasterScoreWidget.tsx:75:                  {/* Rank */}
./src/components/MasterScoreWidget.tsx:91:                        getSignalStyle(score.signal)
./src/components/MasterScoreWidget.tsx:93:                        {score.signal.replace('_', ' ')}
./src/components/MasterScoreWidget.tsx:97:                      <span>{score.confidence}% confidence</span>
./src/components/MasterScoreWidget.tsx:102:                {/* Score */}
./src/components/MasterScoreWidget.tsx:104:                  <div className={clsx('text-2xl font-bold', getScoreColor(score.masterScore))}>
./src/components/MasterScoreWidget.tsx:105:                    {score.masterScore}
./src/components/MasterScoreWidget.tsx:109:                    selectedStock?.ticker === score.ticker && 'rotate-90'
./src/components/MasterScoreWidget.tsx:115:              {selectedStock?.ticker === score.ticker && (
./src/components/MasterScoreWidget.tsx:119:                    {Object.entries(score.components).map(([key, comp]) => (
./src/components/MasterScoreWidget.tsx:122:                          {key === 'kScore' ? 'K-Score' : key === 'investtech' ? 'Investtech' : key}
./src/components/MasterScoreWidget.tsx:139:                  {score.reasons.length > 0 && (
./src/components/MasterScoreWidget.tsx:141:                      {score.reasons.map((reason, i) => (
./src/components/MasterScoreWidget.tsx:152:                    href={`/analyse/${score.ticker}`}
./src/components/MasterScoreWidget.tsx:155:                    Se full analyse ‚Üí
./src/components/MasterScoreWidget.tsx:169:            Master Score kombinerer K-Score (30%), Investtech (20%), Analysthus-konsensus (20%), 
./src/components/MasterScoreWidget.tsx:170:            Teknisk analyse (15%) og Fundamentale data (15%).
./src/components/StockMentionsWidget.tsx:99:                  {mention.mentionType === 'insider_buy' ? 'Innsidekj√∏p' :
./src/components/StockMentionsWidget.tsx:100:                   mention.mentionType === 'insider_sell' ? 'Innsidesalg' :
./src/components/SectorHeatmap.tsx:79:    // Sort by average change
./src/components/SectorHeatmap.tsx:80:    return Object.values(sectors).sort((a, b) => b.avgChange - a.avgChange);
./src/components/SectorHeatmap.tsx:89:          üìä Sektor-analyse
./src/components/SectorHeatmap.tsx:160:                .sort((a, b) => b.changePercent - a.changePercent)
./src/components/SectorHeatmap.tsx:165:                    href={`/analyse/${stock.ticker}`}
./src/components/DashboardContent.tsx:8:import FilterBar, { MarketFilter, StrategyFilter } from '@/components/FilterBar';
./src/components/DashboardContent.tsx:20:import { StrategyId } from '@/lib/strategies';
./src/components/DashboardContent.tsx:22:// Hent strategi-spesifikk score hvis tilgjengelig
./src/components/DashboardContent.tsx:23:const getStrategyScore = (stock: Stock, strategyId: StrategyId | 'ALLE'): number => {
./src/components/DashboardContent.tsx:24:  if (strategyId === 'ALLE' || !stock.strategyEvaluations) {
./src/components/DashboardContent.tsx:25:    return stock.kScore; // Fallback til K-Score
./src/components/DashboardContent.tsx:28:  const evaluation = stock.strategyEvaluations.find(e => e.strategyId === strategyId);
./src/components/DashboardContent.tsx:29:  return evaluation?.score ?? stock.kScore;
./src/components/DashboardContent.tsx:32:// Beregn en sammensatt score for √• rangere aksjer
./src/components/DashboardContent.tsx:33:const calculateCompositeScore = (stock: Stock, strategyFilter: StrategyId | 'ALLE' = 'ALLE'): number => {
./src/components/DashboardContent.tsx:34:  // Bruk strategi-spesifikk score hvis vi har en spesifikk filter
./src/components/DashboardContent.tsx:35:  if (strategyFilter !== 'ALLE' && stock.strategyEvaluations) {
./src/components/DashboardContent.tsx:36:    const evaluation = stock.strategyEvaluations.find(e => e.strategyId === strategyFilter);
./src/components/DashboardContent.tsx:38:      return evaluation.score;
./src/components/DashboardContent.tsx:43:  let score = 0;
./src/components/DashboardContent.tsx:45:  if (strategyFilter === 'INSIDER' && stock.insiderScore !== undefined) {
./src/components/DashboardContent.tsx:46:    // Ved INSIDER-filter: Insider score f√•r h√∏yere vekt
./src/components/DashboardContent.tsx:47:    score += stock.insiderScore * 0.4; // 40%
./src/components/DashboardContent.tsx:48:    score += stock.kScore * 0.3; // 30%
./src/components/DashboardContent.tsx:53:    const rsiScore = Math.max(0, 100 - (rsiDistance * 3));
./src/components/DashboardContent.tsx:54:    score += rsiScore * 0.15;
./src/components/DashboardContent.tsx:58:    const rrScore = Math.min(100, riskRewardRatio * 20);
./src/components/DashboardContent.tsx:59:    score += rrScore * 0.15;
./src/components/DashboardContent.tsx:62:    // K-Score (vekt: 50%)
./src/components/DashboardContent.tsx:63:    score += stock.kScore * 0.5;
./src/components/DashboardContent.tsx:68:    const rsiScore = Math.max(0, 100 - (rsiDistance * 3));
./src/components/DashboardContent.tsx:69:    score += rsiScore * 0.2;
./src/components/DashboardContent.tsx:73:    const rrScore = Math.min(100, riskRewardRatio * 20); // Cap ved 100
./src/components/DashboardContent.tsx:74:    score += rrScore * 0.3;
./src/components/DashboardContent.tsx:77:  return score;
./src/components/DashboardContent.tsx:85:  const [strategyFilter, setStrategyFilter] = useState<StrategyFilter>('ALLE');
./src/components/DashboardContent.tsx:117:    // Filter by strategy
./src/components/DashboardContent.tsx:118:    if (strategyFilter !== 'ALLE') {
./src/components/DashboardContent.tsx:120:        stock.strategies.includes(strategyFilter)
./src/components/DashboardContent.tsx:124:    // Sorter ALLE aksjer basert p√• strategi-spesifikk score (ikke bare BUY)
./src/components/DashboardContent.tsx:125:    filtered.sort((a, b) => {
./src/components/DashboardContent.tsx:126:      const scoreA = calculateCompositeScore(a, strategyFilter);
./src/components/DashboardContent.tsx:127:      const scoreB = calculateCompositeScore(b, strategyFilter);
./src/components/DashboardContent.tsx:128:      return scoreB - scoreA;
./src/components/DashboardContent.tsx:139:  }, [stocks, marketFilter, strategyFilter, viewMode]);
./src/components/DashboardContent.tsx:141:  const buySignals = stocks.filter(s => s.signal === 'BUY').length;
./src/components/DashboardContent.tsx:142:  const holdSignals = stocks.filter(s => s.signal === 'HOLD').length;
./src/components/DashboardContent.tsx:143:  const sellSignals = stocks.filter(s => s.signal === 'SELL').length;
./src/components/DashboardContent.tsx:145:  // Watchlist - alle aksjer rangert etter score (ikke filtrert p√• signal)
./src/components/DashboardContent.tsx:155:    // Filter by strategy
./src/components/DashboardContent.tsx:156:    if (strategyFilter !== 'ALLE') {
./src/components/DashboardContent.tsx:158:        stock.strategies.includes(strategyFilter)
./src/components/DashboardContent.tsx:162:    // Sorter ALLE aksjer p√• strategi-spesifikk score (h√∏yest f√∏rst)
./src/components/DashboardContent.tsx:163:    const sortedByScore = filtered.sort((a, b) => {
./src/components/DashboardContent.tsx:164:      const scoreA = calculateCompositeScore(a, strategyFilter);
./src/components/DashboardContent.tsx:165:      const scoreB = calculateCompositeScore(b, strategyFilter);
./src/components/DashboardContent.tsx:166:      return scoreB - scoreA;
./src/components/DashboardContent.tsx:170:      // Show all filtered stocks in list, sorted by score
./src/components/DashboardContent.tsx:171:      return sortedByScore;
./src/components/DashboardContent.tsx:180:    return sortedByScore.slice(3); // Alt fra #4 og nedover
./src/components/DashboardContent.tsx:181:  }, [stocks, viewMode, strategyFilter, marketFilter]);
./src/components/DashboardContent.tsx:227:              <span className="text-base font-bold text-brand-emerald">{buySignals}</span>
./src/components/DashboardContent.tsx:233:              <span className="text-base font-bold text-gray-600 dark:text-gray-300">{holdSignals}</span>
./src/components/DashboardContent.tsx:234:              <span className="text-sm font-medium text-gray-600 dark:text-gray-300 uppercase">Hold</span>
./src/components/DashboardContent.tsx:239:              <span className="text-base font-bold text-brand-rose">{sellSignals}</span>
./src/components/DashboardContent.tsx:256:              Rangert etter strategi-score (BUY/HOLD/SELL viser timing)
./src/components/DashboardContent.tsx:264:            onStrategyChange={setStrategyFilter}
./src/components/DashboardContent.tsx:326:            // ALLTID bruk lokal rank (posisjon i filtrert liste)
./src/components/DashboardContent.tsx:327:            const rank = index + 1;
./src/components/DashboardContent.tsx:330:              <StockCardOriginal key={stock.ticker} stock={stock} rank={rank} />
./src/components/DashboardContent.tsx:332:              <StockCard key={stock.ticker} stock={stock} rank={rank} />
./src/components/DashboardContent.tsx:355:              {' '}{watchlistStocks.filter(s => s.signal === 'BUY').length} BUY ¬∑ 
./src/components/DashboardContent.tsx:356:              {' '}{watchlistStocks.filter(s => s.signal === 'HOLD').length} HOLD ¬∑ 
./src/components/DashboardContent.tsx:357:              {' '}{watchlistStocks.filter(s => s.signal === 'SELL').length} SELL
./src/components/DashboardContent.tsx:369:              <div className="text-xs font-bold text-gray-400 uppercase tracking-wider">K-SCORE</div>
./src/components/DashboardContent.tsx:376:                // Beregn rank basert p√• view mode og index
./src/components/DashboardContent.tsx:377:                // ALLE aksjer f√•r rank, ikke bare BUY
./src/components/DashboardContent.tsx:378:                let rank: number;
./src/components/DashboardContent.tsx:380:                  // I list-only, rank starter fra 1
./src/components/DashboardContent.tsx:381:                  rank = index + 1;
./src/components/DashboardContent.tsx:383:                  // I cards-and-list, rank starter fra 4 (etter topp 3 kort)
./src/components/DashboardContent.tsx:384:                  rank = index + 4;
./src/components/DashboardContent.tsx:388:                  BUY: { bg: 'bg-emerald-50 dark:bg-emerald-900/30', text: 'text-emerald-700 dark:text-emerald-400', label: 'BUY' },
./src/components/DashboardContent.tsx:389:                  HOLD: { bg: 'bg-yellow-50 dark:bg-yellow-900/30', text: 'text-yellow-700 dark:text-yellow-400', label: 'WATCH' },
./src/components/DashboardContent.tsx:390:                  SELL: { bg: 'bg-red-50 dark:bg-red-900/30', text: 'text-red-600 dark:text-red-400', label: 'SELL' },
./src/components/DashboardContent.tsx:392:                const config = statusConfig[stock.signal] || statusConfig.HOLD;
./src/components/DashboardContent.tsx:393:                const kScoreColor = stock.kScore >= 75 ? 'bg-[#10B981]' : stock.kScore >= 60 ? 'bg-yellow-400' : 'bg-gray-300 dark:bg-gray-600';
./src/components/DashboardContent.tsx:399:                    href={`/analyse/${stock.ticker}`}
./src/components/DashboardContent.tsx:402:                    {/* Ranking */}
./src/components/DashboardContent.tsx:404:                      {rank ? (
./src/components/DashboardContent.tsx:406:                          {rank}
./src/components/DashboardContent.tsx:449:                    {/* K-Score */}
./src/components/DashboardContent.tsx:452:                        {stock.kScore}
./src/components/DashboardContent.tsx:456:                          className={clsx('h-full rounded-full', kScoreColor)}
./src/components/DashboardContent.tsx:457:                          style={{ width: `${stock.kScore}%` }}
./src/components/DashboardContent.tsx:478:      {/* Bottom Section: Strategy Comparison + Side Widgets */}
./src/components/DashboardContent.tsx:480:        {/* Strategy Comparison - Takes 3 columns */}
./src/components/DashboardContent.tsx:482:          <StrategyComparison stocks={stocks} />
./src/components/DashboardContent.tsx:497:// STRATEGY COMPARISON COMPONENT
./src/components/DashboardContent.tsx:500:interface StrategyComparisonProps {
./src/components/DashboardContent.tsx:504:function StrategyComparison({ stocks }: StrategyComparisonProps) {
./src/components/DashboardContent.tsx:505:  const strategies = [
./src/components/DashboardContent.tsx:514:  // Get top 3 for each strategy based on their strategy-specific score
./src/components/DashboardContent.tsx:515:  const getTop3ForStrategy = (strategyId: string) => {
./src/components/DashboardContent.tsx:517:      .filter(s => s.strategies.includes(strategyId as StrategyId))
./src/components/DashboardContent.tsx:519:        const evaluation = s.strategyEvaluations?.find(e => e.strategyId === strategyId);
./src/components/DashboardContent.tsx:520:        return { ...s, strategyScore: evaluation?.score ?? s.kScore };
./src/components/DashboardContent.tsx:522:      .sort((a, b) => b.strategyScore - a.strategyScore)
./src/components/DashboardContent.tsx:539:        {strategies.map(strategy => {
./src/components/DashboardContent.tsx:540:          const top3 = getTop3ForStrategy(strategy.id);
./src/components/DashboardContent.tsx:544:              key={strategy.id}
./src/components/DashboardContent.tsx:547:              {/* Strategy Header */}
./src/components/DashboardContent.tsx:548:              <div className={clsx('p-4 bg-gradient-to-r text-white', strategy.color)}>
./src/components/DashboardContent.tsx:550:                  <span className="text-xl">{strategy.emoji}</span>
./src/components/DashboardContent.tsx:551:                  <span className="font-bold">{strategy.name}</span>
./src/components/DashboardContent.tsx:565:                        href={`/analyse/${stock.ticker}`}
./src/components/DashboardContent.tsx:579:                            {stock.strategyScore}
./src/components/DashboardContent.tsx:583:                            stock.signal === 'BUY' ? 'text-brand-emerald' :
./src/components/DashboardContent.tsx:584:                            stock.signal === 'SELL' ? 'text-brand-rose' : 'text-gray-500 dark:text-gray-400'
./src/components/NewsAggregator.tsx:115:  const availableSources = Array.from(new Set(news.map(n => n.source))).sort();
./src/components/NewsAggregator.tsx:188:      const sortedByManual = combined.sort((a, b) => {
./src/components/NewsAggregator.tsx:195:      for (const item of sortedByManual) {
./src/components/NewsAggregator.tsx:211:      // Sorter etter dato
./src/components/NewsAggregator.tsx:212:      deduped.sort((a, b) => 
./src/components/layout/Sidebar.tsx:18:  { name: 'Dyp Analyse', href: '/analyse', icon: TrendingUp },
./src/components/FilterBar.tsx:5:import { STRATEGIES, StrategyId, getEnabledStrategies } from '@/lib/strategies';
./src/components/FilterBar.tsx:8:export type StrategyFilter = 'ALLE' | StrategyId;
./src/components/FilterBar.tsx:10:// Strategier som KUN er for portef√∏lje/trade registrering (ikke analyse p√• dashboard)
./src/components/FilterBar.tsx:11:const PORTFOLIO_ONLY_STRATEGIES: StrategyId[] = [
./src/components/FilterBar.tsx:19:// Dashboard-strategier som vises i filter (trading-strategier for analyse)
./src/components/FilterBar.tsx:20:const DASHBOARD_STRATEGIES: StrategyId[] = [
./src/components/FilterBar.tsx:34:  onStrategyChange: (strategy: StrategyFilter) => void;
./src/components/FilterBar.tsx:37:export default function FilterBar({ onMarketChange, onStrategyChange }: FilterBarProps) {
./src/components/FilterBar.tsx:39:  const [selectedStrategy, setSelectedStrategy] = useState<StrategyFilter>('ALLE');
./src/components/FilterBar.tsx:46:  const handleStrategyClick = (strategy: StrategyFilter) => {
./src/components/FilterBar.tsx:47:    setSelectedStrategy(strategy);
./src/components/FilterBar.tsx:48:    onStrategyChange(strategy);
./src/components/FilterBar.tsx:52:  const dashboardStrategies = getEnabledStrategies()
./src/components/FilterBar.tsx:53:    .filter(s => !PORTFOLIO_ONLY_STRATEGIES.includes(s.id))
./src/components/FilterBar.tsx:54:    .filter(s => DASHBOARD_STRATEGIES.includes(s.id));
./src/components/FilterBar.tsx:56:  const strategiesToShow = dashboardStrategies;
./src/components/FilterBar.tsx:100:        {/* Strategy filters */}
./src/components/FilterBar.tsx:103:            onClick={() => handleStrategyClick('ALLE')}
./src/components/FilterBar.tsx:106:              selectedStrategy === 'ALLE'
./src/components/FilterBar.tsx:114:          {strategiesToShow.map(strategy => (
./src/components/FilterBar.tsx:116:              key={strategy.id}
./src/components/FilterBar.tsx:117:              onClick={() => handleStrategyClick(strategy.id)}
./src/components/FilterBar.tsx:120:                selectedStrategy === strategy.id
./src/components/FilterBar.tsx:124:              style={selectedStrategy === strategy.id ? { backgroundColor: strategy.color } : {}}
./src/components/FilterBar.tsx:125:              title={strategy.description}
./src/components/FilterBar.tsx:127:              <span>{strategy.emoji}</span>
./src/components/FilterBar.tsx:128:              <span>{strategy.shortName}</span>
./src/components/InsiderAlert.tsx:33:  const recentBuys = transactions.filter(t => t.transactionCode === 'P').length;
./src/components/InsiderAlert.tsx:34:  const recentSells = transactions.filter(t => t.transactionCode === 'S').length;
./src/components/InsiderAlert.tsx:36:  const insiderType = recentBuys > recentSells ? 'buy' : recentSells > 0 ? 'sell' : 'neutral';
./src/components/InsiderAlert.tsx:52:              insiderType === 'buy' 
./src/components/InsiderAlert.tsx:58:                  insiderType === 'buy' ? 'bg-brand-emerald' : 'bg-brand-rose'
./src/components/InsiderAlert.tsx:65:                      insiderType === 'buy'
./src/components/InsiderAlert.tsx:74:                    insiderType === 'buy' ? 'text-brand-emerald' : 'text-brand-rose'
./src/components/InsiderAlert.tsx:76:                    {insiderType === 'buy' 
./src/components/InsiderAlert.tsx:77:                      ? `${recentBuys} kj√∏p registrert`
./src/components/InsiderAlert.tsx:78:                      : `${recentSells} salg registrert`
./src/components/InsiderAlert.tsx:82:                    {insiderType === 'buy'
./src/components/EarningsCalendar.tsx:51:        .sort((a: EarningsEvent, b: EarningsEvent) => a.daysUntil - b.daysUntil);
./src/components/EarningsCalendar.tsx:135:              href={`/analyse/${event.ticker}`}
./src/components/ArticleTipsManager.tsx:75:      case 'insider_buy': return 'Innsidekj√∏p';
./src/components/ArticleTipsManager.tsx:76:      case 'insider_sell': return 'Innsidesalg';
./src/components/ArticleTipsManager.tsx:200:                          href={`/analyse/${mention.ticker}.OL`}
./src/components/ArticleTipsManager.tsx:389:              placeholder="Investtech: De sterkeste aksjene..."
./src/components/ArticleTipsManager.tsx:427:              placeholder="https://e24.no/..."
./src/components/ArticleTipsManager.tsx:437:              placeholder="Kort oppsummering av artikkelen..."
./src/components/ArticleTipsManager.tsx:463:              placeholder="ORKLA: 5 innsidekj√∏p, CEO kj√∏pte for 1,6 mill
./src/components/ArticleTipsManager.tsx:526:      summary: formData.summary || `${stocks.length} aksjer med maksimal positiv innsidehandel-score.`,
./src/components/ArticleTipsManager.tsx:580:              placeholder="Golden Energy Offshore Services ASA
./src/components/ArticleTipsManager.tsx:587:Tekna Holding ASA
./src/components/ArticleTipsManager.tsx:602:              placeholder="ORKLA, VOW, PPINV"
./src/components/ArticleTipsManager.tsx:614:              placeholder="Ti selskaper f√•r toppscore, tre virker s√¶rdeles spennende."
./src/components/ArticleTipsManager.tsx:693:                  href={`/analyse/${mention.ticker}.OL`}
./src/components/QuickArticleCapture.tsx:34:  text = text.replace(/\bPartnerinnhold\b.*?(\n|$)/gi, '\n');
./src/components/QuickArticleCapture.tsx:35:  text = text.replace(/\bSponset innhold\b.*?(\n|$)/gi, '\n');
./src/components/QuickArticleCapture.tsx:72:  // 10. Fjern emoji-sekvenser (men behold enkle emojis)
./src/components/QuickArticleCapture.tsx:85:    // Behold linjer som er tomme (for avsnitt) eller har mer enn 20 tegn
./src/components/QuickArticleCapture.tsx:250:  'TEKNA': { ticker: 'TEKNA.OL', name: 'Tekna Holding' },
./src/components/QuickArticleCapture.tsx:327:    // üìä Tracking for smart analyse
./src/components/QuickArticleCapture.tsx:338:      relevanceScore: number;     // Total relevans-score
./src/components/QuickArticleCapture.tsx:387:    // üîç N√• analyser hver aksje
./src/components/QuickArticleCapture.tsx:397:      // Finn alle posisjoner og analyser kontekst
./src/components/QuickArticleCapture.tsx:468:      // üìä Beregn relevans-score
./src/components/QuickArticleCapture.tsx:469:      let relevanceScore = mentionCount * 10; // Base: 10 poeng per nevnelse
./src/components/QuickArticleCapture.tsx:470:      if (isMainSubject) relevanceScore += 100;  // Hovedfokus: +100
./src/components/QuickArticleCapture.tsx:471:      if (priceInfo?.target) relevanceScore += 30; // Har kursm√•l: +30
./src/components/QuickArticleCapture.tsx:472:      if (isPastReference) relevanceScore -= 50;   // Gammel referanse: -50
./src/components/QuickArticleCapture.tsx:473:      if (sentiment === 'positive') relevanceScore += 20;
./src/components/QuickArticleCapture.tsx:485:        relevanceScore,
./src/components/QuickArticleCapture.tsx:542:            relevanceScore: priceMatch ? 25 : 5, // Eksterne f√•r lav score
./src/components/QuickArticleCapture.tsx:548:    // üìã FASE 3: Konverter til resultat-array, filtrer og sorter
./src/components/QuickArticleCapture.tsx:552:        // Behold alltid hovedfokus
./src/components/QuickArticleCapture.tsx:554:        // Behold aksjer med kursm√•l
./src/components/QuickArticleCapture.tsx:556:        // Behold aksjer nevnt 3+ ganger (sannsynligvis viktig)
./src/components/QuickArticleCapture.tsx:561:        if (s.relevanceScore < 20) return false;
./src/components/QuickArticleCapture.tsx:564:      // Sorter etter relevans (hovedfokus f√∏rst)
./src/components/QuickArticleCapture.tsx:565:      .sort((a, b) => b.relevanceScore - a.relevanceScore)
./src/components/QuickArticleCapture.tsx:793:              <p className="text-gray-600 dark:text-gray-300">Analyserer tekst...</p>
./src/components/QuickArticleCapture.tsx:827:                    placeholder="https://..."
./src/components/QuickArticleCapture.tsx:843:                  placeholder="Artikkelens tittel..."
./src/components/QuickArticleCapture.tsx:858:                  placeholder="Hva er det viktigste fra artikkelen?"
./src/components/StockNotesSection.tsx:156:              placeholder="Skriv ditt notat her..."
./src/components/StockNotesSection.tsx:319:              placeholder="Valgfri melding..."
./src/components/AnalyseContent.tsx:9:interface AnalyseContentProps {
./src/components/AnalyseContent.tsx:13:export default function AnalyseContent({ stocks }: AnalyseContentProps) {
./src/components/AnalyseContent.tsx:16:  // Get top performers by K-Score
./src/components/AnalyseContent.tsx:18:    .sort((a, b) => b.kScore - a.kScore)
./src/components/AnalyseContent.tsx:36:              Dyp Analyse
./src/components/AnalyseContent.tsx:39:              S√∏k etter en aksje for detaljert analyse med pris, target, risiko og innsidehandel
./src/components/AnalyseContent.tsx:52:            placeholder="S√∏k etter ticker eller navn... (OKEA, VAR, AAPL)"
./src/components/AnalyseContent.tsx:75:                <h2 className="text-2xl font-extrabold mb-3">Hvordan bruke Dyp Analyse</h2>
./src/components/AnalyseContent.tsx:87:                      Se detaljert analyse
./src/components/AnalyseContent.tsx:89:                    <p>F√• innsikt i pris, K-Score, target, stop loss og risk/reward.</p>
./src/components/AnalyseContent.tsx:118:              Topp 6 Etter K-Score
./src/components/AnalyseContent.tsx:120:            <p className="text-gray-600">Klikk p√• et kort for √• se full analyse</p>
./src/components/AnalyseContent.tsx:164:            <div className="text-sm font-semibold opacity-90 mb-2">Totalt analysert</div>
./src/components/AnalystTracker.tsx:26:  getInvesttechScores,
./src/components/AnalystTracker.tsx:27:  bulkUpdateInvesttechScores,
./src/components/AnalystTracker.tsx:34:  type InvesttechScore,
./src/components/AnalystTracker.tsx:44:  const [investtechScores, setInvesttechScores] = useState<InvesttechScore[]>([]);
./src/components/AnalystTracker.tsx:55:    setInvesttechScores(getInvesttechScores());
./src/components/AnalystTracker.tsx:62:      case 'HOLD':
./src/components/AnalystTracker.tsx:63:      case 'BEHOLDES': return 'text-yellow-600 bg-yellow-50';
./src/components/AnalystTracker.tsx:72:      case 'HOLD': return 'text-yellow-600 bg-yellow-50 border-yellow-200';
./src/components/AnalystTracker.tsx:109:          { id: 'import', label: 'Investtech', count: investtechScores.length },
./src/components/AnalystTracker.tsx:146:                  href={`/analyse/${item.ticker}`}
./src/components/AnalystTracker.tsx:220:                            href={`/analyse/${rec.ticker}`}
./src/components/AnalystTracker.tsx:259:                <p>Ingen lukkede anbefalinger √• analysere</p>
./src/components/AnalystTracker.tsx:307:                      <div className="text-xs text-gray-500 dark:text-dark-muted">Snitt holdetid</div>
./src/components/AnalystTracker.tsx:309:                        {perf.avgHoldingDays.toFixed(0)} dager
./src/components/AnalystTracker.tsx:351:            scores={investtechScores} 
./src/components/AnalystTracker.tsx:371:  scores, 
./src/components/AnalystTracker.tsx:374:  scores: InvesttechScore[];
./src/components/AnalystTracker.tsx:383:      // Parse format: "TICKER,SCORE,TREND" per line
./src/components/AnalystTracker.tsx:385:      const newScores: Array<Omit<InvesttechScore, 'dateUpdated'>> = [];
./src/components/AnalystTracker.tsx:393:          newScores.push({
./src/components/AnalystTracker.tsx:395:            totalScore: parseInt(parts[1]) || 0,
./src/components/AnalystTracker.tsx:396:            trend: (parts[2]?.toLowerCase() || 'sidelengs') as InvesttechScore['trend'],
./src/components/AnalystTracker.tsx:403:      if (newScores.length > 0) {
./src/components/AnalystTracker.tsx:404:        bulkUpdateInvesttechScores(newScores);
./src/components/AnalystTracker.tsx:407:        alert(`Importerte ${newScores.length} Investtech-scorer`);
./src/components/AnalystTracker.tsx:422:          Importer Investtech-scorer
./src/components/AnalystTracker.tsx:425:          Format: TICKER, SCORE, TREND (per linje)<br/>
./src/components/AnalystTracker.tsx:431:          placeholder="MING, 96, stigende&#10;KID, 96, stigende&#10;VAR, 95, stigende"
./src/components/AnalystTracker.tsx:439:          {importing ? 'Importerer...' : 'Importer Investtech-scorer'}
./src/components/AnalystTracker.tsx:443:      {/* Scores list */}
./src/components/AnalystTracker.tsx:444:      {scores.length > 0 && (
./src/components/AnalystTracker.tsx:447:            Investtech Toppliste ({scores.length})
./src/components/AnalystTracker.tsx:450:            {scores
./src/components/AnalystTracker.tsx:451:              .sort((a, b) => b.totalScore - a.totalScore)
./src/components/AnalystTracker.tsx:453:              .map((score, index) => (
./src/components/AnalystTracker.tsx:455:                  key={score.ticker}
./src/components/AnalystTracker.tsx:456:                  href={`/analyse/${score.ticker}`}
./src/components/AnalystTracker.tsx:468:                        {score.ticker.replace('.OL', '')}
./src/components/AnalystTracker.tsx:471:                        {score.trend === 'stigende' && <TrendingUp className="w-3 h-3 text-green-500" />}
./src/components/AnalystTracker.tsx:472:                        {score.trend === 'fallende' && <TrendingDown className="w-3 h-3 text-red-500" />}
./src/components/AnalystTracker.tsx:473:                        {score.trend === 'sidelengs' && <Minus className="w-3 h-3 text-yellow-500" />}
./src/components/AnalystTracker.tsx:474:                        <span className="capitalize">{score.trend}</span>
./src/components/AnalystTracker.tsx:481:                      score.totalScore >= 90 ? 'bg-green-100 text-green-700' :
./src/components/AnalystTracker.tsx:482:                      score.totalScore >= 70 ? 'bg-yellow-100 text-yellow-700' :
./src/components/AnalystTracker.tsx:485:                      {score.totalScore}
./src/components/AnalystTracker.tsx:540:              action: (parts[2]?.toUpperCase() || 'HOLD') as RecommendationType,
./src/components/AnalystTracker.tsx:571:VAR, V√•r Energi, BEHOLDES, 33.71, 39.30
./src/components/AnalystTracker.tsx:572:PROTCT, Protector, BEHOLDES, 281.50, 283.00
./src/components/AnalystTracker.tsx:573:AKRBP, Aker BP, BEHOLDES, 219.90, 256.10
./src/components/AnalystTracker.tsx:637:              placeholder={exampleFormat}
./src/components/AddTradeModal.tsx:6:import { StrategyId, STRATEGIES } from '@/lib/strategies';
./src/components/AddTradeModal.tsx:42:// Prefilled data fra aksje-analyse
./src/components/AddTradeModal.tsx:49:  strategyId?: StrategyId;
./src/components/AddTradeModal.tsx:57:  prefilledData?: PrefilledTradeData | null; // For registrering fra aksje-analyse
./src/components/AddTradeModal.tsx:74:    strategyId: '' as StrategyId | '',
./src/components/AddTradeModal.tsx:107:          strategyId: editTrade.strategyId,
./src/components/AddTradeModal.tsx:116:        // Fyll inn data fra aksje-analyse (registrer direkte fra aksje)
./src/components/AddTradeModal.tsx:127:          strategyId: prefilledData.strategyId || '',
./src/components/AddTradeModal.tsx:148:          strategyId: '',
./src/components/AddTradeModal.tsx:164:  const allEnabledStrategies = Object.values(STRATEGIES).filter(s => s.enabled);
./src/components/AddTradeModal.tsx:315:        const strategy = formData.strategyId ? STRATEGIES[formData.strategyId as StrategyId] : null;
./src/components/AddTradeModal.tsx:316:        const daysToAdd = strategy?.typicalHoldingDays?.max || 30;
./src/components/AddTradeModal.tsx:337:          strategyId: (formData.strategyId || editTrade.strategyId) as StrategyId,
./src/components/AddTradeModal.tsx:362:          strategyId: (formData.strategyId || 'MOMENTUM_TREND') as StrategyId,
./src/components/AddTradeModal.tsx:383:        strategyId: '',
./src/components/AddTradeModal.tsx:464:                placeholder="Kopier hele raden fra Nordnet transaksjoner og lim inn her...&#10;Eksempel: 12.1.2026  Aksjesparekonto  Kj√∏pt  Norsk Hydro  120  81,88 NOK  29 NOK  -9 854,60 NOK"
./src/components/AddTradeModal.tsx:466:                className="w-full px-4 py-3 rounded-xl border border-blue-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-200 outline-none transition-all text-sm bg-white/80 placeholder:text-blue-400"
./src/components/AddTradeModal.tsx:496:          {/* Strategy Selection */}
./src/components/AddTradeModal.tsx:502:              name="strategyId"
./src/components/AddTradeModal.tsx:503:              value={formData.strategyId}
./src/components/AddTradeModal.tsx:509:                {allEnabledStrategies
./src/components/AddTradeModal.tsx:517:                {allEnabledStrategies
./src/components/AddTradeModal.tsx:525:                {allEnabledStrategies
./src/components/AddTradeModal.tsx:533:            {formData.strategyId && STRATEGIES[formData.strategyId as StrategyId] && (
./src/components/AddTradeModal.tsx:535:                {STRATEGIES[formData.strategyId as StrategyId].description}
./src/components/AddTradeModal.tsx:551:                placeholder="NHY.OL"
./src/components/AddTradeModal.tsx:566:                placeholder="Norsk Hydro"
./src/components/AddTradeModal.tsx:582:                placeholder="100"
./src/components/AddTradeModal.tsx:598:                placeholder="81.88"
./src/components/AddTradeModal.tsx:639:                  placeholder={formData.entryPrice ? (parseFloat(formData.entryPrice) * 0.9).toFixed(2) : ''}
./src/components/AddTradeModal.tsx:660:                  placeholder={formData.entryPrice ? (parseFloat(formData.entryPrice) * 1.2).toFixed(2) : ''}
./src/components/AddTradeModal.tsx:708:                    placeholder="0.00"
./src/components/AddTradeModal.tsx:788:              placeholder="Skriv ned hvorfor du tok denne traden, tekniske observasjoner, kurtasje, etc."
./src/components/PositionReportSection.tsx:36:    STRONG_BUY: 'bg-green-600',
./src/components/PositionReportSection.tsx:37:    BUY: 'bg-green-500',
./src/components/PositionReportSection.tsx:38:    HOLD: 'bg-yellow-500',
./src/components/PositionReportSection.tsx:39:    SELL: 'bg-orange-500',
./src/components/PositionReportSection.tsx:40:    STRONG_SELL: 'bg-red-600',
./src/components/PositionReportSection.tsx:44:    STRONG_BUY: 'STERKT KJ√òP',
./src/components/PositionReportSection.tsx:45:    BUY: 'KJ√òP MER',
./src/components/PositionReportSection.tsx:46:    HOLD: 'HOLD',
./src/components/PositionReportSection.tsx:47:    SELL: 'SELG',
./src/components/PositionReportSection.tsx:48:    STRONG_SELL: 'SELG N√Ö',
./src/components/PositionReportSection.tsx:120:                  <p className="text-xs text-gray-500">Holdt</p>
./src/components/RiskDashboard.tsx:100:            <p className="text-gray-500 dark:text-dark-muted">Portef√∏ljerisiko og analyse</p>
./src/components/RiskDashboard.tsx:317:                  placeholder="NHY.OL"
./src/components/RiskDashboard.tsx:327:                  placeholder="100"
./src/components/RiskDashboard.tsx:337:                  placeholder="95"
./src/components/RiskDashboard.tsx:347:                  placeholder="115"
./src/components/SectorRotation.tsx:63:      const topStock = [...sectorStocks].sort((a, b) => b.kScore - a.kScore)[0];
./src/components/SectorRotation.tsx:75:      if (avgChange >= 1 && topStock && topStock.kScore >= 70) signal = 'rotating_in';
./src/components/SectorRotation.tsx:76:      else if (avgChange <= -1 && topStock && topStock.kScore < 50) signal = 'rotating_out';
./src/components/SectorRotation.tsx:91:    return sectors.sort((a, b) => b.avgChange - a.avgChange);
./src/components/SectorRotation.tsx:226:                href={`/analyse/${sector.topStock.ticker}`}
./src/components/SectorRotation.tsx:237:                  <span className="text-sm text-brand-slate dark:text-white">K: {sector.topStock.kScore}</span>
./src/components/StockCompare.tsx:18:import { calculateMasterScore } from '@/lib/analysis/master-score';
./src/components/StockCompare.tsx:50:      masterScore: calculateMasterScore(s),
./src/components/StockCompare.tsx:66:    { key: 'kScore', label: 'K-Score', format: (v: number) => v.toString(), icon: Target, higherBetter: true },
./src/components/StockCompare.tsx:67:    { key: 'masterScore.masterScore', label: 'Master Score', format: (v: number) => v.toString(), icon: BarChart3, higherBetter: true },
./src/components/StockCompare.tsx:131:                placeholder="Legg til aksje..."
./src/components/StockCompare.tsx:177:                      href={`/analyse/${stock.ticker}`}
./src/components/StockCompare.tsx:194:                      stock.masterScore.signal === 'STERK_KJ√òP' ? 'bg-green-100 text-green-700' :
./src/components/StockCompare.tsx:195:                      stock.masterScore.signal === 'KJ√òP' ? 'bg-green-50 text-green-600' :
./src/components/StockCompare.tsx:196:                      stock.masterScore.signal === 'HOLD' ? 'bg-yellow-50 text-yellow-600' :
./src/components/StockCompare.tsx:197:                      stock.masterScore.signal === 'SELG' ? 'bg-red-50 text-red-600' :
./src/components/StockCompare.tsx:200:                      {stock.masterScore.signal.replace('_', ' ')}
./src/components/StockCompare.tsx:262:            <span className="text-gray-500 dark:text-dark-muted">üèÜ Beste valg basert p√• Master Score:</span>
./src/components/StockCompare.tsx:265:                s.masterScore.masterScore > best.masterScore.masterScore ? s : best
./src/components/TradeJournal.tsx:41:    setEntries(getJournalEntries().sort((a, b) => 
./src/components/TradeJournal.tsx:284:      kScoreAtEntry: 60, // TODO: Get actual value
./src/components/TradeJournal.tsx:286:      signalAtEntry: 'HOLD',
./src/components/TradeJournal.tsx:337:              placeholder="Beskriv din analyse og begrunnelse..."
./src/components/TradeJournal.tsx:393:              placeholder="swing, momentum, breakout"
./src/components/TradeJournal.tsx:411:            Lagre & Analyser
./src/components/TradeJournal.tsx:480:              <div className="text-xs text-gray-500 dark:text-dark-muted">K-Score</div>
./src/components/TradeJournal.tsx:481:              <div className="font-bold text-brand-slate dark:text-white">{entry.kScoreAtEntry}</div>
./src/components/TradeJournal.tsx:502:                <h3 className="font-bold text-brand-slate dark:text-white">AI-analyse</h3>
./src/components/AnalystConsensusWidget.tsx:26:      case 'HOLD': return 'bg-yellow-50 text-yellow-600 border-yellow-200';
./src/components/AnalystConsensusWidget.tsx:67:              href={`/analyse/${item.ticker}`}
./src/components/StockProfileSection.tsx:30:  kScore: number;
./src/components/StockProfileSection.tsx:33:    recommendation: 'buy' | 'hold' | 'avoid';
./src/components/StockProfileSection.tsx:56:          throw new Error('Kunne ikke hente analyse');
./src/components/StockProfileSection.tsx:91:          <p className="text-sm mt-2">Historisk analyse krever minst 50 dagers data</p>
./src/components/StockProfileSection.tsx:97:  const { profile, kScore, isSpikeStock, seasonal } = analysis;
./src/components/StockProfileSection.tsx:100:    buy: 'bg-green-100 text-green-800 border-green-200',
./src/components/StockProfileSection.tsx:101:    hold: 'bg-gray-100 text-gray-800 border-gray-200',
./src/components/StockProfileSection.tsx:107:      {/* K-Score & Spike Status */}
./src/components/StockProfileSection.tsx:112:          {/* K-Score */}
./src/components/StockProfileSection.tsx:114:            <p className="text-sm opacity-80">K-Score</p>
./src/components/StockProfileSection.tsx:115:            <p className="text-3xl font-bold">{kScore}</p>
./src/components/StockCard.tsx:10:  rank?: number;
./src/components/StockCard.tsx:13:export default function StockCard({ stock, rank }: StockCardProps) {
./src/components/StockCard.tsx:17:    BUY: { bg: 'bg-brand-emerald', text: 'KJ√òP', badgeBg: 'bg-white/20', badgeText: 'text-white' },
./src/components/StockCard.tsx:18:    SELL: { bg: 'bg-brand-rose', text: 'SELG', badgeBg: 'bg-white/20', badgeText: 'text-white' },
./src/components/StockCard.tsx:19:    HOLD: { bg: 'bg-gray-500', text: 'HOLD', badgeBg: 'bg-white/20', badgeText: 'text-white' },
./src/components/StockCard.tsx:23:  const kScoreColor = stock.kScore >= 75 ? 'bg-brand-emerald' : stock.kScore >= 60 ? 'bg-yellow-500' : 'bg-gray-400';
./src/components/StockCard.tsx:28:      href={`/analyse/${stock.ticker}`}
./src/components/StockCard.tsx:36:              {rank && (
./src/components/StockCard.tsx:38:                  #{rank}
./src/components/StockCard.tsx:49:            {/* Strategy Icons */}
./src/components/StockCard.tsx:51:              {(stock.strategies.includes('MOMENTUM') || stock.strategies.includes('MOMENTUM_TREND')) && (
./src/components/StockCard.tsx:56:              {stock.strategies.includes('MOMENTUM_ASYM') && (
./src/components/StockCard.tsx:61:              {stock.strategies.includes('BUFFETT') && (
./src/components/StockCard.tsx:66:              {stock.strategies.includes('TVEITEREID') && (
./src/components/StockCard.tsx:71:              {stock.strategies.includes('REBOUND') && (
./src/components/StockCard.tsx:76:              {stock.strategies.includes('SWING_SHORT') && (
./src/components/StockCard.tsx:104:        {/* K-SCORE */}
./src/components/StockCard.tsx:107:            <span className="text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-semibold">K-SCORE</span>
./src/components/StockCard.tsx:108:            <span className="text-2xl font-extrabold text-brand-slate dark:text-white">{stock.kScore}</span>
./src/components/StockCard.tsx:112:              className={clsx('h-full rounded-full k-score-bar', kScoreColor)}
./src/components/StockCard.tsx:113:              style={{ width: `${stock.kScore}%` }}
./src/lib/analysis/ai-predictions.ts:11:  kScore: number;
./src/lib/analysis/ai-predictions.ts:34:  // K-Score analyse
./src/lib/analysis/ai-predictions.ts:35:  if (input.kScore >= 80) {
./src/lib/analysis/ai-predictions.ts:39:    factors.push('H√∏y K-Score indikerer sterk momentum');
./src/lib/analysis/ai-predictions.ts:40:  } else if (input.kScore >= 70) {
./src/lib/analysis/ai-predictions.ts:44:    factors.push('God K-Score tyder p√• positiv trend');
./src/lib/analysis/ai-predictions.ts:45:  } else if (input.kScore < 50) {
./src/lib/analysis/ai-predictions.ts:49:    factors.push('Lav K-Score varsler om svakhet');
./src/lib/analysis/ai-predictions.ts:52:  // RSI analyse
./src/lib/analysis/ai-predictions.ts:68:  // SMA analyse
./src/lib/analysis/ai-predictions.ts:99:  // Volum-analyse
./src/lib/analysis/ai-predictions.ts:151:      kScore: stock.kScore,
./src/lib/analysis/master-score.ts:2: * Master Score - Kombinerer flere signalkilder
./src/lib/analysis/master-score.ts:5: * - K-Score (Momentum): 30%
./src/lib/analysis/master-score.ts:6: * - Investtech Score: 20%
./src/lib/analysis/master-score.ts:13:import { getInvesttechScores, getConsensusForStock, type ConsensusResult } from '@/lib/store/analyst-store';
./src/lib/analysis/master-score.ts:15:export interface MasterScoreBreakdown {
./src/lib/analysis/master-score.ts:17:  masterScore: number;
./src/lib/analysis/master-score.ts:19:    kScore: { value: number; weighted: number; weight: number };
./src/lib/analysis/master-score.ts:25:  signal: 'STERK_KJ√òP' | 'KJ√òP' | 'HOLD' | 'SELG' | 'STERK_SELG';
./src/lib/analysis/master-score.ts:31:  kScore: 0.30,
./src/lib/analysis/master-score.ts:38:function consensusToScore(consensus: ConsensusResult['consensus'] | null): number {
./src/lib/analysis/master-score.ts:43:    case 'HOLD': return 50;
./src/lib/analysis/master-score.ts:51:function calculateTechnicalScore(stock: Stock): number {
./src/lib/analysis/master-score.ts:52:  let score = 50;
./src/lib/analysis/master-score.ts:58:      score += 20;
./src/lib/analysis/master-score.ts:60:      score += 10;
./src/lib/analysis/master-score.ts:64:    score += 15;
./src/lib/analysis/master-score.ts:67:    score -= 10;
./src/lib/analysis/master-score.ts:72:    score += Math.min(15, stock.changePercent * 3);
./src/lib/analysis/master-score.ts:74:    score += Math.max(-15, stock.changePercent * 2);
./src/lib/analysis/master-score.ts:80:    if (rr >= 3) score += 15;
./src/lib/analysis/master-score.ts:81:    else if (rr >= 2) score += 10;
./src/lib/analysis/master-score.ts:82:    else if (rr >= 1.5) score += 5;
./src/lib/analysis/master-score.ts:83:    else if (rr < 1) score -= 10;
./src/lib/analysis/master-score.ts:86:  return Math.max(0, Math.min(100, score));
./src/lib/analysis/master-score.ts:89:function calculateFundamentalScore(stock: Stock): number {
./src/lib/analysis/master-score.ts:90:  let score = 50;
./src/lib/analysis/master-score.ts:96:    if (stock.peRatio < 10) score += 15;
./src/lib/analysis/master-score.ts:97:    else if (stock.peRatio < 15) score += 10;
./src/lib/analysis/master-score.ts:98:    else if (stock.peRatio < 20) score += 5;
./src/lib/analysis/master-score.ts:99:    else if (stock.peRatio < 30) score -= 5;
./src/lib/analysis/master-score.ts:100:    else score -= 10;
./src/lib/analysis/master-score.ts:106:    if (stock.dividendYield >= 5) score += 15;
./src/lib/analysis/master-score.ts:107:    else if (stock.dividendYield >= 3) score += 10;
./src/lib/analysis/master-score.ts:108:    else if (stock.dividendYield >= 1) score += 5;
./src/lib/analysis/master-score.ts:114:    if (stock.marketCap >= 50_000_000_000) score += 10; // Large cap
./src/lib/analysis/master-score.ts:115:    else if (stock.marketCap >= 10_000_000_000) score += 5; // Mid cap
./src/lib/analysis/master-score.ts:116:    else if (stock.marketCap < 1_000_000_000) score -= 5; // Small cap risk
./src/lib/analysis/master-score.ts:122:  return Math.max(0, Math.min(100, score));
./src/lib/analysis/master-score.ts:125:export function calculateMasterScore(stock: Stock): MasterScoreBreakdown {
./src/lib/analysis/master-score.ts:128:  // Get Investtech score
./src/lib/analysis/master-score.ts:129:  const investtechScores = getInvesttechScores();
./src/lib/analysis/master-score.ts:130:  const investtechData = investtechScores.find(s => s.ticker === stock.ticker);
./src/lib/analysis/master-score.ts:131:  const investtechScore = investtechData?.totalScore ?? 50;
./src/lib/analysis/master-score.ts:135:  const consensusScore = consensusToScore(consensusData?.consensus ?? null);
./src/lib/analysis/master-score.ts:138:  const technicalScore = calculateTechnicalScore(stock);
./src/lib/analysis/master-score.ts:139:  const fundamentalScore = calculateFundamentalScore(stock);
./src/lib/analysis/master-score.ts:143:    kScore: {
./src/lib/analysis/master-score.ts:144:      value: stock.kScore,
./src/lib/analysis/master-score.ts:145:      weighted: stock.kScore * WEIGHTS.kScore,
./src/lib/analysis/master-score.ts:146:      weight: WEIGHTS.kScore,
./src/lib/analysis/master-score.ts:149:      value: investtechScore,
./src/lib/analysis/master-score.ts:150:      weighted: investtechScore * WEIGHTS.investtech,
./src/lib/analysis/master-score.ts:154:      value: consensusScore,
./src/lib/analysis/master-score.ts:155:      weighted: consensusScore * WEIGHTS.consensus,
./src/lib/analysis/master-score.ts:159:      value: technicalScore,
./src/lib/analysis/master-score.ts:160:      weighted: technicalScore * WEIGHTS.technical,
./src/lib/analysis/master-score.ts:164:      value: fundamentalScore,
./src/lib/analysis/master-score.ts:165:      weighted: fundamentalScore * WEIGHTS.fundamental,
./src/lib/analysis/master-score.ts:170:  // Calculate total master score
./src/lib/analysis/master-score.ts:171:  const masterScore = Math.round(
./src/lib/analysis/master-score.ts:172:    components.kScore.weighted +
./src/lib/analysis/master-score.ts:180:  let signal: MasterScoreBreakdown['signal'] = 'HOLD';
./src/lib/analysis/master-score.ts:181:  if (masterScore >= 80) signal = 'STERK_KJ√òP';
./src/lib/analysis/master-score.ts:182:  else if (masterScore >= 65) signal = 'KJ√òP';
./src/lib/analysis/master-score.ts:183:  else if (masterScore >= 40) signal = 'HOLD';
./src/lib/analysis/master-score.ts:184:  else if (masterScore >= 25) signal = 'SELG';
./src/lib/analysis/master-score.ts:196:  if (stock.kScore >= 75) reasons.push('Sterkt K-Score momentum');
./src/lib/analysis/master-score.ts:197:  if (stock.kScore < 40) reasons.push('Svakt K-Score momentum');
./src/lib/analysis/master-score.ts:200:    if (investtechScore >= 90) reasons.push(`Investtech: ${investtechScore}/100 (Topp)`);
./src/lib/analysis/master-score.ts:201:    else if (investtechScore >= 70) reasons.push(`Investtech: ${investtechScore}/100`);
./src/lib/analysis/master-score.ts:224:    masterScore,
./src/lib/analysis/master-score.ts:232:export function calculateAllMasterScores(stocks: Stock[]): MasterScoreBreakdown[] {
./src/lib/analysis/master-score.ts:234:    .map(stock => calculateMasterScore(stock))
./src/lib/analysis/master-score.ts:235:    .sort((a, b) => b.masterScore - a.masterScore);
./src/lib/analysis/master-score.ts:238:// Utility to get stocks ranked by Master Score
./src/lib/analysis/master-score.ts:239:export function getTopByMasterScore(stocks: Stock[], limit: number = 10): MasterScoreBreakdown[] {
./src/lib/analysis/master-score.ts:240:  return calculateAllMasterScores(stocks).slice(0, limit);
./src/lib/analysis/dead-money.ts:62:    recommendation = 'P√• rett spor. Fortsett overv√•king i henhold til plan.';
./src/lib/analysis/dead-money.ts:151:    .sort((a, b) => {
./src/lib/analysis/dead-money.ts:152:      // Sort: Dead Money first, then by time progress
./src/lib/analysis/portfolio-evaluation.ts:4: * Analyserer portef√∏ljen og gir daglige anbefalinger.
./src/lib/analysis/portfolio-evaluation.ts:10:export type Recommendation = 'STRONG_BUY' | 'BUY' | 'HOLD' | 'SELL' | 'STRONG_SELL';
./src/lib/analysis/portfolio-evaluation.ts:46:    strongBuy: number;
./src/lib/analysis/portfolio-evaluation.ts:47:    buy: number;
./src/lib/analysis/portfolio-evaluation.ts:48:    hold: number;
./src/lib/analysis/portfolio-evaluation.ts:49:    sell: number;
./src/lib/analysis/portfolio-evaluation.ts:50:    strongSell: number;
./src/lib/analysis/portfolio-evaluation.ts:88:  let recommendation: Recommendation = 'HOLD';
./src/lib/analysis/portfolio-evaluation.ts:91:  // --- SELL CONDITIONS ---
./src/lib/analysis/portfolio-evaluation.ts:95:    recommendation = 'STRONG_SELL';
./src/lib/analysis/portfolio-evaluation.ts:101:    recommendation = 'SELL';
./src/lib/analysis/portfolio-evaluation.ts:107:    recommendation = 'STRONG_SELL';
./src/lib/analysis/portfolio-evaluation.ts:113:    recommendation = 'SELL';
./src/lib/analysis/portfolio-evaluation.ts:120:    recommendation = 'SELL';
./src/lib/analysis/portfolio-evaluation.ts:126:  // --- HOLD CONDITIONS ---
./src/lib/analysis/portfolio-evaluation.ts:130:    recommendation = 'HOLD';
./src/lib/analysis/portfolio-evaluation.ts:140:    recommendation = 'HOLD';
./src/lib/analysis/portfolio-evaluation.ts:144:  // --- BUY MORE CONDITIONS ---
./src/lib/analysis/portfolio-evaluation.ts:148:    recommendation = 'BUY';
./src/lib/analysis/portfolio-evaluation.ts:154:  // Long hold without progress
./src/lib/analysis/portfolio-evaluation.ts:156:    warnings.push(`Holdt i ${daysHeld} dager uten vesentlig fremgang`);
./src/lib/analysis/portfolio-evaluation.ts:157:    if (recommendation === 'HOLD') urgency = 'medium';
./src/lib/analysis/portfolio-evaluation.ts:214:  // Sort by urgency
./src/lib/analysis/portfolio-evaluation.ts:216:  evaluations.sort((a, b) => urgencyOrder[a.urgency] - urgencyOrder[b.urgency]);
./src/lib/analysis/portfolio-evaluation.ts:239:      strongBuy: evaluations.filter(e => e.recommendation === 'STRONG_BUY').length,
./src/lib/analysis/portfolio-evaluation.ts:240:      buy: evaluations.filter(e => e.recommendation === 'BUY').length,
./src/lib/analysis/portfolio-evaluation.ts:241:      hold: evaluations.filter(e => e.recommendation === 'HOLD').length,
./src/lib/analysis/portfolio-evaluation.ts:242:      sell: evaluations.filter(e => e.recommendation === 'SELL').length,
./src/lib/analysis/portfolio-evaluation.ts:243:      strongSell: evaluations.filter(e => e.recommendation === 'STRONG_SELL').length,
./src/lib/analysis/portfolio-evaluation.ts:310:  if (summary.recommendations.strongSell > 0) lines.push(`- üî¥ SELG N√Ö: ${summary.recommendations.strongSell}`);
./src/lib/analysis/portfolio-evaluation.ts:311:  if (summary.recommendations.sell > 0) lines.push(`- üü† Selg: ${summary.recommendations.sell}`);
./src/lib/analysis/portfolio-evaluation.ts:312:  if (summary.recommendations.hold > 0) lines.push(`- üü° Hold: ${summary.recommendations.hold}`);
./src/lib/analysis/portfolio-evaluation.ts:313:  if (summary.recommendations.buy > 0) lines.push(`- üü¢ Kj√∏p mer: ${summary.recommendations.buy}`);
./src/lib/analysis/risk-metrics.ts:37:  topHoldings: Array<{
./src/lib/analysis/risk-metrics.ts:88:  const holdings: Array<{ trade: Trade; stock: Stock | undefined; value: number }> = [];
./src/lib/analysis/risk-metrics.ts:98:    holdings.push({ trade, stock, value });
./src/lib/analysis/risk-metrics.ts:106:  for (const { trade, value } of holdings) {
./src/lib/analysis/risk-metrics.ts:119:    .sort((a, b) => b.weight - a.weight);
./src/lib/analysis/risk-metrics.ts:128:  // Top holdings
./src/lib/analysis/risk-metrics.ts:129:  const topHoldings = holdings
./src/lib/analysis/risk-metrics.ts:136:    .sort((a, b) => b.weight - a.weight)
./src/lib/analysis/risk-metrics.ts:140:  const largePositions = topHoldings.filter(h => h.weight > 20);
./src/lib/analysis/risk-metrics.ts:148:  for (const { stock, value } of holdings) {
./src/lib/analysis/risk-metrics.ts:172:  for (const { trade, stock } of holdings) {
./src/lib/analysis/risk-metrics.ts:194:  for (const { trade } of holdings) {
./src/lib/analysis/risk-metrics.ts:222:  const riskScore = 
./src/lib/analysis/risk-metrics.ts:228:  if (riskScore >= 5) overallRiskLevel = 'very_high';
./src/lib/analysis/risk-metrics.ts:229:  else if (riskScore >= 3) overallRiskLevel = 'high';
./src/lib/analysis/risk-metrics.ts:230:  else if (riskScore >= 1) overallRiskLevel = 'medium';
./src/lib/analysis/risk-metrics.ts:251:    topHoldings,
./src/lib/analysis/risk-metrics.ts:355:      Strategi: trade.strategyId || '',
./src/lib/analysis/seasonal-patterns.ts:1:// Sesong-m√∏nstre analyse for aksjer
./src/lib/analysis/seasonal-patterns.ts:40:  // Teknologi - generelt "Sell in May"
./src/lib/analysis/seasonal-patterns.ts:90:    const sortedMonths = avgMonthlyReturns
./src/lib/analysis/seasonal-patterns.ts:92:      .sort((a, b) => b.return - a.return);
./src/lib/analysis/seasonal-patterns.ts:94:    bestMonths = sortedMonths.slice(0, 3).map(m => m.month);
./src/lib/analysis/seasonal-patterns.ts:95:    worstMonths = sortedMonths.slice(-3).map(m => m.month);
./src/lib/analysis/seasonal-patterns.ts:97:    // Default: "Sell in May" m√∏nster
./src/lib/cache/redis-cache.ts:1:// Redis-kompatibel cache med in-memory fallback
./src/lib/cache/redis-cache.ts:4:interface CacheEntry<T> {
./src/lib/cache/redis-cache.ts:9:// In-memory cache (fallback n√•r Redis ikke er tilgjengelig)
./src/lib/cache/redis-cache.ts:10:const memoryCache = new Map<string, CacheEntry<unknown>>();
./src/lib/cache/redis-cache.ts:12:// Cache-konfigurasjoner for ulike datatyper
./src/lib/cache/redis-cache.ts:13:export const CACHE_TTL = {
./src/lib/cache/redis-cache.ts:16:  ANALYSIS: 5 * 60 * 1000,           // 5 minutter - analyser
./src/lib/cache/redis-cache.ts:36:    console.log('üì¶ Using in-memory cache (no REDIS_URL configured)');
./src/lib/cache/redis-cache.ts:49:    console.warn('‚ö†Ô∏è Redis connection failed, using in-memory cache:', error);
./src/lib/cache/redis-cache.ts:54:export async function cacheGet<T>(key: string): Promise<T | null> {
./src/lib/cache/redis-cache.ts:68:  // Fallback til memory cache
./src/lib/cache/redis-cache.ts:69:  const entry = memoryCache.get(key) as CacheEntry<T> | undefined;
./src/lib/cache/redis-cache.ts:76:    memoryCache.delete(key);
./src/lib/cache/redis-cache.ts:82:export async function cacheSet<T>(key: string, data: T, ttlMs: number): Promise<void> {
./src/lib/cache/redis-cache.ts:93:  // Alltid sett i memory cache som backup
./src/lib/cache/redis-cache.ts:94:  memoryCache.set(key, {
./src/lib/cache/redis-cache.ts:100:export async function cacheDelete(key: string): Promise<void> {
./src/lib/cache/redis-cache.ts:111:  memoryCache.delete(key);
./src/lib/cache/redis-cache.ts:114:export async function cacheClear(pattern?: string): Promise<void> {
./src/lib/cache/redis-cache.ts:128:  // Clear memory cache
./src/lib/cache/redis-cache.ts:131:    for (const key of memoryCache.keys()) {
./src/lib/cache/redis-cache.ts:133:        memoryCache.delete(key);
./src/lib/cache/redis-cache.ts:137:    memoryCache.clear();
./src/lib/cache/redis-cache.ts:141:// Hjelpefunksjoner for spesifikke cache-typer
./src/lib/cache/redis-cache.ts:143:  return cacheGet(`quote:${ticker}`);
./src/lib/cache/redis-cache.ts:147:  return cacheSet(`quote:${ticker}`, data, CACHE_TTL.STOCK_QUOTES);
./src/lib/cache/redis-cache.ts:151:  return cacheGet(`history:${ticker}`);
./src/lib/cache/redis-cache.ts:155:  return cacheSet(`history:${ticker}`, data, CACHE_TTL.HISTORICAL_DATA);
./src/lib/cache/redis-cache.ts:159:  return cacheGet(`analysis:${ticker}`);
./src/lib/cache/redis-cache.ts:163:  return cacheSet(`analysis:${ticker}`, data, CACHE_TTL.ANALYSIS);
./src/lib/cache/redis-cache.ts:166:// Cache statistikk
./src/lib/cache/redis-cache.ts:167:export function getCacheStats(): {
./src/lib/cache/redis-cache.ts:173:  for (const [, value] of memoryCache) {
./src/lib/cache/redis-cache.ts:178:    memoryEntries: memoryCache.size,
./src/lib/strategies/index.ts:2: * K-man Island Strategy Registry
./src/lib/strategies/index.ts:6: * 1. Legg til i StrategyId type
./src/lib/strategies/index.ts:7: * 2. Legg til definisjon i STRATEGIES objekt
./src/lib/strategies/index.ts:14:// STRATEGY TYPES
./src/lib/strategies/index.ts:17:export type StrategyId = 
./src/lib/strategies/index.ts:46:  | 'HODL'              // Langsiktig hold uten plan
./src/lib/strategies/index.ts:52:export type StrategyCategory = 
./src/lib/strategies/index.ts:63:export interface StrategyDefinition {
./src/lib/strategies/index.ts:64:  id: StrategyId;
./src/lib/strategies/index.ts:68:  category: StrategyCategory;
./src/lib/strategies/index.ts:79:  typicalHoldingDays: {
./src/lib/strategies/index.ts:94:export interface StrategyEvaluation {
./src/lib/strategies/index.ts:95:  strategyId: StrategyId;
./src/lib/strategies/index.ts:97:  score: number;               // 0-100
./src/lib/strategies/index.ts:117:  insiderScore: number;
./src/lib/strategies/index.ts:118:  insiderBuys: number;
./src/lib/strategies/index.ts:124:// STRATEGY DEFINITIONS
./src/lib/strategies/index.ts:127:export const STRATEGIES: Record<StrategyId, StrategyDefinition> = {
./src/lib/strategies/index.ts:138:    typicalHoldingDays: { min: 10, max: 28 },
./src/lib/strategies/index.ts:154:    typicalHoldingDays: { min: 5, max: 21 },
./src/lib/strategies/index.ts:171:    typicalHoldingDays: { min: 60, max: 365 },
./src/lib/strategies/index.ts:187:    typicalHoldingDays: { min: 10, max: 30 },
./src/lib/strategies/index.ts:203:    typicalHoldingDays: { min: 30, max: 90 },
./src/lib/strategies/index.ts:219:    typicalHoldingDays: { min: 3, max: 14 },
./src/lib/strategies/index.ts:236:    typicalHoldingDays: { min: 0, max: 1 },
./src/lib/strategies/index.ts:252:    typicalHoldingDays: { min: 2, max: 7 },
./src/lib/strategies/index.ts:269:    typicalHoldingDays: { min: 20, max: 40 },
./src/lib/strategies/index.ts:286:    typicalHoldingDays: { min: 30, max: 90 },
./src/lib/strategies/index.ts:303:    typicalHoldingDays: { min: 30, max: 90 },
./src/lib/strategies/index.ts:320:    typicalHoldingDays: { min: 30, max: 180 },
./src/lib/strategies/index.ts:337:    typicalHoldingDays: { min: 1, max: 5 },
./src/lib/strategies/index.ts:353:    typicalHoldingDays: { min: 14, max: 60 },
./src/lib/strategies/index.ts:369:    typicalHoldingDays: { min: 90, max: 365 },
./src/lib/strategies/index.ts:384:    description: 'Tro, h√•p og kj√¶rlighet. Ingen analyse, bare f√∏lelser. Statistisk taper de fleste.',
./src/lib/strategies/index.ts:389:    typicalHoldingDays: { min: 1, max: 180 },
./src/lib/strategies/index.ts:405:    typicalHoldingDays: { min: 7, max: 90 },
./src/lib/strategies/index.ts:416:    description: 'Langsiktig hold uten exit-plan. F√∏lger markedet opp og ned. Historisk ca. 8% √•rlig for indeks.',
./src/lib/strategies/index.ts:421:    typicalHoldingDays: { min: 365, max: 3650 },
./src/lib/strategies/index.ts:437:    typicalHoldingDays: { min: 1, max: 30 },
./src/lib/strategies/index.ts:457:    typicalHoldingDays: { min: 7, max: 60 },
./src/lib/strategies/index.ts:466:// STRATEGY EVALUATORS
./src/lib/strategies/index.ts:472:export function evaluateAllStrategies(input: StockAnalysisInput): StrategyEvaluation[] {
./src/lib/strategies/index.ts:473:  const results: StrategyEvaluation[] = [];
./src/lib/strategies/index.ts:475:  for (const strategy of Object.values(STRATEGIES)) {
./src/lib/strategies/index.ts:476:    if (!strategy.enabled || strategy.requiresManualInput) continue;
./src/lib/strategies/index.ts:478:    const evaluation = evaluateStrategy(strategy.id, input);
./src/lib/strategies/index.ts:480:      // Sett ALLE som "passed" - vi bruker score for rangering istedenfor pass/fail
./src/lib/strategies/index.ts:486:  // Sorter etter score - beste strategi f√∏rst
./src/lib/strategies/index.ts:487:  return results.sort((a, b) => b.score - a.score);
./src/lib/strategies/index.ts:493:export function evaluateStrategy(strategyId: StrategyId, input: StockAnalysisInput): StrategyEvaluation | null {
./src/lib/strategies/index.ts:494:  switch (strategyId) {
./src/lib/strategies/index.ts:518:function evaluateMomentumTrend(input: StockAnalysisInput): StrategyEvaluation {
./src/lib/strategies/index.ts:520:  let score = 0;
./src/lib/strategies/index.ts:522:  // TREND-INDIKATORER (hovedsakelig score-basert, bare ett hard krav)
./src/lib/strategies/index.ts:524:  // 1. Opptrend (SMA50 > SMA200) - gir h√∏y score
./src/lib/strategies/index.ts:527:    score += 25;
./src/lib/strategies/index.ts:530:    score += 5;
./src/lib/strategies/index.ts:536:    score += 20;
./src/lib/strategies/index.ts:539:    score += 10;
./src/lib/strategies/index.ts:542:    score += 5;
./src/lib/strategies/index.ts:543:    // IKKE sett passed = false lenger - la det v√¶re score-basert
./src/lib/strategies/index.ts:549:    score += 15;
./src/lib/strategies/index.ts:552:    score += 5;
./src/lib/strategies/index.ts:555:    score += 5; // Ikke hard fail lenger
./src/lib/strategies/index.ts:561:    score += 15;
./src/lib/strategies/index.ts:564:    score += 10;
./src/lib/strategies/index.ts:567:    score += 5;
./src/lib/strategies/index.ts:575:    score += 15;
./src/lib/strategies/index.ts:577:    score += 5;
./src/lib/strategies/index.ts:583:    score += 15;
./src/lib/strategies/index.ts:589:    score += 10;
./src/lib/strategies/index.ts:598:    strategyId: 'MOMENTUM_TREND',
./src/lib/strategies/index.ts:599:    passed: true, // Alle vises, score bestemmer rangering
./src/lib/strategies/index.ts:600:    score: Math.min(100, score),
./src/lib/strategies/index.ts:601:    confidence: Math.min(90, score + 10),
./src/lib/strategies/index.ts:612:function evaluateMomentumAsym(input: StockAnalysisInput): StrategyEvaluation {
./src/lib/strategies/index.ts:614:  let score = 0;
./src/lib/strategies/index.ts:616:  // TREND-INDIKATORER (score-basert, mer fleksibelt)
./src/lib/strategies/index.ts:621:    score += 20;
./src/lib/strategies/index.ts:624:    score += 5;
./src/lib/strategies/index.ts:630:    score += 15;
./src/lib/strategies/index.ts:633:    score += 8;
./src/lib/strategies/index.ts:636:    score += 3;
./src/lib/strategies/index.ts:643:    score += 20;
./src/lib/strategies/index.ts:646:    score += 15;
./src/lib/strategies/index.ts:649:    score += 5;
./src/lib/strategies/index.ts:657:    score += 10;
./src/lib/strategies/index.ts:667:    score += 25;
./src/lib/strategies/index.ts:670:    score += 15;
./src/lib/strategies/index.ts:676:    score += 15;
./src/lib/strategies/index.ts:682:    score += 15;
./src/lib/strategies/index.ts:684:    score += 5;
./src/lib/strategies/index.ts:693:    strategyId: 'MOMENTUM_ASYM',
./src/lib/strategies/index.ts:694:    passed: true, // Alle vises, score bestemmer rangering
./src/lib/strategies/index.ts:695:    score: Math.min(100, score),
./src/lib/strategies/index.ts:696:    confidence: score >= 70 ? 75 : 50,
./src/lib/strategies/index.ts:706:function evaluateBuffett(input: StockAnalysisInput): StrategyEvaluation {
./src/lib/strategies/index.ts:708:  let score = 0;
./src/lib/strategies/index.ts:714:    score += 25;
./src/lib/strategies/index.ts:717:    score += 10;
./src/lib/strategies/index.ts:726:    score += 20;
./src/lib/strategies/index.ts:729:    score += 5;
./src/lib/strategies/index.ts:738:    score += 25;
./src/lib/strategies/index.ts:741:    score += 15;
./src/lib/strategies/index.ts:750:    score += 20;
./src/lib/strategies/index.ts:752:    score += 10;
./src/lib/strategies/index.ts:759:    strategyId: 'BUFFETT',
./src/lib/strategies/index.ts:761:    score: Math.min(100, score),
./src/lib/strategies/index.ts:772:function evaluateTveitereid(input: StockAnalysisInput): StrategyEvaluation {
./src/lib/strategies/index.ts:774:  let score = 0;
./src/lib/strategies/index.ts:780:    score += 40;
./src/lib/strategies/index.ts:783:    score += 30;
./src/lib/strategies/index.ts:786:    score += 20;
./src/lib/strategies/index.ts:795:    score += 20;
./src/lib/strategies/index.ts:800:    score += 15;
./src/lib/strategies/index.ts:805:    score += 15;
./src/lib/strategies/index.ts:812:    strategyId: 'TVEITEREID',
./src/lib/strategies/index.ts:814:    score: Math.min(100, score),
./src/lib/strategies/index.ts:825:function evaluateInsider(input: StockAnalysisInput): StrategyEvaluation {
./src/lib/strategies/index.ts:827:  let score = 0;
./src/lib/strategies/index.ts:831:  if (input.insiderScore >= 60) {
./src/lib/strategies/index.ts:832:    reasoning.push(`üî• H√∏y insider-score (${input.insiderScore}) - sterkt signal`);
./src/lib/strategies/index.ts:833:    score += 50;
./src/lib/strategies/index.ts:835:  } else if (input.insiderScore >= 40) {
./src/lib/strategies/index.ts:836:    reasoning.push(`‚úÖ God insider-aktivitet (${input.insiderScore})`);
./src/lib/strategies/index.ts:837:    score += 30;
./src/lib/strategies/index.ts:839:  } else if (input.insiderBuys > 0) {
./src/lib/strategies/index.ts:840:    reasoning.push(`‚ö†Ô∏è Noen innsidekj√∏p (${input.insiderBuys})`);
./src/lib/strategies/index.ts:841:    score += 15;
./src/lib/strategies/index.ts:849:    score += 20;
./src/lib/strategies/index.ts:853:  if (input.insiderBuys >= 3) {
./src/lib/strategies/index.ts:854:    reasoning.push(`‚úÖ ${input.insiderBuys} innsidekj√∏p - konsensus!`);
./src/lib/strategies/index.ts:855:    score += 20;
./src/lib/strategies/index.ts:862:    strategyId: 'INSIDER',
./src/lib/strategies/index.ts:864:    score: Math.min(100, score),
./src/lib/strategies/index.ts:865:    confidence: input.insiderBuys >= 2 ? 70 : 50,
./src/lib/strategies/index.ts:875:function evaluateRebound(input: StockAnalysisInput): StrategyEvaluation {
./src/lib/strategies/index.ts:877:  let score = 0;
./src/lib/strategies/index.ts:883:    score += 40;
./src/lib/strategies/index.ts:887:    score += 25;
./src/lib/strategies/index.ts:896:    score += 25;
./src/lib/strategies/index.ts:899:    score += 5;
./src/lib/strategies/index.ts:905:    score += 20;
./src/lib/strategies/index.ts:912:    strategyId: 'REBOUND',
./src/lib/strategies/index.ts:914:    score: Math.min(100, score),
./src/lib/strategies/index.ts:925:// Forbedret DayTrade-score med mer sofistikerte intraday-kriterier
./src/lib/strategies/index.ts:926:function evaluateDaytrader(input: StockAnalysisInput): StrategyEvaluation {
./src/lib/strategies/index.ts:928:  let score = 0;
./src/lib/strategies/index.ts:937:    score += 30;
./src/lib/strategies/index.ts:940:    score += 22;
./src/lib/strategies/index.ts:943:    score += 15;
./src/lib/strategies/index.ts:946:    score += 8;
./src/lib/strategies/index.ts:958:    score += 25;
./src/lib/strategies/index.ts:961:    score += 20;
./src/lib/strategies/index.ts:964:    score += 12;
./src/lib/strategies/index.ts:967:    score += 5;
./src/lib/strategies/index.ts:978:    score += 25;
./src/lib/strategies/index.ts:981:    score += 18;
./src/lib/strategies/index.ts:984:    score += 12;
./src/lib/strategies/index.ts:987:    score += 6;
./src/lib/strategies/index.ts:998:    score += 15;
./src/lib/strategies/index.ts:1001:    score += 10;
./src/lib/strategies/index.ts:1004:    score += 5;
./src/lib/strategies/index.ts:1007:    score += 3;
./src/lib/strategies/index.ts:1010:    score += 5;
./src/lib/strategies/index.ts:1021:    score += 5;
./src/lib/strategies/index.ts:1033:  // FINAL DAYTRADE SCORE
./src/lib/strategies/index.ts:1042:  const finalScore = Math.min(100, score);
./src/lib/strategies/index.ts:1043:  const daytradePassed = passed && finalScore >= 50;
./src/lib/strategies/index.ts:1047:    ? Math.min(75, 40 + (finalScore - 50)) // 40-75%
./src/lib/strategies/index.ts:1048:    : Math.max(20, 40 - (50 - finalScore)); // 20-40%
./src/lib/strategies/index.ts:1051:    strategyId: 'DAYTRADER',
./src/lib/strategies/index.ts:1053:    score: finalScore,
./src/lib/strategies/index.ts:1064:function evaluateSwingShort(input: StockAnalysisInput): StrategyEvaluation {
./src/lib/strategies/index.ts:1066:  let score = 0;
./src/lib/strategies/index.ts:1071:    score += 15;
./src/lib/strategies/index.ts:1080:    score += 20;
./src/lib/strategies/index.ts:1088:    score += 20;
./src/lib/strategies/index.ts:1094:    score += 25;
./src/lib/strategies/index.ts:1099:    score += 15;
./src/lib/strategies/index.ts:1106:    strategyId: 'SWING_SHORT',
./src/lib/strategies/index.ts:1108:    score: Math.min(100, score),
./src/lib/strategies/index.ts:1125:export function getEnabledStrategies(): StrategyDefinition[] {
./src/lib/strategies/index.ts:1126:  return Object.values(STRATEGIES).filter(s => s.enabled);
./src/lib/strategies/index.ts:1132:export function getAllStrategies(): StrategyDefinition[] {
./src/lib/strategies/index.ts:1133:  return Object.values(STRATEGIES);
./src/lib/strategies/index.ts:1139:export function getManualStrategies(): StrategyDefinition[] {
./src/lib/strategies/index.ts:1141:  return Object.values(STRATEGIES).filter(s => s.enabled || s.requiresManualInput);
./src/lib/strategies/index.ts:1147:export function getStrategiesByCategory(category: StrategyCategory): StrategyDefinition[] {
./src/lib/strategies/index.ts:1148:  return Object.values(STRATEGIES).filter(s => s.category === category && s.enabled);
./src/lib/strategies/index.ts:1154:export function getStrategiesByRisk(riskLevel: RiskLevel): StrategyDefinition[] {
./src/lib/strategies/index.ts:1155:  return Object.values(STRATEGIES).filter(s => s.riskLevel === riskLevel && s.enabled);
./src/lib/strategies/index.ts:1161:export function getRecommendedAllocation(riskTolerance: 'conservative' | 'moderate' | 'aggressive'): Record<StrategyId, number> {
./src/lib/strategies/index.ts:1169:      } as Record<StrategyId, number>;
./src/lib/strategies/index.ts:1179:      } as Record<StrategyId, number>;
./src/lib/strategies/index.ts:1188:      } as Record<StrategyId, number>;
./src/lib/supabase/schema.sql:4:-- VIKTIG: Kj√∏r dette i Supabase SQL Editor
./src/lib/supabase/schema.sql:11:-- STRATEGIES TABLE (ny!)
./src/lib/supabase/schema.sql:14:CREATE TABLE IF NOT EXISTS strategies (
./src/lib/supabase/schema.sql:41:  strategy_id TEXT REFERENCES strategies(id),    -- Hovedstrategi (valgfri)
./src/lib/supabase/schema.sql:42:  allowed_strategies TEXT[],                      -- Liste over tillatte strategier
./src/lib/supabase/schema.sql:66:  strategy_id TEXT NOT NULL REFERENCES strategies(id),
./src/lib/supabase/schema.sql:100:  -- Analyse-data ved kj√∏p (for l√¶ring)
./src/lib/supabase/schema.sql:102:  entry_k_score INTEGER,
./src/lib/supabase/schema.sql:117:  strategy_id TEXT NOT NULL REFERENCES strategies(id),
./src/lib/supabase/schema.sql:121:  signal_type TEXT NOT NULL CHECK (signal_type IN ('BUY', 'SELL', 'ALERT')),
./src/lib/supabase/schema.sql:123:  -- Analyse ved signal
./src/lib/supabase/schema.sql:128:  score INTEGER,
./src/lib/supabase/schema.sql:148:  strategy_id TEXT NOT NULL REFERENCES strategies(id),  -- f.eks. 'DNB_MONTHLY'
./src/lib/supabase/schema.sql:151:  recommendation TEXT NOT NULL CHECK (recommendation IN ('BUY', 'HOLD', 'SELL')),
./src/lib/supabase/schema.sql:177:CREATE INDEX IF NOT EXISTS idx_trades_strategy ON trades(strategy_id);
./src/lib/supabase/schema.sql:181:CREATE INDEX IF NOT EXISTS idx_signals_strategy ON trade_signals(strategy_id);
./src/lib/supabase/schema.sql:185:CREATE INDEX IF NOT EXISTS idx_analyst_strategy ON analyst_picks(strategy_id);
./src/lib/supabase/schema.sql:207:-- INSERT DEFAULT STRATEGIES
./src/lib/supabase/schema.sql:209:INSERT INTO strategies (id, name, short_name, description, category, risk_level, target_return_min, target_return_max, time_horizon, color, emoji, enabled, requires_manual_input) VALUES
./src/lib/supabase/schema.sql:245:INSERT INTO portfolios (name, description, strategy_id, allowed_strategies) VALUES
./src/lib/supabase/schema.sql:262:  s.name as strategy_name,
./src/lib/supabase/schema.sql:263:  s.short_name as strategy_short,
./src/lib/supabase/schema.sql:264:  s.color as strategy_color,
./src/lib/supabase/schema.sql:265:  s.emoji as strategy_emoji,
./src/lib/supabase/schema.sql:270:JOIN strategies s ON t.strategy_id = s.id
./src/lib/supabase/schema.sql:289:CREATE OR REPLACE VIEW strategy_performance_view AS
./src/lib/supabase/schema.sql:291:  s.id as strategy_id,
./src/lib/supabase/schema.sql:292:  s.name as strategy_name,
./src/lib/supabase/schema.sql:303:FROM strategies s
./src/lib/supabase/schema.sql:304:LEFT JOIN trades t ON s.id = t.strategy_id
./src/lib/supabase/client.ts:1:import { createClient } from '@supabase/supabase-js';
./src/lib/supabase/client.ts:3:const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || '';
./src/lib/supabase/client.ts:4:const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || '';
./src/lib/supabase/client.ts:6:export const supabase = createClient(supabaseUrl, supabaseAnonKey);
./src/lib/types.ts:1:import { StrategyId, StrategyEvaluation } from './strategies';
./src/lib/types.ts:10:  // Analyse-score
./src/lib/types.ts:11:  kScore: number;
./src/lib/types.ts:13:  signal: 'BUY' | 'HOLD' | 'SELL';
./src/lib/types.ts:27:  // NYE STRATEGIER - bruker StrategyId fra strategies/index.ts
./src/lib/types.ts:28:  strategies: StrategyId[];
./src/lib/types.ts:29:  strategyEvaluations?: StrategyEvaluation[]; // Detaljert analyse per strategi
./src/lib/types.ts:32:  insiderScore?: number;
./src/lib/types.ts:33:  insiderBuys?: number;
./src/lib/types.ts:54:export type LegacyStrategyType = 'MOMENTUM' | 'BUFFETT' | 'TVEITEREID' | 'REBOUND' | 'INSIDER';
./src/lib/types.ts:56:export function mapLegacyStrategy(legacy: LegacyStrategyType): StrategyId {
./src/lib/types.ts:84:  // Strategy - NYTT: Hvilken strategi ble brukt
./src/lib/types.ts:85:  strategyId: StrategyId;
./src/lib/types.ts:125:  strategyId?: StrategyId;          // Hvis portef√∏ljen f√∏lger √©n strategi
./src/lib/types.ts:126:  allowedStrategies?: StrategyId[]; // Hvis flere strategier er tillatt
./src/lib/types.ts:159:  statsByStrategy: Record<StrategyId, {
./src/lib/types.ts:175:  strategyId: StrategyId;
./src/lib/types.ts:192:  strategyId?: StrategyId;
./src/lib/hooks/useNotifications.ts:5:interface NotificationOptions {
./src/lib/hooks/useNotifications.ts:13:export function useNotifications() {
./src/lib/hooks/useNotifications.ts:14:  const [permission, setPermission] = useState<NotificationPermission>('default');
./src/lib/hooks/useNotifications.ts:18:    // Check if browser supports notifications
./src/lib/hooks/useNotifications.ts:19:    setIsSupported('Notification' in window);
./src/lib/hooks/useNotifications.ts:21:    if ('Notification' in window) {
./src/lib/hooks/useNotifications.ts:22:      setPermission(Notification.permission);
./src/lib/hooks/useNotifications.ts:28:      console.warn('Notifications not supported in this browser');
./src/lib/hooks/useNotifications.ts:33:      const result = await Notification.requestPermission();
./src/lib/hooks/useNotifications.ts:37:      console.error('Error requesting notification permission:', error);
./src/lib/hooks/useNotifications.ts:42:  const sendNotification = useCallback(
./src/lib/hooks/useNotifications.ts:43:    (options: NotificationOptions): Notification | null => {
./src/lib/hooks/useNotifications.ts:45:        console.warn('Notifications not available or not permitted');
./src/lib/hooks/useNotifications.ts:50:        const notification = new Notification(options.title, {
./src/lib/hooks/useNotifications.ts:59:          setTimeout(() => notification.close(), 5000);
./src/lib/hooks/useNotifications.ts:62:        return notification;
./src/lib/hooks/useNotifications.ts:64:        console.error('Error creating notification:', error);
./src/lib/hooks/useNotifications.ts:71:  // Pre-defined notification types
./src/lib/hooks/useNotifications.ts:74:      return sendNotification({
./src/lib/hooks/useNotifications.ts:81:    [sendNotification]
./src/lib/hooks/useNotifications.ts:86:      return sendNotification({
./src/lib/hooks/useNotifications.ts:93:    [sendNotification]
./src/lib/hooks/useNotifications.ts:98:      return sendNotification({
./src/lib/hooks/useNotifications.ts:105:    [sendNotification]
./src/lib/hooks/useNotifications.ts:108:  const notifyBuySignal = useCallback(
./src/lib/hooks/useNotifications.ts:109:    (ticker: string, strategy: string, kScore: number) => {
./src/lib/hooks/useNotifications.ts:110:      return sendNotification({
./src/lib/hooks/useNotifications.ts:112:        body: `${ticker} har f√•tt BUY-signal p√• ${strategy} med K-Score ${kScore}`,
./src/lib/hooks/useNotifications.ts:113:        tag: `buy-signal-${ticker}`,
./src/lib/hooks/useNotifications.ts:116:    [sendNotification]
./src/lib/hooks/useNotifications.ts:121:      return sendNotification({
./src/lib/hooks/useNotifications.ts:127:    [sendNotification]
./src/lib/hooks/useNotifications.ts:135:    sendNotification,
./src/lib/hooks/useNotifications.ts:136:    // Pre-defined notifications
./src/lib/hooks/useNotifications.ts:140:    notifyBuySignal,
./src/lib/hooks/useNotifications.ts:145:// Storage key for notification settings
./src/lib/hooks/useNotifications.ts:146:const NOTIFICATION_SETTINGS_KEY = 'k-man-notification-settings';
./src/lib/hooks/useNotifications.ts:148:export interface NotificationSettings {
./src/lib/hooks/useNotifications.ts:153:  buySignals: boolean;
./src/lib/hooks/useNotifications.ts:157:export function getNotificationSettings(): NotificationSettings {
./src/lib/hooks/useNotifications.ts:164:      buySignals: true,
./src/lib/hooks/useNotifications.ts:169:  const stored = localStorage.getItem(NOTIFICATION_SETTINGS_KEY);
./src/lib/hooks/useNotifications.ts:179:    buySignals: true,
./src/lib/hooks/useNotifications.ts:184:export function saveNotificationSettings(settings: NotificationSettings): void {
./src/lib/hooks/useNotifications.ts:186:    localStorage.setItem(NOTIFICATION_SETTINGS_KEY, JSON.stringify(settings));
./src/lib/api/stock-data.ts:2:import { StrategyEvaluation, StrategyId } from '../strategies';
./src/lib/api/stock-data.ts:3:import { getCachedStocks, setCachedStocks } from './cache';
./src/lib/api/stock-data.ts:7:  calculateValidatedKScore,
./src/lib/api/stock-data.ts:11:interface YahooQuote {
./src/lib/api/stock-data.ts:31:// Cache for historiske analyser (per ticker)
./src/lib/api/stock-data.ts:32:const analysisCache: Map<string, { profile: StockAnalysisProfile; kScore: number; timestamp: number }> = new Map();
./src/lib/api/stock-data.ts:33:const ANALYSIS_CACHE_DURATION = 6 * 60 * 60 * 1000; // 6 timer
./src/lib/api/stock-data.ts:67: * Hent √©n aksje fra Yahoo Finance
./src/lib/api/stock-data.ts:69:async function fetchSingleQuote(symbol: string): Promise<YahooQuote | null> {
./src/lib/api/stock-data.ts:71:    const url = `https://query1.finance.yahoo.com/v8/finance/chart/${symbol}?interval=1d&range=1d`;
./src/lib/api/stock-data.ts:77:      cache: 'no-store',
./src/lib/api/stock-data.ts:113: * Hent aksjedata fra Yahoo Finance - BATCH + PARALLELL for maksimal hastighet
./src/lib/api/stock-data.ts:115:async function fetchYahooFinanceData(symbols: string[]): Promise<YahooQuote[]> {
./src/lib/api/stock-data.ts:122:    const batchUrl = `https://query1.finance.yahoo.com/v7/finance/quote?symbols=${symbolsParam}`;
./src/lib/api/stock-data.ts:128:      cache: 'no-store',
./src/lib/api/stock-data.ts:136:        const results: YahooQuote[] = quotes.map((q: any) => ({
./src/lib/api/stock-data.ts:154:        })).filter((q: YahooQuote) => q.regularMarketPrice > 0);
./src/lib/api/stock-data.ts:170:  const validResults = results.filter((r): r is YahooQuote => r !== null);
./src/lib/api/stock-data.ts:182:  // Finn tickers som ikke er cachet
./src/lib/api/stock-data.ts:183:  const uncached = tickers.filter(ticker => {
./src/lib/api/stock-data.ts:184:    const cached = analysisCache.get(ticker);
./src/lib/api/stock-data.ts:185:    return !cached || (Date.now() - cached.timestamp) >= ANALYSIS_CACHE_DURATION;
./src/lib/api/stock-data.ts:188:  if (uncached.length === 0) {
./src/lib/api/stock-data.ts:189:    console.log(`üì¶ All ${tickers.length} tickers already cached`);
./src/lib/api/stock-data.ts:193:  console.log(`üìä Analyzing ${uncached.length} stocks with historical data...`);
./src/lib/api/stock-data.ts:197:  const promises = uncached.map(async (ticker) => {
./src/lib/api/stock-data.ts:199:      const history = await fetchHistoricalData(ticker, 2); // 2 √•r for full analyse
./src/lib/api/stock-data.ts:203:        analysisCache.set(ticker, { profile: null as any, kScore: 50, timestamp: Date.now() });
./src/lib/api/stock-data.ts:208:      const kScore = calculateValidatedKScore(profile);
./src/lib/api/stock-data.ts:209:      analysisCache.set(ticker, { profile, kScore, timestamp: Date.now() });
./src/lib/api/stock-data.ts:211:      analysisCache.set(ticker, { profile: null as any, kScore: 50, timestamp: Date.now() });
./src/lib/api/stock-data.ts:221: * Hent eller beregn validert K-Score fra historisk data (bruker pre-fetched cache)
./src/lib/api/stock-data.ts:222: * Hvis ingen cache: Beregner en estimert K-Score fra quote-data
./src/lib/api/stock-data.ts:224:function getValidatedAnalysis(ticker: string, quote?: YahooQuote): { kScore: number; profile: StockAnalysisProfile | null } {
./src/lib/api/stock-data.ts:225:  const cached = analysisCache.get(ticker);
./src/lib/api/stock-data.ts:226:  if (cached) {
./src/lib/api/stock-data.ts:227:    return { kScore: cached.kScore, profile: cached.profile };
./src/lib/api/stock-data.ts:230:  // Fallback: Beregn estimert K-Score fra tilgjengelig data
./src/lib/api/stock-data.ts:237:    // Estimert K-Score basert p√•:
./src/lib/api/stock-data.ts:241:    const positionScore = Math.min(40, positionIn52w * 0.4);
./src/lib/api/stock-data.ts:244:    const momentumScore = Math.min(30, Math.max(0, 15 + changePercent * 3));
./src/lib/api/stock-data.ts:248:    const highScore = Math.max(0, 30 - distanceFromHigh);
./src/lib/api/stock-data.ts:250:    const estimatedKScore = Math.round(positionScore + momentumScore + highScore);
./src/lib/api/stock-data.ts:252:    return { kScore: Math.max(20, Math.min(85, estimatedKScore)), profile: null };
./src/lib/api/stock-data.ts:255:  return { kScore: 50, profile: null };
./src/lib/api/stock-data.ts:278:function calculateTechnicalIndicators(quote: YahooQuote): {
./src/lib/api/stock-data.ts:280:  kScore: number;
./src/lib/api/stock-data.ts:281:  signal: 'BUY' | 'HOLD' | 'SELL';
./src/lib/api/stock-data.ts:295:  // Hent K-Score fra cache eller estimer fra quote-data
./src/lib/api/stock-data.ts:296:  const { kScore, profile } = getValidatedAnalysis(quote.symbol, quote);
./src/lib/api/stock-data.ts:326:  // BUY = H√∏y sannsynlighet for gevinst basert p√• teknisk analyse
./src/lib/api/stock-data.ts:327:  // HOLD = Vent - ikke ideelt tidspunkt
./src/lib/api/stock-data.ts:328:  // SELL = Faresignaler - unng√• eller ta gevinst
./src/lib/api/stock-data.ts:330:  let signal: 'BUY' | 'HOLD' | 'SELL';
./src/lib/api/stock-data.ts:340:  // SELL-kriterier (klare faresignaler)
./src/lib/api/stock-data.ts:342:  const isSell = (
./src/lib/api/stock-data.ts:345:    kScore < 30 ||                                 // Veldig svak momentum-score
./src/lib/api/stock-data.ts:350:  // BUY-kriterier (BALANSERTE - poengbasert system)
./src/lib/api/stock-data.ts:352:  // For √• f√• BUY-signal trengs minst 4 av 5 kriterier:
./src/lib/api/stock-data.ts:353:  // 1. H√∏y K-Score = Sterk historisk momentum
./src/lib/api/stock-data.ts:359:  let buyPoints = 0;
./src/lib/api/stock-data.ts:360:  if (kScore >= 60) buyPoints++;          // K-Score minst 60 (litt mildere)
./src/lib/api/stock-data.ts:361:  if (kScore >= 70) buyPoints++;          // Ekstra poeng for K-Score 70+
./src/lib/api/stock-data.ts:362:  if (hasStrongMomentum) buyPoints++;      // Positiv 1m OG 3m momentum
./src/lib/api/stock-data.ts:363:  if (aboveSMA50) buyPoints++;             // Over SMA50
./src/lib/api/stock-data.ts:364:  if (inHealthyRSIZone) buyPoints++;       // RSI 35-65
./src/lib/api/stock-data.ts:365:  if (notOverbought && notOversold) buyPoints++; // RSI 30-70 (bredere range)
./src/lib/api/stock-data.ts:366:  if (riskRewardRatio >= 1.5) buyPoints++; // R/R minst 1.5
./src/lib/api/stock-data.ts:367:  if (riskRewardRatio >= 2.0) buyPoints++; // Ekstra for R/R 2.0+
./src/lib/api/stock-data.ts:369:  // BUY krever minst 5 poeng (av maks 8)
./src/lib/api/stock-data.ts:370:  const isBuy = buyPoints >= 5;
./src/lib/api/stock-data.ts:373:  if (isSell) {
./src/lib/api/stock-data.ts:374:    signal = 'SELL';
./src/lib/api/stock-data.ts:375:  } else if (isBuy) {
./src/lib/api/stock-data.ts:376:    signal = 'BUY';
./src/lib/api/stock-data.ts:378:    signal = 'HOLD';
./src/lib/api/stock-data.ts:383:    kScore: kScore,
./src/lib/api/stock-data.ts:396: * Beregn strategi-spesifikke scorer for en aksje med EKTE historisk data
./src/lib/api/stock-data.ts:399: * dokumentasjonen i /src/app/strategier/page.tsx (STRATEGY_SCORING objekt)
./src/lib/api/stock-data.ts:404: * - GOLD PICKS: Aksjer som scorer 75+ p√• BEGGE momentum-strategier
./src/lib/api/stock-data.ts:406:function calculateStrategyScores(
./src/lib/api/stock-data.ts:407:  quote: YahooQuote, 
./src/lib/api/stock-data.ts:409:): StrategyEvaluation[] {
./src/lib/api/stock-data.ts:419:  const evaluations: StrategyEvaluation[] = [];
./src/lib/api/stock-data.ts:423:  let trendScore = 0;
./src/lib/api/stock-data.ts:426:    // Ekte momentum-score basert p√• historikk
./src/lib/api/stock-data.ts:427:    trendScore += profile.return6m > 0 ? Math.min(25, profile.return6m) : 0;      // 6-mnd momentum
./src/lib/api/stock-data.ts:428:    trendScore += profile.return3m > 0 ? Math.min(15, profile.return3m) : 0;      // 3-mnd momentum
./src/lib/api/stock-data.ts:429:    trendScore += profile.currentVsSMA50 > 0 ? Math.min(20, profile.currentVsSMA50 * 2) : 0; // Over SMA50
./src/lib/api/stock-data.ts:430:    trendScore += profile.currentVsSMA200 > 0 ? 10 : 0;                           // Over SMA200
./src/lib/api/stock-data.ts:431:    trendScore += indicators.kScore * 0.3;                                         // K-Score bidrag
./src/lib/api/stock-data.ts:434:    trendScore = indicators.kScore * 0.5 + (changePercent > 0 ? 20 : 0);
./src/lib/api/stock-data.ts:438:    strategyId: 'MOMENTUM_TREND',
./src/lib/api/stock-data.ts:439:    passed: trendScore >= 60,
./src/lib/api/stock-data.ts:440:    score: Math.min(100, Math.max(10, Math.round(trendScore))),
./src/lib/api/stock-data.ts:449:  let asymScore = 0;
./src/lib/api/stock-data.ts:451:  asymScore += Math.min(30, riskRewardRatio * 10);  // R/R er viktigst (30p max)
./src/lib/api/stock-data.ts:452:  asymScore += pricePosition < 30 ? 25 : pricePosition < 50 ? 15 : 5; // Lav posisjon = upside
./src/lib/api/stock-data.ts:455:    asymScore += profile.distanceFrom52wHigh < -15 ? 20 : profile.distanceFrom52wHigh < -10 ? 10 : 0;
./src/lib/api/stock-data.ts:456:    asymScore += profile.return1m > -5 ? 15 : 0;  // Ikke i fritt fall
./src/lib/api/stock-data.ts:457:    asymScore += indicators.kScore * 0.1;
./src/lib/api/stock-data.ts:459:    asymScore += indicators.kScore * 0.2;
./src/lib/api/stock-data.ts:460:    asymScore += changePercent > -3 ? 15 : 0;
./src/lib/api/stock-data.ts:464:    strategyId: 'MOMENTUM_ASYM',
./src/lib/api/stock-data.ts:465:    passed: asymScore >= 60 && riskRewardRatio >= 2.5,
./src/lib/api/stock-data.ts:466:    score: Math.min(100, Math.max(10, Math.round(asymScore))),
./src/lib/api/stock-data.ts:475:  let buffettScore = indicators.kScore * 0.5;
./src/lib/api/stock-data.ts:476:  buffettScore += indicators.rsi < 65 ? 20 : 0;      // Ikke overkj√∏pt
./src/lib/api/stock-data.ts:477:  buffettScore += indicators.rsi > 35 ? 15 : 0;      // Ikke i panikk
./src/lib/api/stock-data.ts:478:  buffettScore += pricePosition < 75 ? 15 : 0;       // Ikke p√• ATH
./src/lib/api/stock-data.ts:481:    buffettScore += profile.avgDailyMove < 3 ? 10 : 0; // Lav volatilitet = stabilitet
./src/lib/api/stock-data.ts:485:    strategyId: 'BUFFETT',
./src/lib/api/stock-data.ts:486:    passed: buffettScore >= 65,
./src/lib/api/stock-data.ts:487:    score: Math.min(100, Math.max(10, Math.round(buffettScore))),
./src/lib/api/stock-data.ts:496:  const volumeScore = Math.min(40, volume / 200000);
./src/lib/api/stock-data.ts:497:  let tveitereidScore = volumeScore;
./src/lib/api/stock-data.ts:498:  tveitereidScore += indicators.kScore * 0.3;
./src/lib/api/stock-data.ts:499:  tveitereidScore += indicators.rsi >= 40 && indicators.rsi <= 60 ? 20 : 10;
./src/lib/api/stock-data.ts:500:  tveitereidScore += changePercent > 0 ? 10 : 0;
./src/lib/api/stock-data.ts:503:    strategyId: 'TVEITEREID',
./src/lib/api/stock-data.ts:504:    passed: tveitereidScore >= 60 && volume > 500000,
./src/lib/api/stock-data.ts:505:    score: Math.min(100, Math.max(10, Math.round(tveitereidScore))),
./src/lib/api/stock-data.ts:514:  let reboundScore = 0;
./src/lib/api/stock-data.ts:515:  reboundScore += indicators.rsi < 40 ? (40 - indicators.rsi) * 2 : 0;
./src/lib/api/stock-data.ts:516:  reboundScore += pricePosition < 25 ? 30 : pricePosition < 40 ? 20 : 10;
./src/lib/api/stock-data.ts:519:    reboundScore += profile.return1m < -10 && profile.return1m > -25 ? 25 : 0; // Nylig falt, men ikke krasj
./src/lib/api/stock-data.ts:520:    reboundScore += profile.distanceFrom52wLow < 20 ? 15 : 0;
./src/lib/api/stock-data.ts:524:    strategyId: 'REBOUND',
./src/lib/api/stock-data.ts:525:    passed: reboundScore >= 55 && indicators.rsi < 45,
./src/lib/api/stock-data.ts:526:    score: Math.min(100, Math.max(10, Math.round(reboundScore))),
./src/lib/api/stock-data.ts:535:  let swingScore = 0;
./src/lib/api/stock-data.ts:536:  swingScore += changePercent > 1 ? Math.min(35, changePercent * 10) : 0;
./src/lib/api/stock-data.ts:537:  swingScore += indicators.rsi >= 45 && indicators.rsi <= 58 ? 25 : 10;
./src/lib/api/stock-data.ts:538:  swingScore += riskRewardRatio > 1.8 ? 20 : riskRewardRatio * 10;
./src/lib/api/stock-data.ts:539:  swingScore += indicators.kScore * 0.2;
./src/lib/api/stock-data.ts:542:    strategyId: 'SWING_SHORT',
./src/lib/api/stock-data.ts:543:    passed: swingScore >= 60 && changePercent > 0.5,
./src/lib/api/stock-data.ts:544:    score: Math.min(100, Math.max(10, Math.round(swingScore))),
./src/lib/api/stock-data.ts:555: * Konverter Yahoo data til v√•rt Stock format med EKTE historisk analyse
./src/lib/api/stock-data.ts:557:function convertToStock(quote: YahooQuote): Stock {
./src/lib/api/stock-data.ts:562:  const strategyEvaluations = calculateStrategyScores(quote, indicators);
./src/lib/api/stock-data.ts:565:  const passedStrategies = strategyEvaluations
./src/lib/api/stock-data.ts:567:    .map(e => e.strategyId);
./src/lib/api/stock-data.ts:569:  // Finn momentum-scorer for GOLD/Elite klassifisering
./src/lib/api/stock-data.ts:570:  const trendEval = strategyEvaluations.find(e => e.strategyId === 'MOMENTUM_TREND');
./src/lib/api/stock-data.ts:571:  const asymEval = strategyEvaluations.find(e => e.strategyId === 'MOMENTUM_ASYM');
./src/lib/api/stock-data.ts:573:  const trendScore = trendEval?.score ?? 0;
./src/lib/api/stock-data.ts:574:  const asymScore = asymEval?.score ?? 0;
./src/lib/api/stock-data.ts:578:  // GOLD: Scorer 75+ og passerer BEGGE momentum-strategier
./src/lib/api/stock-data.ts:579:  // TREND: Passerer Trend med score 70+
./src/lib/api/stock-data.ts:580:  // ASYM: Passerer Asym med score 70+
./src/lib/api/stock-data.ts:582:  if (trendPassed && asymPassed && trendScore >= 75 && asymScore >= 75) {
./src/lib/api/stock-data.ts:584:  } else if (trendPassed && trendScore >= 70) {
./src/lib/api/stock-data.ts:586:  } else if (asymPassed && asymScore >= 70) {
./src/lib/api/stock-data.ts:596:    kScore: indicators.kScore,
./src/lib/api/stock-data.ts:605:    timeHorizon: indicators.signal === 'BUY' ? '2-4 uker' : '4-8 uker',
./src/lib/api/stock-data.ts:607:    strategies: passedStrategies.length > 0 ? passedStrategies : strategyEvaluations.map(e => e.strategyId),
./src/lib/api/stock-data.ts:608:    strategyEvaluations,
./src/lib/api/stock-data.ts:689: * 1. Hvis cache finnes og b√∏rs stengt ‚Üí bruk cache (instant)
./src/lib/api/stock-data.ts:690: * 2. Hvis cache finnes og < 5 min gammel ‚Üí bruk cache (instant)
./src/lib/api/stock-data.ts:691: * 3. Ellers: Hent kun live quotes (raskt ~2-3 sek), bruk forenklet K-Score
./src/lib/api/stock-data.ts:692: * 4. Historisk analyse gj√∏res lazy i bakgrunnen
./src/lib/api/stock-data.ts:695:  // Sjekk cache f√∏rst - unng√• un√∏dvendige API-kall n√•r b√∏rsen er stengt
./src/lib/api/stock-data.ts:696:  const cached = getCachedStocks();
./src/lib/api/stock-data.ts:697:  if (cached) {
./src/lib/api/stock-data.ts:698:    console.log('üì¶ Using cached stocks data');
./src/lib/api/stock-data.ts:699:    return cached;
./src/lib/api/stock-data.ts:702:  console.log('üîÑ Cache miss - fetching fresh data (FAST MODE)...');
./src/lib/api/stock-data.ts:707:    const quotes = await fetchYahooFinanceData(WATCHLIST);
./src/lib/api/stock-data.ts:710:      console.warn('No data from Yahoo Finance, using fallback');
./src/lib/api/stock-data.ts:716:    // STEG 2: Sjekk om vi har cachet analyse (fra tidligere kj√∏ring)
./src/lib/api/stock-data.ts:717:    const hasCachedAnalysis = validQuotes.some(q => analysisCache.has(q.symbol));
./src/lib/api/stock-data.ts:719:    if (!hasCachedAnalysis) {
./src/lib/api/stock-data.ts:720:      // F√òRSTE GANG: Gj√∏r en RASK innledende analyse (kun siste 3 m√•neder)
./src/lib/api/stock-data.ts:721:      console.log('‚ö° First load - using fast K-Score estimation...');
./src/lib/api/stock-data.ts:722:      // Vi hopper over full historisk analyse for raskere f√∏rste load
./src/lib/api/stock-data.ts:723:      // K-Score beregnes fra 52w high/low som allerede er i quote-data
./src/lib/api/stock-data.ts:725:      console.log('üìä Using cached historical analysis');
./src/lib/api/stock-data.ts:731:    // Sorter etter K-Score
./src/lib/api/stock-data.ts:732:    stocks.sort((a, b) => b.kScore - a.kScore);
./src/lib/api/stock-data.ts:737:    // Tell opp BUY-signaler
./src/lib/api/stock-data.ts:738:    const buyCount = stocks.filter(s => s.signal === 'BUY').length;
./src/lib/api/stock-data.ts:739:    console.log(`üìà BUY signals: ${buyCount}/${stocks.length}`);
./src/lib/api/stock-data.ts:741:    // Lagre i cache
./src/lib/api/stock-data.ts:742:    setCachedStocks(stocks);
./src/lib/api/stock-data.ts:744:    // STEG 4: Trigger bakgrunns-oppdatering av historisk analyse (async, blokkerer ikke)
./src/lib/api/stock-data.ts:745:    if (!hasCachedAnalysis) {
./src/lib/api/news-feeds.ts:44: * Newsweb er gratis og inneholder alle offisielle meldinger
./src/lib/api/news-feeds.ts:206: * Enkel sentiment-analyse basert p√• n√∏kkelord
./src/lib/api/news-feeds.ts:211:  let positiveScore = 0;
./src/lib/api/news-feeds.ts:212:  let negativeScore = 0;
./src/lib/api/news-feeds.ts:215:    if (lowerText.includes(word)) positiveScore++;
./src/lib/api/news-feeds.ts:219:    if (lowerText.includes(word)) negativeScore++;
./src/lib/api/news-feeds.ts:222:  if (positiveScore > negativeScore + 1) return 'positive';
./src/lib/api/news-feeds.ts:223:  if (negativeScore > positiveScore + 1) return 'negative';
./src/lib/api/stock-data-v2.ts:13:  evaluateAllStrategies, 
./src/lib/api/stock-data-v2.ts:15:  StrategyId,
./src/lib/api/stock-data-v2.ts:16:} from '../strategies';
./src/lib/api/stock-data-v2.ts:83:  'AUTO.OL': 'AutoStore Holdings',
./src/lib/api/stock-data-v2.ts:94: * Hent alle aksjer med strategi-analyse
./src/lib/api/stock-data-v2.ts:95: * Bruker det nye strategy registry systemet
./src/lib/api/stock-data-v2.ts:98:  console.log('üöÄ Fetching all stocks with Strategy Analysis...');
./src/lib/api/stock-data-v2.ts:128:        // Analyser insider-aktivitet
./src/lib/api/stock-data-v2.ts:143:          insiderScore: insiderAnalysis.score,
./src/lib/api/stock-data-v2.ts:144:          insiderBuys: insiderAnalysis.buys,
./src/lib/api/stock-data-v2.ts:150:        const strategyEvaluations = evaluateAllStrategies(analysisInput);
./src/lib/api/stock-data-v2.ts:153:        const strategies = strategyEvaluations.map(e => e.strategyId);
./src/lib/api/stock-data-v2.ts:155:        // Bestem signal og score basert p√• om noen strategier passer
./src/lib/api/stock-data-v2.ts:156:        let signal: 'BUY' | 'HOLD' | 'SELL';
./src/lib/api/stock-data-v2.ts:157:        let kScore: number;
./src/lib/api/stock-data-v2.ts:158:        let bestStrategy = strategyEvaluations[0];
./src/lib/api/stock-data-v2.ts:160:        if (strategyEvaluations.length === 0) {
./src/lib/api/stock-data-v2.ts:161:          // Ingen strategier passer - beregn en basis-score
./src/lib/api/stock-data-v2.ts:163:          const trendScore = technicals.sma20 > technicals.sma50 ? 20 : 0;
./src/lib/api/stock-data-v2.ts:164:          const rsiScore = technicals.rsi > 30 && technicals.rsi < 70 ? 15 : 0;
./src/lib/api/stock-data-v2.ts:165:          const volumeScore = technicals.relativeVolume > 1 ? 10 : 0;
./src/lib/api/stock-data-v2.ts:166:          kScore = Math.max(10, trendScore + rsiScore + volumeScore);
./src/lib/api/stock-data-v2.ts:170:            signal = 'SELL';
./src/lib/api/stock-data-v2.ts:171:          } else if (technicals.rsi < 30 || kScore >= 30) {
./src/lib/api/stock-data-v2.ts:172:            signal = 'HOLD';
./src/lib/api/stock-data-v2.ts:174:            signal = 'HOLD';
./src/lib/api/stock-data-v2.ts:177:          console.log(`‚ö™ ${symbol}: No strategies | Score: ${kScore} | Signal: ${signal}`);
./src/lib/api/stock-data-v2.ts:180:          kScore = bestStrategy.score;
./src/lib/api/stock-data-v2.ts:181:          signal = 'BUY';
./src/lib/api/stock-data-v2.ts:182:          console.log(`‚úÖ ${symbol}: ${strategies.join(', ')} | Score: ${kScore} | R/R: ${bestStrategy.riskRewardRatio}`);
./src/lib/api/stock-data-v2.ts:186:        const target = bestStrategy?.suggestedTarget || quote.c * 1.15;
./src/lib/api/stock-data-v2.ts:187:        const stopLoss = bestStrategy?.suggestedStop || quote.c * 0.92;
./src/lib/api/stock-data-v2.ts:197:          kScore,
./src/lib/api/stock-data-v2.ts:208:          timeHorizon: strategies.length > 0 ? getTimeHorizonText(strategies[0]) : '2-4 uker',
./src/lib/api/stock-data-v2.ts:213:          strategies,
./src/lib/api/stock-data-v2.ts:214:          strategyEvaluations,
./src/lib/api/stock-data-v2.ts:217:          insiderScore: insiderAnalysis.score,
./src/lib/api/stock-data-v2.ts:218:          insiderBuys: insiderAnalysis.buys,
./src/lib/api/stock-data-v2.ts:245:  // Sorter etter score
./src/lib/api/stock-data-v2.ts:246:  results.sort((a, b) => b.kScore - a.kScore);
./src/lib/api/stock-data-v2.ts:248:  console.log(`‚ú® Loaded ${results.length} stocks (${results.filter(s => s.signal === 'BUY').length} BUY, ${results.filter(s => s.signal === 'HOLD').length} HOLD, ${results.filter(s => s.signal === 'SELL').length} SELL)`);
./src/lib/api/stock-data-v2.ts:260:export function filterByStrategy(stocks: Stock[], strategyId: StrategyId): Stock[] {
./src/lib/api/stock-data-v2.ts:261:  return stocks.filter(stock => stock.strategies.includes(strategyId));
./src/lib/api/stock-data-v2.ts:267:export function filterByStrategies(stocks: Stock[], strategyIds: StrategyId[]): Stock[] {
./src/lib/api/stock-data-v2.ts:269:    strategyIds.some(id => stock.strategies.includes(id))
./src/lib/api/stock-data-v2.ts:274: * Hent aksjer sortert for en spesifikk strategi
./src/lib/api/stock-data-v2.ts:276:export function getStocksForStrategy(stocks: Stock[], strategyId: StrategyId): Stock[] {
./src/lib/api/stock-data-v2.ts:278:    .filter(stock => stock.strategies.includes(strategyId))
./src/lib/api/stock-data-v2.ts:281:      // Oppdater score til den spesifikke strategiens score
./src/lib/api/stock-data-v2.ts:282:      kScore: stock.strategyEvaluations?.find(e => e.strategyId === strategyId)?.score || stock.kScore,
./src/lib/api/stock-data-v2.ts:284:    .sort((a, b) => b.kScore - a.kScore);
./src/lib/api/stock-data-v2.ts:355:  score: number;
./src/lib/api/stock-data-v2.ts:356:  buys: number;
./src/lib/api/stock-data-v2.ts:357:  sells: number;
./src/lib/api/stock-data-v2.ts:363:    return { score: 0, buys: 0, sells: 0, netShares: 0 };
./src/lib/api/stock-data-v2.ts:366:  const buys = transactions.filter(t => t.transactionCode === 'P');
./src/lib/api/stock-data-v2.ts:367:  const sells = transactions.filter(t => t.transactionCode === 'S');
./src/lib/api/stock-data-v2.ts:369:  const buyCount = buys.length;
./src/lib/api/stock-data-v2.ts:370:  const sellCount = sells.length;
./src/lib/api/stock-data-v2.ts:372:  const buyShares = buys.reduce((sum, t) => sum + Math.abs(t.change), 0);
./src/lib/api/stock-data-v2.ts:373:  const sellShares = sells.reduce((sum, t) => sum + Math.abs(t.change), 0);
./src/lib/api/stock-data-v2.ts:374:  const netShares = buyShares - sellShares;
./src/lib/api/stock-data-v2.ts:376:  let score = 0;
./src/lib/api/stock-data-v2.ts:378:  // Buy-to-Sell ratio (0-40 points)
./src/lib/api/stock-data-v2.ts:379:  if (buyCount + sellCount > 0) {
./src/lib/api/stock-data-v2.ts:380:    const buyRatio = buyCount / (buyCount + sellCount);
./src/lib/api/stock-data-v2.ts:381:    score += buyRatio * 40;
./src/lib/api/stock-data-v2.ts:386:    score += Math.min(30, (netShares / 10000) * 10);
./src/lib/api/stock-data-v2.ts:390:  const recentBuys = buys.filter(t => {
./src/lib/api/stock-data-v2.ts:395:  if (recentBuys.length > 0) {
./src/lib/api/stock-data-v2.ts:396:    score += Math.min(30, recentBuys.length * 10);
./src/lib/api/stock-data-v2.ts:400:    score: Math.round(Math.min(100, score)),
./src/lib/api/stock-data-v2.ts:401:    buys: buyCount,
./src/lib/api/stock-data-v2.ts:402:    sells: sellCount,
./src/lib/api/stock-data-v2.ts:407:function getTimeHorizonText(strategyId: StrategyId): string {
./src/lib/api/stock-data-v2.ts:408:  const horizons: Record<StrategyId, string> = {
./src/lib/api/stock-data-v2.ts:425:  return horizons[strategyId] || '15 dager';
./src/lib/api/news-aggregator.ts:11:  relevanceScore?: number;
./src/lib/api/news-aggregator.ts:50:// Sentimentord for enkel analyse
./src/lib/api/news-aggregator.ts:54:  'kj√∏p', 'oppjusterer', 'outperform', 'buy', 'overweight'
./src/lib/api/news-aggregator.ts:60:  'sell', 'underweight', 'reduce', 'varsel', 'permitterer'
./src/lib/api/news-aggregator.ts:82:// Beregn relevans-score basert p√• n√∏kkelord og alder
./src/lib/api/news-aggregator.ts:83:export function calculateRelevanceScore(
./src/lib/api/news-aggregator.ts:87:  let score = 50; // Base score
./src/lib/api/news-aggregator.ts:94:    score += 30;
./src/lib/api/news-aggregator.ts:100:    if (title.includes(kw)) score += 5;
./src/lib/api/news-aggregator.ts:105:  if (ageInHours < 4) score += 20;
./src/lib/api/news-aggregator.ts:106:  else if (ageInHours < 24) score += 10;
./src/lib/api/news-aggregator.ts:107:  else if (ageInHours < 72) score += 5;
./src/lib/api/news-aggregator.ts:108:  else score -= 10;
./src/lib/api/news-aggregator.ts:110:  return Math.min(100, Math.max(0, score));
./src/lib/api/news-aggregator.ts:158:    .sort((a, b) => b[1] - a[1])
./src/lib/api/news-aggregator.ts:164:    .sort((a, b) => b.publishedAt.getTime() - a.publishedAt.getTime())
./src/lib/api/cache.ts:3:// Server-side cache for stock data
./src/lib/api/cache.ts:4:let stocksCache: Stock[] | null = null;
./src/lib/api/cache.ts:5:let cacheTimestamp: number = 0;
./src/lib/api/cache.ts:52:// Cache duration based on market status
./src/lib/api/cache.ts:53:function getCacheDuration(): number {
./src/lib/api/cache.ts:58:    // After market close: cache until next market open
./src/lib/api/cache.ts:63:export function isCacheValid(): boolean {
./src/lib/api/cache.ts:64:  if (!stocksCache || stocksCache.length === 0) {
./src/lib/api/cache.ts:68:  const cacheDuration = getCacheDuration();
./src/lib/api/cache.ts:69:  const cacheAge = Date.now() - cacheTimestamp;
./src/lib/api/cache.ts:71:  console.log(`üìä Cache status: ${stocksCache.length} stocks, age: ${Math.round(cacheAge / 1000)}s, max: ${Math.round(cacheDuration / 1000)}s`);
./src/lib/api/cache.ts:74:  return cacheAge < cacheDuration;
./src/lib/api/cache.ts:77:export function getCachedStocks(): Stock[] | null {
./src/lib/api/cache.ts:78:  if (isCacheValid()) {
./src/lib/api/cache.ts:79:    console.log('‚úÖ Using cached stock data');
./src/lib/api/cache.ts:80:    return stocksCache;
./src/lib/api/cache.ts:85:export function setCachedStocks(stocks: Stock[]): void {
./src/lib/api/cache.ts:86:  stocksCache = stocks;
./src/lib/api/cache.ts:87:  cacheTimestamp = Date.now();
./src/lib/api/cache.ts:88:  console.log(`üíæ Cached ${stocks.length} stocks at ${new Date().toLocaleTimeString('nb-NO')}`);
./src/lib/api/breakout-scanner.ts:15:  breakoutScore: number; // 0-100
./src/lib/api/breakout-scanner.ts:52:  // Analyser alle aksjer parallelt
./src/lib/api/breakout-scanner.ts:53:  const analyses = await Promise.all(
./src/lib/api/breakout-scanner.ts:68:  // Filtrer og sorter
./src/lib/api/breakout-scanner.ts:69:  for (const analysis of analyses) {
./src/lib/api/breakout-scanner.ts:70:    if (analysis && analysis.breakoutScore >= 50) {
./src/lib/api/breakout-scanner.ts:75:  // Sorter etter breakout score
./src/lib/api/breakout-scanner.ts:76:  candidates.sort((a, b) => b.breakoutScore - a.breakoutScore);
./src/lib/api/breakout-scanner.ts:92:  let breakoutScore = 0;
./src/lib/api/breakout-scanner.ts:106:  // 3. Analyser konsolidering
./src/lib/api/breakout-scanner.ts:109:  // 4. Analyser volum-trend
./src/lib/api/breakout-scanner.ts:116:  // SCORE BEREGNING
./src/lib/api/breakout-scanner.ts:122:    breakoutScore += 25;
./src/lib/api/breakout-scanner.ts:125:    breakoutScore += 20;
./src/lib/api/breakout-scanner.ts:128:    breakoutScore += 10;
./src/lib/api/breakout-scanner.ts:133:    breakoutScore += Math.min(25, consolidation.days * 2);
./src/lib/api/breakout-scanner.ts:139:    breakoutScore += 25;
./src/lib/api/breakout-scanner.ts:142:    breakoutScore += 15;
./src/lib/api/breakout-scanner.ts:147:    breakoutScore += Math.min(10, pattern.confidence / 10);
./src/lib/api/breakout-scanner.ts:153:    breakoutScore += 10;
./src/lib/api/breakout-scanner.ts:157:  // Cap score
./src/lib/api/breakout-scanner.ts:158:  breakoutScore = Math.min(100, breakoutScore);
./src/lib/api/breakout-scanner.ts:162:  if (breakoutScore >= 75 && distanceToBreakout < 3) {
./src/lib/api/breakout-scanner.ts:164:  } else if (breakoutScore >= 50) {
./src/lib/api/breakout-scanner.ts:174:    breakoutScore,
./src/lib/api/breakout-scanner.ts:189:// KONSOLIDERINGSANALYSE
./src/lib/api/breakout-scanner.ts:233:// VOLUMANALYSE
./src/lib/api/finnhub.ts:32:      { next: { revalidate: 300 } } // Cache i 5 minutter
./src/lib/api/finnhub.ts:63:      { next: { revalidate: 1800 } } // Cache i 30 minutter
./src/lib/api/finnhub.ts:174:      { next: { revalidate: 3600 } } // Cache i 1 time
./src/lib/api/finnhub.ts:221:      { next: { revalidate: 1800 } } // Cache i 30 minutter
./src/lib/api/k-momentum.ts:12:  score: number;
./src/lib/api/k-momentum.ts:13:  breakdownScores: {
./src/lib/api/k-momentum.ts:29:  breakoutThreshold: number; // % from 20d high to qualify
./src/lib/api/k-momentum.ts:38:  breakoutThreshold: 2, // Within 2% of 20d high
./src/lib/api/k-momentum.ts:46: * Kj√∏r K-Momentum analyse p√• en aksje
./src/lib/api/k-momentum.ts:98:  if (distanceFromHigh < -config.breakoutThreshold) {
./src/lib/api/k-momentum.ts:114:  // CALCULATE K-MOMENTUM SCORE (0-100)
./src/lib/api/k-momentum.ts:139:  const relVolumeScore = Math.min(20, (relVol - 1) * 20);
./src/lib/api/k-momentum.ts:144:  const roomScore = Math.min(15, roomToRun / 2);
./src/lib/api/k-momentum.ts:151:  let volScore = 0;
./src/lib/api/k-momentum.ts:153:    volScore = 10;
./src/lib/api/k-momentum.ts:155:    volScore = 5;
./src/lib/api/k-momentum.ts:157:    volScore = 5;
./src/lib/api/k-momentum.ts:160:  const totalScore = Math.round(
./src/lib/api/k-momentum.ts:163:    relVolumeScore + 
./src/lib/api/k-momentum.ts:164:    roomScore + 
./src/lib/api/k-momentum.ts:165:    volScore
./src/lib/api/k-momentum.ts:183:    score: totalScore,
./src/lib/api/k-momentum.ts:184:    breakdownScores: {
./src/lib/api/k-momentum.ts:187:      relVolume: Math.round(relVolumeScore),
./src/lib/api/k-momentum.ts:188:      roomToRun: Math.round(roomScore),
./src/lib/api/k-momentum.ts:189:      volatilityFit: Math.round(volScore),
./src/lib/api/k-momentum.ts:238:    score: 0,
./src/lib/api/k-momentum.ts:239:    breakdownScores: {
./src/lib/api/historical-data.ts:4: * Henter og lagrer historisk kursdata for m√∏nstergjenkjenning og analyse.
./src/lib/api/historical-data.ts:5: * Bruker Yahoo Finance API for historikk.
./src/lib/api/historical-data.ts:55:// In-memory cache for historical data
./src/lib/api/historical-data.ts:56:const historyCache: Map<string, StockHistory> = new Map();
./src/lib/api/historical-data.ts:107:  // Behold bare de 30 nyeste
./src/lib/api/historical-data.ts:116: * Parse Yahoo Finance response til candles
./src/lib/api/historical-data.ts:118:function parseYahooCandles(result: any): DailyCandle[] {
./src/lib/api/historical-data.ts:155: * Hent historisk data fra Yahoo Finance med INKREMENTELL oppdatering
./src/lib/api/historical-data.ts:158: * - 2 √•r med historikk for full analyse
./src/lib/api/historical-data.ts:164:  // 1. Sjekk in-memory cache f√∏rst (raskest)
./src/lib/api/historical-data.ts:165:  const memCached = historyCache.get(ticker);
./src/lib/api/historical-data.ts:166:  if (memCached) {
./src/lib/api/historical-data.ts:167:    const cacheAge = Date.now() - new Date(memCached.lastUpdated).getTime();
./src/lib/api/historical-data.ts:170:    if (cacheAge < sixHoursMs) {
./src/lib/api/historical-data.ts:171:      return memCached;
./src/lib/api/historical-data.ts:186:      historyCache.set(ticker, stored);
./src/lib/api/historical-data.ts:195:      const url = `https://query1.finance.yahoo.com/v8/finance/chart/${ticker}?period1=${startDate}&period2=${endDate}&interval=1d`;
./src/lib/api/historical-data.ts:208:          const newCandles = parseYahooCandles(result);
./src/lib/api/historical-data.ts:211:            // Merge: Behold gamle + legg til nye
./src/lib/api/historical-data.ts:225:            historyCache.set(ticker, stored);
./src/lib/api/historical-data.ts:233:      // Hvis delta-fetch feilet, bruk cached data uansett
./src/lib/api/historical-data.ts:234:      historyCache.set(ticker, stored);
./src/lib/api/historical-data.ts:239:      historyCache.set(ticker, stored);
./src/lib/api/historical-data.ts:244:  // 3. Ingen cached data - hent full historikk (2 √•r)
./src/lib/api/historical-data.ts:251:    const url = `https://query1.finance.yahoo.com/v8/finance/chart/${ticker}?period1=${startDate}&period2=${endDate}&interval=1d`;
./src/lib/api/historical-data.ts:260:      console.error(`Yahoo Finance error for ${ticker}: ${response.status}`);
./src/lib/api/historical-data.ts:272:    const candles = parseYahooCandles(result);
./src/lib/api/historical-data.ts:285:    // Lagre til localStorage og memory cache
./src/lib/api/historical-data.ts:287:    historyCache.set(ticker, history);
./src/lib/api/historical-data.ts:299: * Analyser historisk data og lag profil
./src/lib/api/historical-data.ts:339:  const sortedMonths = [...monthlyAvg].sort((a, b) => b.avgReturn - a.avgReturn);
./src/lib/api/historical-data.ts:340:  const bestMonths = sortedMonths.slice(0, 3);
./src/lib/api/historical-data.ts:341:  const worstMonths = sortedMonths.slice(-3).reverse();
./src/lib/api/historical-data.ts:398: * Beregn VALIDERT K-Score basert p√• momentum-forskning
./src/lib/api/historical-data.ts:403:export function calculateValidatedKScore(profile: StockAnalysisProfile): number {
./src/lib/api/historical-data.ts:404:  let score = 0;
./src/lib/api/historical-data.ts:406:  // === 1. MOMENTUM (50% av total score) ===
./src/lib/api/historical-data.ts:412:  score += momentum6m;
./src/lib/api/historical-data.ts:416:  score += momentum3m;
./src/lib/api/historical-data.ts:420:  score += momentum1m;
./src/lib/api/historical-data.ts:422:  // === 2. TREND-BEKREFTELSE (30% av total score) ===
./src/lib/api/historical-data.ts:426:    score += Math.min(15, profile.currentVsSMA50);
./src/lib/api/historical-data.ts:431:    score += Math.min(10, profile.currentVsSMA200 / 2);
./src/lib/api/historical-data.ts:436:    score += Math.min(5, Math.abs(profile.distanceFrom52wHigh) / 10);
./src/lib/api/historical-data.ts:439:  // === 3. VOLATILITET/RISIKO (20% av total score) ===
./src/lib/api/historical-data.ts:444:    score += 15;
./src/lib/api/historical-data.ts:446:    score += 10;
./src/lib/api/historical-data.ts:448:    score += 5;
./src/lib/api/historical-data.ts:453:    score += 5;
./src/lib/api/historical-data.ts:455:    score += 3;
./src/lib/api/historical-data.ts:459:  return Math.max(0, Math.min(100, Math.round(score)));
./src/lib/api/historical-data.ts:476:  recommendation: 'buy' | 'hold' | 'avoid';
./src/lib/api/historical-data.ts:487:      recommendation: 'buy',
./src/lib/api/historical-data.ts:501:    recommendation: 'hold',
./src/lib/evaluation/portfolio-evaluator.ts:9:import { STRATEGIES } from '../strategies';
./src/lib/evaluation/portfolio-evaluator.ts:22:  recommendation: 'HOLD' | 'TAKE_PROFIT' | 'ADD' | 'REDUCE' | 'CLOSE' | 'STOP_LOSS';
./src/lib/evaluation/portfolio-evaluator.ts:42:  buyRecommendations: number;
./src/lib/evaluation/portfolio-evaluator.ts:43:  sellRecommendations: number;
./src/lib/evaluation/portfolio-evaluator.ts:102:  let recommendation: TradeEvaluation['recommendation'] = 'HOLD';
./src/lib/evaluation/portfolio-evaluator.ts:117:    if (recommendation === 'HOLD') recommendation = 'REDUCE';
./src/lib/evaluation/portfolio-evaluator.ts:150:    if (recommendation === 'HOLD' && daysRemaining <= 10) {
./src/lib/evaluation/portfolio-evaluator.ts:156:  // === STRATEGY-SPECIFIC ===
./src/lib/evaluation/portfolio-evaluator.ts:157:  const strategy = STRATEGIES[trade.strategyId];
./src/lib/evaluation/portfolio-evaluator.ts:158:  if (strategy) {
./src/lib/evaluation/portfolio-evaluator.ts:159:    // Check if we're within expected holding period
./src/lib/evaluation/portfolio-evaluator.ts:160:    if (daysHeld > strategy.typicalHoldingDays.max) {
./src/lib/evaluation/portfolio-evaluator.ts:161:      reasons.push(`Over typisk holdetid for ${strategy.shortName} (${strategy.typicalHoldingDays.max} dager)`);
./src/lib/evaluation/portfolio-evaluator.ts:165:    if (pnlPercent > strategy.targetReturn.max) {
./src/lib/evaluation/portfolio-evaluator.ts:166:      alerts.push(`üìà Over forventet m√•l for ${strategy.shortName}!`);
./src/lib/evaluation/portfolio-evaluator.ts:173:      reasons.push('I pluss, fortsett √• holde mot target');
./src/lib/evaluation/portfolio-evaluator.ts:227:      buyRecommendations: evaluations.filter(e => e.recommendation === 'ADD').length,
./src/lib/evaluation/portfolio-evaluator.ts:228:      sellRecommendations: evaluations.filter(e => 
./src/lib/evaluation/portfolio-evaluator.ts:247:  const sorted = [...allEvaluations].sort((a, b) => b.pnlPercent - a.pnlPercent);
./src/lib/evaluation/portfolio-evaluator.ts:248:  const topGainers = sorted.slice(0, 3).filter(e => e.pnlPercent > 0);
./src/lib/evaluation/portfolio-evaluator.ts:249:  const topLosers = sorted.slice(-3).reverse().filter(e => e.pnlPercent < 0);
./src/lib/data/sectors.ts:142:  'AKER.OL': 'energy',     // Aker (holding, mest energi)
./src/lib/mock-data.ts:10:    kScore: 84,
./src/lib/mock-data.ts:12:    signal: 'BUY',
./src/lib/mock-data.ts:21:    strategies: ['MOMENTUM'],
./src/lib/mock-data.ts:29:    kScore: 82,
./src/lib/mock-data.ts:31:    signal: 'BUY',
./src/lib/mock-data.ts:40:    strategies: ['MOMENTUM'],
./src/lib/mock-data.ts:48:    kScore: 79,
./src/lib/mock-data.ts:50:    signal: 'BUY',
./src/lib/mock-data.ts:59:    strategies: ['MOMENTUM', 'BUFFETT'],
./src/lib/mock-data.ts:67:    kScore: 76,
./src/lib/mock-data.ts:69:    signal: 'HOLD',
./src/lib/mock-data.ts:78:    strategies: ['BUFFETT'],
./src/lib/mock-data.ts:86:    kScore: 74,
./src/lib/mock-data.ts:88:    signal: 'HOLD',
./src/lib/mock-data.ts:97:    strategies: ['MOMENTUM', 'BUFFETT'],
./src/lib/mock-data.ts:105:    kScore: 71,
./src/lib/mock-data.ts:107:    signal: 'HOLD',
./src/lib/mock-data.ts:116:    strategies: ['BUFFETT', 'TVEITEREID'],
./src/lib/mock-data.ts:124:    kScore: 68,
./src/lib/mock-data.ts:126:    signal: 'HOLD',
./src/lib/mock-data.ts:135:    strategies: ['BUFFETT'],
./src/lib/mock-data.ts:143:    kScore: 45,
./src/lib/mock-data.ts:145:    signal: 'SELL',
./src/lib/mock-data.ts:154:    strategies: ['MOMENTUM'],
./src/lib/mock-data.ts:191:    strategyBucket: 'K-Momentum',
./src/lib/mock-data.ts:197:    strategyBucket: 'Legacy',
./src/lib/notifications/email-service.ts:33:    type: 'buy' | 'sell' | 'stoploss' | 'target';
./src/lib/notifications/email-service.ts:37:  buyRecommendations: Array<{
./src/lib/notifications/email-service.ts:40:    kScore: number;
./src/lib/notifications/email-service.ts:105:            <span class="badge ${alert.type === 'buy' ? 'badge-green' : alert.type === 'sell' ? 'badge-red' : 'badge-blue'}">
./src/lib/notifications/email-service.ts:128:      ${data.buyRecommendations.length > 0 ? `
./src/lib/notifications/email-service.ts:131:        ${data.buyRecommendations.map(stock => `
./src/lib/notifications/email-service.ts:138:              <span class="badge badge-green">K-Score: ${stock.kScore}</span>
./src/lib/notifications/email-service.ts:166:${data.buyRecommendations.length > 0 ? `KJ√òPSANBEFALINGER:\n${data.buyRecommendations.map(s => `- ${s.ticker} (K-Score: ${s.kScore})`).join('\n')}` : ''}
./src/lib/notifications/webhook-service.ts:10:  type: 'buy' | 'sell' | 'stoploss' | 'target' | 'news' | 'info';
./src/lib/notifications/webhook-service.ts:21:  buy: 'üü¢',
./src/lib/notifications/webhook-service.ts:22:  sell: 'üî¥',
./src/lib/notifications/webhook-service.ts:59:    buy: 0x10B981,    // Gr√∏nn
./src/lib/notifications/webhook-service.ts:60:    sell: 0xEF4444,   // R√∏d
./src/lib/notifications/webhook-service.ts:195:  buySignal: (ticker: string, kScore: number, price: number): AlertMessage => ({
./src/lib/notifications/webhook-service.ts:196:    type: 'buy',
./src/lib/notifications/webhook-service.ts:199:    message: `${ticker} har utl√∏st et kj√∏pssignal med K-Score ${kScore}.`,
./src/lib/notifications/webhook-service.ts:201:    url: `http://localhost:3000/analyse/${ticker}`,
./src/lib/notifications/webhook-service.ts:204:  sellSignal: (ticker: string, reason: string, change: number): AlertMessage => ({
./src/lib/notifications/webhook-service.ts:205:    type: 'sell',
./src/lib/notifications/webhook-service.ts:210:    url: `http://localhost:3000/analyse/${ticker}`,
./src/lib/notifications/webhook-service.ts:229:    url: `http://localhost:3000/analyse/${ticker}`,
./src/lib/notifications/webhook-service.ts:246:    url: `http://localhost:3000/analyse/${ticker}`,
./src/lib/store/local-store.ts:2: * Local Store - Lokal lagring for utvikling uten Supabase
./src/lib/store/local-store.ts:7: * For produksjon: Bytt til Supabase
./src/lib/store/local-store.ts:11:import { StrategyId, STRATEGIES } from '../strategies';
./src/lib/store/local-store.ts:49:    strategyId: 'MOMENTUM_TREND',
./src/lib/store/local-store.ts:50:    allowedStrategies: ['MOMENTUM_TREND'],
./src/lib/store/local-store.ts:56:    strategyId: 'MOMENTUM_ASYM',
./src/lib/store/local-store.ts:57:    allowedStrategies: ['MOMENTUM_ASYM'],
./src/lib/store/local-store.ts:63:    allowedStrategies: ['MOMENTUM_TREND', 'MOMENTUM_ASYM', 'BUFFETT', 'TVEITEREID', 'INSIDER', 'DAYTRADER', 'SWING_SHORT', 'REBOUND', 'DIVIDEND_HUNTER', 'YOLO', 'FOMO', 'TIPS', 'HODL', 'UKENS_AKSJE'],
./src/lib/store/local-store.ts:69:    strategyId: 'DAYTRADER',
./src/lib/store/local-store.ts:70:    allowedStrategies: ['DAYTRADER', 'SWING_SHORT'],
./src/lib/store/local-store.ts:76:    strategyId: 'DIVIDEND_HUNTER',
./src/lib/store/local-store.ts:77:    allowedStrategies: ['DIVIDEND_HUNTER', 'BUFFETT'],
./src/lib/store/local-store.ts:83:    strategyId: 'BUFFETT',
./src/lib/store/local-store.ts:84:    allowedStrategies: ['BUFFETT', 'INSIDER'],
./src/lib/store/local-store.ts:141:  strategyId?: StrategyId;
./src/lib/store/local-store.ts:142:  allowedStrategies?: StrategyId[];
./src/lib/store/local-store.ts:150:    strategyId: data.strategyId,
./src/lib/store/local-store.ts:151:    allowedStrategies: data.allowedStrategies || (data.strategyId ? [data.strategyId] : undefined),
./src/lib/store/local-store.ts:170:  strategyId?: StrategyId;
./src/lib/store/local-store.ts:171:  allowedStrategies?: StrategyId[];
./src/lib/store/local-store.ts:182:    strategyId: data.strategyId ?? portfolios[index].strategyId,
./src/lib/store/local-store.ts:183:    allowedStrategies: data.allowedStrategies ?? portfolios[index].allowedStrategies,
./src/lib/store/local-store.ts:236:export function getTradesByStrategy(strategyId: StrategyId): Trade[] {
./src/lib/store/local-store.ts:237:  return getTrades().filter(t => t.strategyId === strategyId);
./src/lib/store/local-store.ts:255:    strategyId: input.strategyId,
./src/lib/store/local-store.ts:270:  console.log(`‚úÖ Trade created: ${input.ticker} (${input.strategyId})`);
./src/lib/store/local-store.ts:298:    strategyId: update.strategyId ?? trade.strategyId,
./src/lib/store/local-store.ts:369:export function getStrategyStats(strategyId: StrategyId) {
./src/lib/store/local-store.ts:370:  const trades = getTradesByStrategy(strategyId);
./src/lib/store/local-store.ts:491:    const sortedByDate = [...divs].sort((a, b) => b.date.getTime() - a.date.getTime());
./src/lib/store/local-store.ts:499:      lastDividendDate: sortedByDate[0]?.date,
./src/lib/store/local-store.ts:503:  return summaries.sort((a, b) => b.totalDividends - a.totalDividends);
./src/lib/store/local-store.ts:524:    // Fjern duplikat-portef√∏ljer (samme navn) - behold den med flest trades
./src/lib/store/local-store.ts:540:        // Behold den med flest trades, eller den f√∏rste standard-portef√∏ljen
./src/lib/store/local-store.ts:541:        const sorted = portfolios.sort((a, b) => {
./src/lib/store/local-store.ts:550:        // Flytt trades fra duplikatene til den vi beholder
./src/lib/store/local-store.ts:551:        const keeper = sorted[0];
./src/lib/store/local-store.ts:552:        for (let i = 1; i < sorted.length; i++) {
./src/lib/store/local-store.ts:553:          const duplicate = sorted[i];
./src/lib/store/analyst-store.ts:12:export type RecommendationType = 'KJ√òP' | 'HOLD' | 'SELG' | 'BEHOLDES';
./src/lib/store/analyst-store.ts:41:  avgHoldingDays: number;
./src/lib/store/analyst-store.ts:44:export interface InvesttechScore {
./src/lib/store/analyst-store.ts:46:  totalScore: number; // 0-100
./src/lib/store/analyst-store.ts:55:  INVESTTECH_SCORES: 'k-man-investtech-scores',
./src/lib/store/analyst-store.ts:148:// ============ INVESTTECH SCORES ============
./src/lib/store/analyst-store.ts:150:export function getInvesttechScores(): InvesttechScore[] {
./src/lib/store/analyst-store.ts:152:  const stored = localStorage.getItem(STORAGE_KEYS.INVESTTECH_SCORES);
./src/lib/store/analyst-store.ts:156:export function updateInvesttechScore(score: Omit<InvesttechScore, 'dateUpdated'>): void {
./src/lib/store/analyst-store.ts:157:  const scores = getInvesttechScores();
./src/lib/store/analyst-store.ts:158:  const index = scores.findIndex(s => s.ticker === score.ticker);
./src/lib/store/analyst-store.ts:160:  const updatedScore: InvesttechScore = {
./src/lib/store/analyst-store.ts:161:    ...score,
./src/lib/store/analyst-store.ts:166:    scores[index] = updatedScore;
./src/lib/store/analyst-store.ts:168:    scores.push(updatedScore);
./src/lib/store/analyst-store.ts:171:  localStorage.setItem(STORAGE_KEYS.INVESTTECH_SCORES, JSON.stringify(scores));
./src/lib/store/analyst-store.ts:174:export function bulkUpdateInvesttechScores(scores: Array<Omit<InvesttechScore, 'dateUpdated'>>): void {
./src/lib/store/analyst-store.ts:175:  const existing = getInvesttechScores();
./src/lib/store/analyst-store.ts:178:  for (const score of scores) {
./src/lib/store/analyst-store.ts:179:    const index = existing.findIndex(s => s.ticker === score.ticker);
./src/lib/store/analyst-store.ts:180:    const updatedScore: InvesttechScore = { ...score, dateUpdated: now };
./src/lib/store/analyst-store.ts:183:      existing[index] = updatedScore;
./src/lib/store/analyst-store.ts:185:      existing.push(updatedScore);
./src/lib/store/analyst-store.ts:189:  localStorage.setItem(STORAGE_KEYS.INVESTTECH_SCORES, JSON.stringify(existing));
./src/lib/store/analyst-store.ts:214:    let totalHoldingDays = 0;
./src/lib/store/analyst-store.ts:227:      // Calculate holding days
./src/lib/store/analyst-store.ts:230:      const holdingDays = Math.ceil((endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24));
./src/lib/store/analyst-store.ts:231:      totalHoldingDays += holdingDays;
./src/lib/store/analyst-store.ts:251:      avgHoldingDays: recs.length > 0 ? totalHoldingDays / recs.length : 0,
./src/lib/store/analyst-store.ts:255:  return results.sort((a, b) => b.winRate - a.winRate);
./src/lib/store/analyst-store.ts:269:  consensus: 'STERK_KJ√òP' | 'KJ√òP' | 'HOLD' | 'SELG' | 'STERK_SELG' | 'BLANDET';
./src/lib/store/analyst-store.ts:277:    .sort((a, b) => new Date(b.dateRecommended).getTime() - new Date(a.dateRecommended).getTime());
./src/lib/store/analyst-store.ts:292:  let buyCount = 0;
./src/lib/store/analyst-store.ts:293:  let holdCount = 0;
./src/lib/store/analyst-store.ts:294:  let sellCount = 0;
./src/lib/store/analyst-store.ts:299:    if (rec.action === 'KJ√òP') buyCount++;
./src/lib/store/analyst-store.ts:300:    else if (rec.action === 'HOLD' || rec.action === 'BEHOLDES') holdCount++;
./src/lib/store/analyst-store.ts:301:    else if (rec.action === 'SELG') sellCount++;
./src/lib/store/analyst-store.ts:313:  if (buyCount === total) {
./src/lib/store/analyst-store.ts:316:  } else if (buyCount > total * 0.7) {
./src/lib/store/analyst-store.ts:318:    agreementLevel = (buyCount / total) * 100;
./src/lib/store/analyst-store.ts:319:  } else if (sellCount === total) {
./src/lib/store/analyst-store.ts:322:  } else if (sellCount > total * 0.7) {
./src/lib/store/analyst-store.ts:324:    agreementLevel = (sellCount / total) * 100;
./src/lib/store/analyst-store.ts:325:  } else if (holdCount > total * 0.5) {
./src/lib/store/analyst-store.ts:326:    consensus = 'HOLD';
./src/lib/store/analyst-store.ts:327:    agreementLevel = (holdCount / total) * 100;
./src/lib/store/analyst-store.ts:330:    agreementLevel = Math.max(buyCount, holdCount, sellCount) / total * 100;
./src/lib/store/analyst-store.ts:355:    .sort((a, b) => {
./src/lib/store/analyst-store.ts:356:      // Sort by consensus strength
./src/lib/store/analyst-store.ts:357:      const order = { 'STERK_KJ√òP': 0, 'KJ√òP': 1, 'HOLD': 2, 'BLANDET': 3, 'SELG': 4, 'STERK_SELG': 5 };
./src/lib/store/fix-all-trades.ts:10:  { date: '2026-01-12', ticker: 'NHY.OL', name: 'Norsk Hydro', quantity: 120, price: 81.88, portfolio: 'portfolio-mixed', strategy: 'MOMENTUM_TREND' },
./src/lib/store/fix-all-trades.ts:11:  { date: '2026-01-12', ticker: 'AKRBP.OL', name: 'Aker BP', quantity: 40, price: 262.00, portfolio: 'portfolio-mixed', strategy: 'UKENS_AKSJE' },
./src/lib/store/fix-all-trades.ts:14:  { date: '2025-11-19', ticker: 'VAR.OL', name: 'V√•r Energi', quantity: 1600, price: 31.80, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER' },
./src/lib/store/fix-all-trades.ts:15:  { date: '2025-11-19', ticker: 'SATS.OL', name: 'SATS', quantity: 400, price: 35.10, portfolio: 'portfolio-mixed', strategy: 'MOMENTUM_TREND' },
./src/lib/store/fix-all-trades.ts:16:  { date: '2025-10-31', ticker: 'PROT.OL', name: 'Protector Forsikring', quantity: 22, price: 458.00, portfolio: 'portfolio-mixed', strategy: 'BUFFETT' },
./src/lib/store/fix-all-trades.ts:17:  { date: '2025-10-28', ticker: 'KID.OL', name: 'Kid', quantity: 80, price: 140.00, portfolio: 'portfolio-mixed', strategy: 'MOMENTUM_TREND' },
./src/lib/store/fix-all-trades.ts:18:  { date: '2025-10-10', ticker: 'VAR.OL', name: 'V√•r Energi', quantity: 735, price: 33.90, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER' },
./src/lib/store/fix-all-trades.ts:19:  { date: '2025-04-11', ticker: 'NOD.OL', name: 'Nordic Semiconductor', quantity: 370, price: 103.10, portfolio: 'portfolio-mixed', strategy: 'TVEITEREID' },
./src/lib/store/fix-all-trades.ts:20:  { date: '2025-03-28', ticker: 'NOVO-B.CO', name: 'Novo Nordisk B', quantity: 20, price: 477.00, portfolio: 'portfolio-mixed', strategy: 'BUFFETT' },
./src/lib/store/fix-all-trades.ts:21:  { date: '2025-02-26', ticker: 'VAR.OL', name: 'V√•r Energi', quantity: 265, price: 32.12, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER' },
./src/lib/store/fix-all-trades.ts:22:  { date: '2025-02-11', ticker: 'SATS.OL', name: 'SATS', quantity: 400, price: 28.25, portfolio: 'portfolio-mixed', strategy: 'MOMENTUM_TREND' },
./src/lib/store/fix-all-trades.ts:23:  { date: '2025-01-23', ticker: 'KIT.OL', name: 'Kitron', quantity: 250, price: 39.20, portfolio: 'portfolio-mixed', strategy: 'MOMENTUM_TREND' },
./src/lib/store/fix-all-trades.ts:26:  { date: '2024-12-12', ticker: 'HAUTO.OL', name: 'H√∂egh Autoliners', quantity: 100, price: 107.00, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER' },
./src/lib/store/fix-all-trades.ts:27:  { date: '2024-12-12', ticker: 'MPCC.OL', name: 'MPC Container Ships', quantity: 500, price: 20.50, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER' },
./src/lib/store/fix-all-trades.ts:28:  { date: '2024-11-28', ticker: 'MPCC.OL', name: 'MPC Container Ships', quantity: 1000, price: 21.80, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER' },
./src/lib/store/fix-all-trades.ts:29:  { date: '2024-11-27', ticker: 'TGS.OL', name: 'TGS', quantity: 200, price: 105.20, portfolio: 'portfolio-mixed', strategy: 'TVEITEREID' },
./src/lib/store/fix-all-trades.ts:30:  { date: '2024-11-27', ticker: 'HAUTO.OL', name: 'H√∂egh Autoliners', quantity: 200, price: 123.90, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER' },
./src/lib/store/fix-all-trades.ts:31:  { date: '2024-11-27', ticker: 'WAWI.OL', name: 'Wallenius Wilhelmsen', quantity: 200, price: 106.00, portfolio: 'portfolio-mixed', strategy: 'MOMENTUM_TREND' },
./src/lib/store/fix-all-trades.ts:32:  { date: '2024-08-05', ticker: 'VAR.OL', name: 'V√•r Energi', quantity: 200, price: 32.73, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER' },
./src/lib/store/fix-all-trades.ts:33:  { date: '2024-08-02', ticker: 'NOD.OL', name: 'Nordic Semiconductor', quantity: 80, price: 131.50, portfolio: 'portfolio-mixed', strategy: 'TVEITEREID' },
./src/lib/store/fix-all-trades.ts:34:  { date: '2024-07-26', ticker: 'VAR.OL', name: 'V√•r Energi', quantity: 530, price: 35.20, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER' },
./src/lib/store/fix-all-trades.ts:35:  { date: '2024-07-26', ticker: 'NOD.OL', name: 'Nordic Semiconductor', quantity: 150, price: 134.40, portfolio: 'portfolio-mixed', strategy: 'TVEITEREID' },
./src/lib/store/fix-all-trades.ts:36:  { date: '2024-04-19', ticker: 'VAR.OL', name: 'V√•r Energi', quantity: 270, price: 37.00, portfolio: 'portfolio-dividend', strategy: 'DIVIDEND_HUNTER' },
./src/lib/store/fix-all-trades.ts:37:  { date: '2024-04-16', ticker: 'AKRBP.OL', name: 'Aker BP', quantity: 35, price: 290.00, portfolio: 'portfolio-mixed', strategy: 'MOMENTUM_TREND' },
./src/lib/store/fix-all-trades.ts:38:  { date: '2024-04-03', ticker: 'KIT.OL', name: 'Kitron', quantity: 300, price: 32.48, portfolio: 'portfolio-mixed', strategy: 'MOMENTUM_TREND' },
./src/lib/store/fix-all-trades.ts:52:  strategyId: t.strategy,
./src/lib/store/trade-journal.ts:4: * Logger trades med notater, f√∏lelser, og AI-analyse
./src/lib/store/trade-journal.ts:30:  kScoreAtEntry: number;
./src/lib/store/trade-journal.ts:32:  signalAtEntry: 'BUY' | 'HOLD' | 'SELL';
./src/lib/store/trade-journal.ts:34:  // AI Analyse (generert)
./src/lib/store/trade-journal.ts:46:  holdingDays?: number;
./src/lib/store/trade-journal.ts:114:  let score = 50;
./src/lib/store/trade-journal.ts:116:  // Analyse entry timing
./src/lib/store/trade-journal.ts:117:  if (entry.signalAtEntry === 'BUY' && entry.kScoreAtEntry >= 70) {
./src/lib/store/trade-journal.ts:119:    score += 10;
./src/lib/store/trade-journal.ts:120:  } else if (entry.signalAtEntry === 'SELL' && entry.kScoreAtEntry < 40) {
./src/lib/store/trade-journal.ts:122:    lessons.push('Vent p√• BUY-signal f√∏r kj√∏p');
./src/lib/store/trade-journal.ts:123:    score -= 15;
./src/lib/store/trade-journal.ts:124:  } else if (entry.signalAtEntry === 'HOLD') {
./src/lib/store/trade-journal.ts:125:    if (entry.kScoreAtEntry >= 60) {
./src/lib/store/trade-journal.ts:128:      mistakes.push('Kj√∏pte uten klart BUY-signal');
./src/lib/store/trade-journal.ts:130:      score -= 5;
./src/lib/store/trade-journal.ts:138:    score -= 10;
./src/lib/store/trade-journal.ts:147:    score += 5;
./src/lib/store/trade-journal.ts:153:    lessons.push('FOMO f√∏rer ofte til d√•rlig timing. Ta en pause og analyser objektivt.');
./src/lib/store/trade-journal.ts:154:    score -= 15;
./src/lib/store/trade-journal.ts:158:    score -= 10;
./src/lib/store/trade-journal.ts:161:    score += 10;
./src/lib/store/trade-journal.ts:169:    score += 10;
./src/lib/store/trade-journal.ts:172:    lessons.push('Disiplin er n√∏kkelen - lag en plan og hold deg til den');
./src/lib/store/trade-journal.ts:173:    score -= 10;
./src/lib/store/trade-journal.ts:180:      score += 15;
./src/lib/store/trade-journal.ts:183:      score += 10;
./src/lib/store/trade-journal.ts:187:      score -= 10;
./src/lib/store/trade-journal.ts:189:      lessons.push('Moderat tap - analyser hva som gikk galt');
./src/lib/store/trade-journal.ts:190:      score -= 5;
./src/lib/store/trade-journal.ts:194:  // Holding time analysis
./src/lib/store/trade-journal.ts:195:  if (entry.holdingDays !== undefined) {
./src/lib/store/trade-journal.ts:196:    if (entry.holdingDays < 3 && entry.returnPercent && entry.returnPercent < 0) {
./src/lib/store/trade-journal.ts:197:      mistakes.push('Kort holdetid med tap - mulig panikksalg');
./src/lib/store/trade-journal.ts:199:    } else if (entry.holdingDays > 60 && entry.returnPercent && entry.returnPercent < 5) {
./src/lib/store/trade-journal.ts:200:      lessons.push('Lang holdetid med lav avkastning - vurder kapitalalternativkostnad');
./src/lib/store/trade-journal.ts:206:  if (score >= 80) grade = 'A';
./src/lib/store/trade-journal.ts:207:  else if (score >= 65) grade = 'B';
./src/lib/store/trade-journal.ts:208:  else if (score >= 50) grade = 'C';
./src/lib/store/trade-journal.ts:209:  else if (score >= 35) grade = 'D';
./src/lib/store/trade-journal.ts:213:  const wouldRecommend = score >= 60 && 
./src/lib/store/trade-journal.ts:214:    entry.signalAtEntry === 'BUY' && 
./src/lib/store/trade-journal.ts:215:    entry.kScoreAtEntry >= 60 &&
./src/lib/store/trade-journal.ts:235:  avgHoldingDays: number;
./src/lib/store/trade-journal.ts:252:      avgHoldingDays: 0,
./src/lib/store/trade-journal.ts:275:  const avgHoldingDays = completedEntries.length > 0
./src/lib/store/trade-journal.ts:276:    ? completedEntries.reduce((sum, e) => sum + (e.holdingDays || 0), 0) / completedEntries.length
./src/lib/store/trade-journal.ts:321:    .sort((a, b) => b.count - a.count)
./src/lib/store/trade-journal.ts:334:    avgHoldingDays,
./src/lib/store/index.ts:4: * Eksporterer enten lokal store eller Supabase basert p√• konfigurasjon.
./src/lib/store/index.ts:9: * - Produksjon: Fjern variabelen eller sett til false, og konfigurer Supabase
./src/lib/store/index.ts:13:// TODO: Legg til Supabase-implementasjon og automatisk switch
./src/lib/store/index.ts:26:  getTradesByStrategy,
./src/lib/store/index.ts:43:  getStrategyStats,
./src/lib/store/article-tips.ts:9: * Kobler artikler til aksjer for √• vise p√• analyse-siden.
./src/lib/store/article-tips.ts:13:export type MentionType = 'insider_buy' | 'insider_sell' | 'analyst_upgrade' | 'analyst_downgrade' | 'technical_signal' | 'news' | 'tip';
./src/lib/store/article-tips.ts:137:  return results.sort((a, b) => 
./src/lib/store/article-tips.ts:147:    .sort((a, b) => new Date(b.publishedDate).getTime() - new Date(a.publishedDate).getTime())
./src/lib/store/article-tips.ts:200:    mentionType: 'insider_buy' as MentionType,
./src/lib/store/article-tips.ts:285:    .sort((a, b) => b.count - a.count)
./src/lib/store/seed-article.ts:19:    url: 'https://e24.no/boers-og-finans/i/investtech-analyser',
./src/lib/store/seed-article.ts:20:    summary: 'Ti selskaper f√•r toppscore p√• Investtechs innsidehandelrangering, tre virker s√¶rdeles spennende. 79 av aksjene p√• Oslo B√∏rs er n√• positive p√• innsidehandler. Statistikk viser at aksjer med innsidekj√∏p i gjennomsnitt steg 4,7% de etterf√∏lgende 66 b√∏rsdagene, mot 2,8% for referanseindeksen.',
./src/lib/store/seed-article.ts:35:        highlight: '5 innsidekj√∏p i nov/des. CEO kj√∏pte for 1,6 mill kr. Teknisk analyse sv√¶rt positiv p√• lang sikt, stigende trendkanal. Motstand 115-118 kr.',
./src/lib/store/seed-article.ts:61:        name: 'Tekna Holding ASA',
